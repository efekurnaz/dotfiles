var wf=Object.create,Nr=Object.defineProperty,Pf=Object.getPrototypeOf,Rf=Object.prototype.hasOwnProperty,Cf=Object.getOwnPropertyNames,Of=Object.getOwnPropertyDescriptor;var Ta=e=>Nr(e,"__esModule",{value:!0});var H=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Nf=(e,t)=>{for(var n in t)Nr(e,n,{get:t[n],enumerable:!0})},qf=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Cf(t))!Rf.call(e,r)&&r!=="default"&&Nr(e,r,{get:()=>t[r],enumerable:!(n=Of(t,r))||n.enumerable});return e},lt=e=>qf(Ta(Nr(e!=null?wf(Pf(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var qr=H(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.thenable=_e.typedArray=_e.stringArray=_e.array=_e.func=_e.error=_e.number=_e.string=_e.boolean=void 0;function Ef(e){return e===!0||e===!1}_e.boolean=Ef;function _a(e){return typeof e=="string"||e instanceof String}_e.string=_a;function jf(e){return typeof e=="number"||e instanceof Number}_e.number=jf;function Mf(e){return e instanceof Error}_e.error=Mf;function Da(e){return typeof e=="function"}_e.func=Da;function wa(e){return Array.isArray(e)}_e.array=wa;function Af(e){return wa(e)&&e.every(t=>_a(t))}_e.stringArray=Af;function Ff(e,t){return Array.isArray(e)&&e.every(t)}_e.typedArray=Ff;function Lf(e){return e&&Da(e.then)}_e.thenable=Lf});var Ct=H(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var Ai;function Fi(){if(Ai===void 0)throw new Error("No runtime abstraction layer installed");return Ai}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ai=n}e.install=t})(Fi||(Fi={}));Mi.default=Fi});var Li=H(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Disposable=void 0;var If;(function(e){function t(n){return{dispose:n}}e.create=t})(If=Yn.Disposable||(Yn.Disposable={}))});var Ra=H(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.AbstractMessageBuffer=void 0;var Wf=13,$f=10,Vf=`\r
`,Pa=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];r=0;t:for(;r<f.length;){switch(f[r]){case Wf:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case $f:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}i+=f.byteLength,n++}if(t!==4)return;let o=this._read(i+r),s=new Map,a=this.toString(o,"ascii").split(Vf);if(a.length<2)return s;for(let f=0;f<a.length-2;f++){let u=a[f],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let m=u.substr(0,c),p=u.substr(c+1).trim();s.set(m,p)}return s}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),r=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);n.set(s,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}};Er.AbstractMessageBuffer=Pa});var Ea=H(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var Hf=Ct(),Ca=require("util"),Yt=Li(),Bf=Ra(),Zn=class extends Bf.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Zn.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new Ca.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Zn.emptyBuffer=Buffer.allocUnsafe(0);var Oa=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Yt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Yt.Disposable.create(()=>this.stream.off("data",t))}},Na=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Yt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,i)=>{let o=s=>{s==null?r():i(s)};typeof t=="string"?this.stream.write(t,n,o):this.stream.write(t,o)})}end(){this.stream.end()}},qa=Object.freeze({messageBuffer:Object.freeze({create:e=>new Zn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Ca.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new Oa(e),asWritableStream:e=>new Na(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Wi(){return qa}(function(e){function t(){Hf.default.install(qa)}e.install=t})(Wi||(Wi={}));Ii.default=Wi});var gn=H(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.stringArray=We.array=We.func=We.error=We.number=We.string=We.boolean=void 0;function zf(e){return e===!0||e===!1}We.boolean=zf;function ja(e){return typeof e=="string"||e instanceof String}We.string=ja;function Uf(e){return typeof e=="number"||e instanceof Number}We.number=Uf;function Jf(e){return e instanceof Error}We.error=Jf;function Gf(e){return typeof e=="function"}We.func=Gf;function Ma(e){return Array.isArray(e)}We.array=Ma;function Kf(e){return Ma(e)&&e.every(t=>ja(t))}We.stringArray=Kf});var $i=H(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.Message=K.NotificationType9=K.NotificationType8=K.NotificationType7=K.NotificationType6=K.NotificationType5=K.NotificationType4=K.NotificationType3=K.NotificationType2=K.NotificationType1=K.NotificationType0=K.NotificationType=K.RequestType9=K.RequestType8=K.RequestType7=K.RequestType6=K.RequestType5=K.RequestType4=K.RequestType3=K.RequestType2=K.RequestType1=K.RequestType=K.RequestType0=K.AbstractMessageSignature=K.ParameterStructures=K.ResponseError=K.ErrorCodes=void 0;var Zt=gn(),Aa;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Aa=K.ErrorCodes||(K.ErrorCodes={}));var jr=class extends Error{constructor(t,n,r){super(n);this.code=Zt.number(t)?t:Aa.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,jr.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};K.ResponseError=jr;var Ee=class{constructor(t){this.kind=t}static is(t){return t===Ee.auto||t===Ee.byName||t===Ee.byPosition}toString(){return this.kind}};K.ParameterStructures=Ee;Ee.auto=new Ee("auto");Ee.byPosition=new Ee("byPosition");Ee.byName=new Ee("byName");var me=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Ee.auto}};K.AbstractMessageSignature=me;var Fa=class extends me{constructor(t){super(t,0)}};K.RequestType0=Fa;var La=class extends me{constructor(t,n=Ee.auto){super(t,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};K.RequestType=La;var Ia=class extends me{constructor(t,n=Ee.auto){super(t,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};K.RequestType1=Ia;var Wa=class extends me{constructor(t){super(t,2)}};K.RequestType2=Wa;var $a=class extends me{constructor(t){super(t,3)}};K.RequestType3=$a;var Va=class extends me{constructor(t){super(t,4)}};K.RequestType4=Va;var Ha=class extends me{constructor(t){super(t,5)}};K.RequestType5=Ha;var Ba=class extends me{constructor(t){super(t,6)}};K.RequestType6=Ba;var za=class extends me{constructor(t){super(t,7)}};K.RequestType7=za;var Ua=class extends me{constructor(t){super(t,8)}};K.RequestType8=Ua;var Ja=class extends me{constructor(t){super(t,9)}};K.RequestType9=Ja;var Ga=class extends me{constructor(t,n=Ee.auto){super(t,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};K.NotificationType=Ga;var Ka=class extends me{constructor(t){super(t,0)}};K.NotificationType0=Ka;var Xa=class extends me{constructor(t,n=Ee.auto){super(t,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};K.NotificationType1=Xa;var Ya=class extends me{constructor(t){super(t,2)}};K.NotificationType2=Ya;var Za=class extends me{constructor(t){super(t,3)}};K.NotificationType3=Za;var Qa=class extends me{constructor(t){super(t,4)}};K.NotificationType4=Qa;var ec=class extends me{constructor(t){super(t,5)}};K.NotificationType5=ec;var tc=class extends me{constructor(t){super(t,6)}};K.NotificationType6=tc;var nc=class extends me{constructor(t){super(t,7)}};K.NotificationType7=nc;var rc=class extends me{constructor(t){super(t,8)}};K.NotificationType8=rc;var ic=class extends me{constructor(t){super(t,9)}};K.NotificationType9=ic;var Xf;(function(e){function t(i){let o=i;return o&&Zt.string(o.method)&&(Zt.string(o.id)||Zt.number(o.id))}e.isRequest=t;function n(i){let o=i;return o&&Zt.string(o.method)&&i.id===void 0}e.isNotification=n;function r(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Zt.string(o.id)||Zt.number(o.id)||o.id===null)}e.isResponse=r})(Xf=K.Message||(K.Message={}))});var Hi=H(Ot=>{"use strict";var oc;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.LRUCache=Ot.LinkedMap=Ot.Touch=void 0;var ze;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(ze=Ot.Touch||(Ot.Touch={}));var Vi=class{constructor(){this[oc]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=ze.None){let r=this._map.get(t);if(!!r)return n!==ze.None&&this.touch(r,n),r.value}set(t,n,r=ze.None){let i=this._map.get(t);if(i)i.value=n,r!==ze.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case ze.None:this.addItemLast(i);break;case ze.First:this.addItemFirst(i);break;case ze.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(oc=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ze.First&&n!==ze.Last)){if(n===ze.First){if(t===this._head)return;let r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===ze.Last){if(t===this._tail)return;let r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};Ot.LinkedMap=Vi;var sc=class extends Vi{constructor(t,n=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=ze.AsNew){return super.get(t,n)}peek(t){return super.get(t,ze.None)}set(t,n){return super.set(t,n,ze.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ot.LRUCache=sc});var mn=H(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Emitter=Qt.Event=void 0;var Yf=Ct(),Zf;(function(e){let t={dispose(){}};e.None=function(){return t}})(Zf=Qt.Event||(Qt.Event={}));var ac=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],t))}catch(a){(0,Yf.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Qn=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new ac),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,n),i.dispose=Qn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Qt.Emitter=Qn;Qn._noop=function(){}});var Ji=H(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.CancellationTokenSource=en.CancellationToken=void 0;var Qf=Ct(),ed=gn(),Bi=mn(),zi;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Bi.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Bi.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||ed.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(zi=en.CancellationToken||(en.CancellationToken={}));var td=Object.freeze(function(e,t){let n=(0,Qf.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Ui=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?td:(this._emitter||(this._emitter=new Bi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},cc=class{get token(){return this._token||(this._token=new Ui),this._token}cancel(){this._token?this._token.cancel():this._token=zi.Cancelled}dispose(){this._token?this._token instanceof Ui&&this._token.dispose():this._token=zi.None}};en.CancellationTokenSource=cc});var lc=H(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.ReadableStreamMessageReader=Nt.AbstractMessageReader=Nt.MessageReader=void 0;var Gi=Ct(),yn=gn(),Ki=mn(),nd;(function(e){function t(n){let r=n;return r&&yn.func(r.listen)&&yn.func(r.dispose)&&yn.func(r.onError)&&yn.func(r.onClose)&&yn.func(r.onPartialMessage)}e.is=t})(nd=Nt.MessageReader||(Nt.MessageReader={}));var Xi=class{constructor(){this.errorEmitter=new Ki.Emitter,this.closeEmitter=new Ki.Emitter,this.partialMessageEmitter=new Ki.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${yn.string(t.message)?t.message:"unknown"}`)}};Nt.AbstractMessageReader=Xi;var Yi;(function(e){function t(n){var u;let r,i,o,s=new Map,a,f=new Map;if(n===void 0||typeof n=="string")r=n!=null?n:"utf-8";else{if(r=(u=n.charset)!=null?u:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,s.set(o.name,o)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)s.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,f.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)f.set(c.name,c)}return a===void 0&&(a=(0,Gi.default)().applicationJson.decoder,f.set(a.name,a)),{charset:r,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:f}}e.fromOptions=t})(Yi||(Yi={}));var uc=class extends Xi{constructor(t,n){super();this.readable=t,this.options=Yi.fromOptions(n),this.buffer=(0,Gi.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gi.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Nt.ReadableStreamMessageReader=uc});var dc=H(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Semaphore=void 0;var rd=Ct(),fc=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,rd.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};Mr.Semaphore=fc});var yc=H(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.WriteableStreamMessageWriter=qt.AbstractMessageWriter=qt.MessageWriter=void 0;var hc=Ct(),er=gn(),id=dc(),pc=mn(),od="Content-Length: ",gc=`\r
`,sd;(function(e){function t(n){let r=n;return r&&er.func(r.dispose)&&er.func(r.onClose)&&er.func(r.onError)&&er.func(r.write)}e.is=t})(sd=qt.MessageWriter||(qt.MessageWriter={}));var Zi=class{constructor(){this.errorEmitter=new pc.Emitter,this.closeEmitter=new pc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${er.string(t.message)?t.message:"unknown"}`)}};qt.AbstractMessageWriter=Zi;var Qi;(function(e){function t(n){var r,i;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,hc.default)().applicationJson.encoder}:{charset:(r=n.charset)!=null?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!=null?i:(0,hc.default)().applicationJson.encoder}}e.fromOptions=t})(Qi||(Qi={}));var mc=class extends Zi{constructor(t,n){super();this.writable=t,this.options=Qi.fromOptions(n),this.errorCount=0,this.writeSemaphore=new id.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(od,r.byteLength.toString(),gc),i.push(gc),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};qt.WriteableStreamMessageWriter=mc});var _c=H(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.createMessageConnection=X.ConnectionOptions=X.CancellationStrategy=X.CancellationSenderStrategy=X.CancellationReceiverStrategy=X.ConnectionStrategy=X.ConnectionError=X.ConnectionErrors=X.LogTraceNotification=X.SetTraceNotification=X.TraceFormat=X.TraceValues=X.Trace=X.NullLogger=X.ProgressType=X.ProgressToken=void 0;var vc=Ct(),Pe=gn(),Y=$i(),bc=Hi(),tr=mn(),eo=Ji(),nr;(function(e){e.type=new Y.NotificationType("$/cancelRequest")})(nr||(nr={}));var Sc;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(Sc=X.ProgressToken||(X.ProgressToken={}));var rr;(function(e){e.type=new Y.NotificationType("$/progress")})(rr||(rr={}));var xc=class{constructor(){}};X.ProgressType=xc;var to;(function(e){function t(n){return Pe.func(n)}e.is=t})(to||(to={}));X.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var le;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(le=X.Trace||(X.Trace={}));var ad;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(ad=X.TraceValues||(X.TraceValues={}));(function(e){function t(r){if(!Pe.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(le=X.Trace||(X.Trace={}));var ft;(function(e){e.Text="text",e.JSON="json"})(ft=X.TraceFormat||(X.TraceFormat={}));(function(e){function t(n){return Pe.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(ft=X.TraceFormat||(X.TraceFormat={}));var kc;(function(e){e.type=new Y.NotificationType("$/setTrace")})(kc=X.SetTraceNotification||(X.SetTraceNotification={}));var no;(function(e){e.type=new Y.NotificationType("$/logTrace")})(no=X.LogTraceNotification||(X.LogTraceNotification={}));var Ar;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Ar=X.ConnectionErrors||(X.ConnectionErrors={}));var tn=class extends Error{constructor(t,n){super(n);this.code=t,Object.setPrototypeOf(this,tn.prototype)}};X.ConnectionError=tn;var Tc;(function(e){function t(n){let r=n;return r&&Pe.func(r.cancelUndispatched)}e.is=t})(Tc=X.ConnectionStrategy||(X.ConnectionStrategy={}));var ro;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new eo.CancellationTokenSource}});function t(n){let r=n;return r&&Pe.func(r.createCancellationTokenSource)}e.is=t})(ro=X.CancellationReceiverStrategy||(X.CancellationReceiverStrategy={}));var io;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(nr.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&Pe.func(r.sendCancellation)&&Pe.func(r.cleanup)}e.is=t})(io=X.CancellationSenderStrategy||(X.CancellationSenderStrategy={}));var oo;(function(e){e.Message=Object.freeze({receiver:ro.Message,sender:io.Message});function t(n){let r=n;return r&&ro.is(r.receiver)&&io.is(r.sender)}e.is=t})(oo=X.CancellationStrategy||(X.CancellationStrategy={}));var cd;(function(e){function t(n){let r=n;return r&&(oo.is(r.cancellationStrategy)||Tc.is(r.connectionStrategy))}e.is=t})(cd=X.ConnectionOptions||(X.ConnectionOptions={}));var dt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(dt||(dt={}));function ud(e,t,n,r){let i=n!==void 0?n:X.NullLogger,o=0,s=0,a=0,f="2.0",u,c=new Map,m,p=new Map,v=new Map,y,S=new bc.LinkedMap,D=new Map,k=new Set,d=new Map,l=le.Off,g=ft.Text,x,E=dt.New,b=new tr.Emitter,w=new tr.Emitter,_=new tr.Emitter,q=new tr.Emitter,I=new tr.Emitter,R=r&&r.cancellationStrategy?r.cancellationStrategy:oo.Message;function L(T){if(T===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+T.toString()}function U(T){return T===null?"res-unknown-"+(++a).toString():"res-"+T.toString()}function ee(){return"not-"+(++s).toString()}function se(T,F){Y.Message.isRequest(F)?T.set(L(F.id),F):Y.Message.isResponse(F)?T.set(U(F.id),F):T.set(ee(),F)}function A(T){}function C(){return E===dt.Listening}function N(){return E===dt.Closed}function M(){return E===dt.Disposed}function z(){(E===dt.New||E===dt.Listening)&&(E=dt.Closed,w.fire(void 0))}function G(T){b.fire([T,void 0,void 0])}function Z(T){b.fire(T)}e.onClose(z),e.onError(G),t.onClose(z),t.onError(Z);function et(){y||S.size===0||(y=(0,vc.default)().timer.setImmediate(()=>{y=void 0,Ne()}))}function Ne(){if(S.size===0)return;let T=S.shift();try{Y.Message.isRequest(T)?ut(T):Y.Message.isNotification(T)?Rr(T):Y.Message.isResponse(T)?Ye(T):Cr(T)}finally{et()}}let He=T=>{try{if(Y.Message.isNotification(T)&&T.method===nr.type.method){let F=T.params.id,$=L(F),J=S.get($);if(Y.Message.isRequest(J)){let ge=r==null?void 0:r.connectionStrategy,fe=ge&&ge.cancelUndispatched?ge.cancelUndispatched(J,A):A(J);if(fe&&(fe.error!==void 0||fe.result!==void 0)){S.delete($),d.delete(F),fe.id=J.id,Or(fe,T.method,Date.now()),t.write(fe).catch(()=>i.error("Sending response for canceled message failed."));return}}let pe=d.get(F);if(pe!==void 0){pe.cancel(),Ei(T);return}else k.add(F)}se(S,T)}finally{et()}};function ut(T){var qe;if(M())return;function F(ue,Se,de){let Te={jsonrpc:f,id:T.id};ue instanceof Y.ResponseError?Te.error=ue.toJson():Te.result=ue===void 0?null:ue,Or(Te,Se,de),t.write(Te).catch(()=>i.error("Sending response failed."))}function $(ue,Se,de){let Te={jsonrpc:f,id:T.id,error:ue.toJson()};Or(Te,Se,de),t.write(Te).catch(()=>i.error("Sending response failed."))}function J(ue,Se,de){ue===void 0&&(ue=null);let Te={jsonrpc:f,id:T.id,result:ue};Or(Te,Se,de),t.write(Te).catch(()=>i.error("Sending response failed."))}kf(T);let pe=c.get(T.method),ge,fe;pe&&(ge=pe.type,fe=pe.handler);let Ce=Date.now();if(fe||u){let ue=(qe=T.id)!=null?qe:String(Date.now()),Se=R.receiver.createCancellationTokenSource(ue);T.id!==null&&k.has(T.id)&&Se.cancel(),T.id!==null&&d.set(ue,Se);try{let de;if(fe)if(T.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){$(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${T.method} defines ${ge.numberOfParams} params but received none.`),T.method,Ce);return}de=fe(Se.token)}else if(Array.isArray(T.params)){if(ge!==void 0&&ge.parameterStructures===Y.ParameterStructures.byName){$(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by name but received parameters by position`),T.method,Ce);return}de=fe(...T.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Y.ParameterStructures.byPosition){$(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by position but received parameters by name`),T.method,Ce);return}de=fe(T.params,Se.token)}else u&&(de=u(T.method,T.params,Se.token));let Te=de;de?Te.then?Te.then(Be=>{d.delete(ue),F(Be,T.method,Ce)},Be=>{d.delete(ue),Be instanceof Y.ResponseError?$(Be,T.method,Ce):Be&&Pe.string(Be.message)?$(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${Be.message}`),T.method,Ce):$(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,Ce)}):(d.delete(ue),F(de,T.method,Ce)):(d.delete(ue),J(de,T.method,Ce))}catch(de){d.delete(ue),de instanceof Y.ResponseError?F(de,T.method,Ce):de&&Pe.string(de.message)?$(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${de.message}`),T.method,Ce):$(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,Ce)}}else $(new Y.ResponseError(Y.ErrorCodes.MethodNotFound,`Unhandled method ${T.method}`),T.method,Ce)}function Ye(T){if(!M())if(T.id===null)T.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(T.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=T.id,$=D.get(F);if(Tf(T,$),$!==void 0){D.delete(F);try{if(T.error){let J=T.error;$.reject(new Y.ResponseError(J.code,J.message,J.data))}else if(T.result!==void 0)$.resolve(T.result);else throw new Error("Should never happen.")}catch(J){J.message?i.error(`Response handler '${$.method}' failed with message: ${J.message}`):i.error(`Response handler '${$.method}' failed unexpectedly.`)}}}}function Rr(T){if(M())return;let F,$;if(T.method===nr.type.method){let J=T.params.id;k.delete(J),Ei(T);return}else{let J=p.get(T.method);J&&($=J.handler,F=J.type)}if($||m)try{if(Ei(T),$)if(T.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==Y.ParameterStructures.byName&&i.error(`Notification ${T.method} defines ${F.numberOfParams} params but received none.`),$();else if(Array.isArray(T.params)){let J=T.params;T.method===rr.type.method&&J.length===2&&Sc.is(J[0])?$({token:J[0],value:J[1]}):(F!==void 0&&(F.parameterStructures===Y.ParameterStructures.byName&&i.error(`Notification ${T.method} defines parameters by name but received parameters by position`),F.numberOfParams!==T.params.length&&i.error(`Notification ${T.method} defines ${F.numberOfParams} params but received ${J.length} arguments`)),$(...J))}else F!==void 0&&F.parameterStructures===Y.ParameterStructures.byPosition&&i.error(`Notification ${T.method} defines parameters by position but received parameters by name`),$(T.params);else m&&m(T.method,T.params)}catch(J){J.message?i.error(`Notification handler '${T.method}' failed with message: ${J.message}`):i.error(`Notification handler '${T.method}' failed unexpectedly.`)}else _.fire(T)}function Cr(T){if(!T){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(T,null,4)}`);let F=T;if(Pe.string(F.id)||Pe.number(F.id)){let $=F.id,J=D.get($);J&&J.reject(new Error("The received response has neither a result nor an error property."))}}function Ze(T){if(T!=null)switch(l){case le.Verbose:return JSON.stringify(T,null,4);case le.Compact:return JSON.stringify(T);default:return}}function Jn(T){if(!(l===le.Off||!x))if(g===ft.Text){let F;(l===le.Verbose||l===le.Compact)&&T.params&&(F=`Params: ${Ze(T.params)}

`),x.log(`Sending request '${T.method} - (${T.id})'.`,F)}else hn("send-request",T)}function Gn(T){if(!(l===le.Off||!x))if(g===ft.Text){let F;(l===le.Verbose||l===le.Compact)&&(T.params?F=`Params: ${Ze(T.params)}

`:F=`No parameters provided.

`),x.log(`Sending notification '${T.method}'.`,F)}else hn("send-notification",T)}function Or(T,F,$){if(!(l===le.Off||!x))if(g===ft.Text){let J;(l===le.Verbose||l===le.Compact)&&(T.error&&T.error.data?J=`Error data: ${Ze(T.error.data)}

`:T.result?J=`Result: ${Ze(T.result)}

`:T.error===void 0&&(J=`No result returned.

`)),x.log(`Sending response '${F} - (${T.id})'. Processing request took ${Date.now()-$}ms`,J)}else hn("send-response",T)}function kf(T){if(!(l===le.Off||!x))if(g===ft.Text){let F;(l===le.Verbose||l===le.Compact)&&T.params&&(F=`Params: ${Ze(T.params)}

`),x.log(`Received request '${T.method} - (${T.id})'.`,F)}else hn("receive-request",T)}function Ei(T){if(!(l===le.Off||!x||T.method===no.type.method))if(g===ft.Text){let F;(l===le.Verbose||l===le.Compact)&&(T.params?F=`Params: ${Ze(T.params)}

`:F=`No parameters provided.

`),x.log(`Received notification '${T.method}'.`,F)}else hn("receive-notification",T)}function Tf(T,F){if(!(l===le.Off||!x))if(g===ft.Text){let $;if((l===le.Verbose||l===le.Compact)&&(T.error&&T.error.data?$=`Error data: ${Ze(T.error.data)}

`:T.result?$=`Result: ${Ze(T.result)}

`:T.error===void 0&&($=`No result returned.

`)),F){let J=T.error?` Request failed: ${T.error.message} (${T.error.code}).`:"";x.log(`Received response '${F.method} - (${T.id})' in ${Date.now()-F.timerStart}ms.${J}`,$)}else x.log(`Received response ${T.id} without active response promise.`,$)}else hn("receive-response",T)}function hn(T,F){if(!x||l===le.Off)return;let $={isLSPMessage:!0,type:T,message:F,timestamp:Date.now()};x.log($)}function Kn(){if(N())throw new tn(Ar.Closed,"Connection is closed.");if(M())throw new tn(Ar.Disposed,"Connection is disposed.")}function _f(){if(C())throw new tn(Ar.AlreadyListening,"Connection is already listening")}function Df(){if(!C())throw new Error("Call listen() first.")}function Xn(T){return T===void 0?null:T}function Sa(T){if(T!==null)return T}function xa(T){return T!=null&&!Array.isArray(T)&&typeof T=="object"}function ji(T,F){switch(T){case Y.ParameterStructures.auto:return xa(F)?Sa(F):[Xn(F)];case Y.ParameterStructures.byName:if(!xa(F))throw new Error("Received parameters by name but param is not an object literal.");return Sa(F);case Y.ParameterStructures.byPosition:return[Xn(F)];default:throw new Error(`Unknown parameter structure ${T.toString()}`)}}function ka(T,F){let $,J=T.numberOfParams;switch(J){case 0:$=void 0;break;case 1:$=ji(T.parameterStructures,F[0]);break;default:$=[];for(let pe=0;pe<F.length&&pe<J;pe++)$.push(Xn(F[pe]));if(F.length<J)for(let pe=F.length;pe<J;pe++)$.push(null);break}return $}let pn={sendNotification:(T,...F)=>{Kn();let $,J;if(Pe.string(T)){$=T;let ge=F[0],fe=0,Ce=Y.ParameterStructures.auto;Y.ParameterStructures.is(ge)&&(fe=1,Ce=ge);let qe=F.length,ue=qe-fe;switch(ue){case 0:J=void 0;break;case 1:J=ji(Ce,F[fe]);break;default:if(Ce===Y.ParameterStructures.byName)throw new Error(`Received ${ue} parameters for 'by Name' notification parameter structure.`);J=F.slice(fe,qe).map(Se=>Xn(Se));break}}else{let ge=F;$=T.method,J=ka(T,ge)}let pe={jsonrpc:f,method:$,params:J};return Gn(pe),t.write(pe).catch(()=>i.error("Sending notification failed."))},onNotification:(T,F)=>{Kn();let $;return Pe.func(T)?m=T:F&&(Pe.string(T)?($=T,p.set(T,{type:void 0,handler:F})):($=T.method,p.set(T.method,{type:T,handler:F}))),{dispose:()=>{$!==void 0?p.delete($):m=void 0}}},onProgress:(T,F,$)=>{if(v.has(F))throw new Error(`Progress handler for token ${F} already registered`);return v.set(F,$),{dispose:()=>{v.delete(F)}}},sendProgress:(T,F,$)=>pn.sendNotification(rr.type,{token:F,value:$}),onUnhandledProgress:q.event,sendRequest:(T,...F)=>{Kn(),Df();let $,J,pe;if(Pe.string(T)){$=T;let qe=F[0],ue=F[F.length-1],Se=0,de=Y.ParameterStructures.auto;Y.ParameterStructures.is(qe)&&(Se=1,de=qe);let Te=F.length;eo.CancellationToken.is(ue)&&(Te=Te-1,pe=ue);let Be=Te-Se;switch(Be){case 0:J=void 0;break;case 1:J=ji(de,F[Se]);break;default:if(de===Y.ParameterStructures.byName)throw new Error(`Received ${Be} parameters for 'by Name' request parameter structure.`);J=F.slice(Se,Te).map(Wt=>Xn(Wt));break}}else{let qe=F;$=T.method,J=ka(T,qe);let ue=T.numberOfParams;pe=eo.CancellationToken.is(qe[ue])?qe[ue]:void 0}let ge=o++,fe;return pe&&(fe=pe.onCancellationRequested(()=>{let qe=R.sender.sendCancellation(pn,ge);return qe===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):qe.catch(()=>{i.log(`Sending cancellation messages for id ${ge} failed`)})})),new Promise((qe,ue)=>{let Se={jsonrpc:f,id:ge,method:$,params:J},de=Wt=>{qe(Wt),R.sender.cleanup(ge),fe==null||fe.dispose()},Te=Wt=>{ue(Wt),R.sender.cleanup(ge),fe==null||fe.dispose()},Be={method:$,timerStart:Date.now(),resolve:de,reject:Te};Jn(Se);try{t.write(Se).catch(()=>i.error("Sending request failed."))}catch(Wt){Be.reject(new Y.ResponseError(Y.ErrorCodes.MessageWriteError,Wt.message?Wt.message:"Unknown reason")),Be=null}Be&&D.set(ge,Be)})},onRequest:(T,F)=>{Kn();let $=null;return to.is(T)?($=void 0,u=T):Pe.string(T)?($=null,F!==void 0&&($=T,c.set(T,{handler:F,type:void 0}))):F!==void 0&&($=T.method,c.set(T.method,{type:T,handler:F})),{dispose:()=>{$!==null&&($!==void 0?c.delete($):u=void 0)}}},hasPendingResponse:()=>D.size>0,trace:async(T,F,$)=>{let J=!1,pe=ft.Text;$!==void 0&&(Pe.boolean($)?J=$:(J=$.sendNotification||!1,pe=$.traceFormat||ft.Text)),l=T,g=pe,l===le.Off?x=void 0:x=F,J&&!N()&&!M()&&await pn.sendNotification(kc.type,{value:le.toString(T)})},onError:b.event,onClose:w.event,onUnhandledNotification:_.event,onDispose:I.event,end:()=>{t.end()},dispose:()=>{if(M())return;E=dt.Disposed,I.fire(void 0);let T=new Y.ResponseError(Y.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of D.values())F.reject(T);D=new Map,d=new Map,k=new Set,S=new bc.LinkedMap,Pe.func(t.dispose)&&t.dispose(),Pe.func(e.dispose)&&e.dispose()},listen:()=>{Kn(),_f(),E=dt.Listening,e.listen(He)},inspect:()=>{(0,vc.default)().console.log("inspect")}};return pn.onNotification(no.type,T=>{if(l===le.Off||!x)return;let F=l===le.Verbose||l===le.Compact;x.log(T.message,F?T.verbose:void 0)}),pn.onNotification(rr.type,T=>{let F=v.get(T.token);F?F(T.value):q.fire(T)}),pn}X.createMessageConnection=ud});var uo=H(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.TraceFormat=j.TraceValues=j.Trace=j.ProgressType=j.ProgressToken=j.createMessageConnection=j.NullLogger=j.ConnectionOptions=j.ConnectionStrategy=j.WriteableStreamMessageWriter=j.AbstractMessageWriter=j.MessageWriter=j.ReadableStreamMessageReader=j.AbstractMessageReader=j.MessageReader=j.CancellationToken=j.CancellationTokenSource=j.Emitter=j.Event=j.Disposable=j.LRUCache=j.Touch=j.LinkedMap=j.ParameterStructures=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.ErrorCodes=j.ResponseError=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType0=j.RequestType=j.Message=j.RAL=void 0;j.CancellationStrategy=j.CancellationSenderStrategy=j.CancellationReceiverStrategy=j.ConnectionError=j.ConnectionErrors=j.LogTraceNotification=j.SetTraceNotification=void 0;var he=$i();Object.defineProperty(j,"Message",{enumerable:!0,get:function(){return he.Message}});Object.defineProperty(j,"RequestType",{enumerable:!0,get:function(){return he.RequestType}});Object.defineProperty(j,"RequestType0",{enumerable:!0,get:function(){return he.RequestType0}});Object.defineProperty(j,"RequestType1",{enumerable:!0,get:function(){return he.RequestType1}});Object.defineProperty(j,"RequestType2",{enumerable:!0,get:function(){return he.RequestType2}});Object.defineProperty(j,"RequestType3",{enumerable:!0,get:function(){return he.RequestType3}});Object.defineProperty(j,"RequestType4",{enumerable:!0,get:function(){return he.RequestType4}});Object.defineProperty(j,"RequestType5",{enumerable:!0,get:function(){return he.RequestType5}});Object.defineProperty(j,"RequestType6",{enumerable:!0,get:function(){return he.RequestType6}});Object.defineProperty(j,"RequestType7",{enumerable:!0,get:function(){return he.RequestType7}});Object.defineProperty(j,"RequestType8",{enumerable:!0,get:function(){return he.RequestType8}});Object.defineProperty(j,"RequestType9",{enumerable:!0,get:function(){return he.RequestType9}});Object.defineProperty(j,"ResponseError",{enumerable:!0,get:function(){return he.ResponseError}});Object.defineProperty(j,"ErrorCodes",{enumerable:!0,get:function(){return he.ErrorCodes}});Object.defineProperty(j,"NotificationType",{enumerable:!0,get:function(){return he.NotificationType}});Object.defineProperty(j,"NotificationType0",{enumerable:!0,get:function(){return he.NotificationType0}});Object.defineProperty(j,"NotificationType1",{enumerable:!0,get:function(){return he.NotificationType1}});Object.defineProperty(j,"NotificationType2",{enumerable:!0,get:function(){return he.NotificationType2}});Object.defineProperty(j,"NotificationType3",{enumerable:!0,get:function(){return he.NotificationType3}});Object.defineProperty(j,"NotificationType4",{enumerable:!0,get:function(){return he.NotificationType4}});Object.defineProperty(j,"NotificationType5",{enumerable:!0,get:function(){return he.NotificationType5}});Object.defineProperty(j,"NotificationType6",{enumerable:!0,get:function(){return he.NotificationType6}});Object.defineProperty(j,"NotificationType7",{enumerable:!0,get:function(){return he.NotificationType7}});Object.defineProperty(j,"NotificationType8",{enumerable:!0,get:function(){return he.NotificationType8}});Object.defineProperty(j,"NotificationType9",{enumerable:!0,get:function(){return he.NotificationType9}});Object.defineProperty(j,"ParameterStructures",{enumerable:!0,get:function(){return he.ParameterStructures}});var so=Hi();Object.defineProperty(j,"LinkedMap",{enumerable:!0,get:function(){return so.LinkedMap}});Object.defineProperty(j,"LRUCache",{enumerable:!0,get:function(){return so.LRUCache}});Object.defineProperty(j,"Touch",{enumerable:!0,get:function(){return so.Touch}});var ld=Li();Object.defineProperty(j,"Disposable",{enumerable:!0,get:function(){return ld.Disposable}});var Dc=mn();Object.defineProperty(j,"Event",{enumerable:!0,get:function(){return Dc.Event}});Object.defineProperty(j,"Emitter",{enumerable:!0,get:function(){return Dc.Emitter}});var wc=Ji();Object.defineProperty(j,"CancellationTokenSource",{enumerable:!0,get:function(){return wc.CancellationTokenSource}});Object.defineProperty(j,"CancellationToken",{enumerable:!0,get:function(){return wc.CancellationToken}});var ao=lc();Object.defineProperty(j,"MessageReader",{enumerable:!0,get:function(){return ao.MessageReader}});Object.defineProperty(j,"AbstractMessageReader",{enumerable:!0,get:function(){return ao.AbstractMessageReader}});Object.defineProperty(j,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return ao.ReadableStreamMessageReader}});var co=yc();Object.defineProperty(j,"MessageWriter",{enumerable:!0,get:function(){return co.MessageWriter}});Object.defineProperty(j,"AbstractMessageWriter",{enumerable:!0,get:function(){return co.AbstractMessageWriter}});Object.defineProperty(j,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return co.WriteableStreamMessageWriter}});var $e=_c();Object.defineProperty(j,"ConnectionStrategy",{enumerable:!0,get:function(){return $e.ConnectionStrategy}});Object.defineProperty(j,"ConnectionOptions",{enumerable:!0,get:function(){return $e.ConnectionOptions}});Object.defineProperty(j,"NullLogger",{enumerable:!0,get:function(){return $e.NullLogger}});Object.defineProperty(j,"createMessageConnection",{enumerable:!0,get:function(){return $e.createMessageConnection}});Object.defineProperty(j,"ProgressToken",{enumerable:!0,get:function(){return $e.ProgressToken}});Object.defineProperty(j,"ProgressType",{enumerable:!0,get:function(){return $e.ProgressType}});Object.defineProperty(j,"Trace",{enumerable:!0,get:function(){return $e.Trace}});Object.defineProperty(j,"TraceValues",{enumerable:!0,get:function(){return $e.TraceValues}});Object.defineProperty(j,"TraceFormat",{enumerable:!0,get:function(){return $e.TraceFormat}});Object.defineProperty(j,"SetTraceNotification",{enumerable:!0,get:function(){return $e.SetTraceNotification}});Object.defineProperty(j,"LogTraceNotification",{enumerable:!0,get:function(){return $e.LogTraceNotification}});Object.defineProperty(j,"ConnectionErrors",{enumerable:!0,get:function(){return $e.ConnectionErrors}});Object.defineProperty(j,"ConnectionError",{enumerable:!0,get:function(){return $e.ConnectionError}});Object.defineProperty(j,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return $e.CancellationReceiverStrategy}});Object.defineProperty(j,"CancellationSenderStrategy",{enumerable:!0,get:function(){return $e.CancellationSenderStrategy}});Object.defineProperty(j,"CancellationStrategy",{enumerable:!0,get:function(){return $e.CancellationStrategy}});var fd=Ct();j.RAL=fd.default});var nn=H(ce=>{"use strict";var dd=ce&&ce.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hd=ce&&ce.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&dd(t,e,n)};Object.defineProperty(ce,"__esModule",{value:!0});ce.createMessageConnection=ce.createServerSocketTransport=ce.createClientSocketTransport=ce.createServerPipeTransport=ce.createClientPipeTransport=ce.generateRandomPipeName=ce.StreamMessageWriter=ce.StreamMessageReader=ce.SocketMessageWriter=ce.SocketMessageReader=ce.IPCMessageWriter=ce.IPCMessageReader=void 0;var vn=Ea();vn.default.install();var xt=uo(),Pc=require("path"),pd=require("os"),gd=require("crypto"),Fr=require("net");hd(uo(),ce);var Rc=class extends xt.AbstractMessageReader{constructor(t){super();this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),xt.Disposable.create(()=>this.process.off("message",t))}};ce.IPCMessageReader=Rc;var Cc=class extends xt.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};ce.IPCMessageWriter=Cc;var bn=class extends xt.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,vn.default)().stream.asReadableStream(t),n)}};ce.SocketMessageReader=bn;var Sn=class extends xt.WriteableStreamMessageWriter{constructor(t,n){super((0,vn.default)().stream.asWritableStream(t),n);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};ce.SocketMessageWriter=Sn;var lo=class extends xt.ReadableStreamMessageReader{constructor(t,n){super((0,vn.default)().stream.asReadableStream(t),n)}};ce.StreamMessageReader=lo;var fo=class extends xt.WriteableStreamMessageWriter{constructor(t,n){super((0,vn.default)().stream.asWritableStream(t),n)}};ce.StreamMessageWriter=fo;var Oc=process.env.XDG_RUNTIME_DIR,md=new Map([["linux",107],["darwin",103]]);function yd(){let e=(0,gd.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Oc?t=Pc.join(Oc,`vscode-ipc-${e}.sock`):t=Pc.join(pd.tmpdir(),`vscode-${e}.sock`);let n=md.get(process.platform);return n!==void 0&&t.length>=n&&(0,vn.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}ce.generateRandomPipeName=yd;function vd(e,t="utf-8"){let n,r=new Promise((i,o)=>{n=i});return new Promise((i,o)=>{let s=(0,Fr.createServer)(a=>{s.close(),n([new bn(a,t),new Sn(a,t)])});s.on("error",o),s.listen(e,()=>{s.removeListener("error",o),i({onConnected:()=>r})})})}ce.createClientPipeTransport=vd;function bd(e,t="utf-8"){let n=(0,Fr.createConnection)(e);return[new bn(n,t),new Sn(n,t)]}ce.createServerPipeTransport=bd;function Sd(e,t="utf-8"){let n,r=new Promise((i,o)=>{n=i});return new Promise((i,o)=>{let s=(0,Fr.createServer)(a=>{s.close(),n([new bn(a,t),new Sn(a,t)])});s.on("error",o),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>r})})})}ce.createClientSocketTransport=Sd;function xd(e,t="utf-8"){let n=(0,Fr.createConnection)(e,"127.0.0.1");return[new bn(n,t),new Sn(n,t)]}ce.createServerSocketTransport=xd;function kd(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function Td(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function _d(e,t,n,r){n||(n=xt.NullLogger);let i=kd(e)?new lo(e):e,o=Td(t)?new fo(t):t;return xt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,xt.createMessageConnection)(i,o,n,r)}ce.createMessageConnection=_d});var ho=H((vy,Nc)=>{"use strict";Nc.exports=nn()});var fr=H(Dd=>{Ta(Dd);Nf(Dd,{AnnotatedTextEdit:()=>Et,ChangeAnnotation:()=>on,ChangeAnnotationIdentifier:()=>je,CodeAction:()=>Jo,CodeActionContext:()=>Uo,CodeActionKind:()=>zo,CodeActionTriggerKind:()=>lr,CodeDescription:()=>To,CodeLens:()=>Go,Color:()=>Ir,ColorInformation:()=>yo,ColorPresentation:()=>vo,Command:()=>rn,CompletionItem:()=>Eo,CompletionItemKind:()=>Po,CompletionItemLabelDetails:()=>qo,CompletionItemTag:()=>Co,CompletionList:()=>jo,CreateFile:()=>xn,DeleteFile:()=>Tn,Diagnostic:()=>sr,DiagnosticRelatedInformation:()=>Wr,DiagnosticSeverity:()=>xo,DiagnosticTag:()=>ko,DocumentHighlight:()=>Io,DocumentHighlightKind:()=>Lo,DocumentLink:()=>Xo,DocumentSymbol:()=>Bo,DocumentUri:()=>po,EOL:()=>Pd,FoldingRange:()=>So,FoldingRangeKind:()=>bo,FormattingOptions:()=>Ko,Hover:()=>Mo,InlayHint:()=>os,InlayHintKind:()=>Br,InlayHintLabelPart:()=>zr,InlineValueContext:()=>is,InlineValueEvaluatableExpression:()=>rs,InlineValueText:()=>ts,InlineValueVariableLookup:()=>ns,InsertReplaceEdit:()=>Oo,InsertTextFormat:()=>Ro,InsertTextMode:()=>No,Location:()=>or,LocationLink:()=>mo,MarkedString:()=>ur,MarkupContent:()=>_n,MarkupKind:()=>Hr,OptionalVersionedTextDocumentIdentifier:()=>cr,ParameterInformation:()=>Ao,Position:()=>tt,Range:()=>xe,RenameFile:()=>kn,SelectionRange:()=>Yo,SemanticTokenModifiers:()=>Qo,SemanticTokenTypes:()=>Zo,SemanticTokens:()=>es,SignatureInformation:()=>Fo,SymbolInformation:()=>Vo,SymbolKind:()=>Wo,SymbolTag:()=>$o,TextDocument:()=>as,TextDocumentEdit:()=>ar,TextDocumentIdentifier:()=>_o,TextDocumentItem:()=>wo,TextEdit:()=>kt,URI:()=>Lr,VersionedTextDocumentIdentifier:()=>Do,WorkspaceChange:()=>wd,WorkspaceEdit:()=>$r,WorkspaceFolder:()=>ss,WorkspaceSymbol:()=>Ho,integer:()=>go,uinteger:()=>ir});"use strict";var po;(function(e){function t(n){return typeof n=="string"}e.is=t})(po||(po={}));var Lr;(function(e){function t(n){return typeof n=="string"}e.is=t})(Lr||(Lr={}));var go;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(go||(go={}));var ir;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(ir||(ir={}));var tt;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=ir.MAX_VALUE),i===Number.MAX_VALUE&&(i=ir.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&P.uinteger(i.line)&&P.uinteger(i.character)}e.is=n})(tt||(tt={}));var xe;(function(e){function t(r,i,o,s){if(P.uinteger(r)&&P.uinteger(i)&&P.uinteger(o)&&P.uinteger(s))return{start:tt.create(r,i),end:tt.create(o,s)};if(tt.is(r)&&tt.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(o,", ").concat(s,"]"))}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&tt.is(i.start)&&tt.is(i.end)}e.is=n})(xe||(xe={}));var or;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&xe.is(i.range)&&(P.string(i.uri)||P.undefined(i.uri))}e.is=n})(or||(or={}));var mo;(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&xe.is(i.targetRange)&&P.string(i.targetUri)&&xe.is(i.targetSelectionRange)&&(xe.is(i.originSelectionRange)||P.undefined(i.originSelectionRange))}e.is=n})(mo||(mo={}));var Ir;(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&P.numberRange(i.red,0,1)&&P.numberRange(i.green,0,1)&&P.numberRange(i.blue,0,1)&&P.numberRange(i.alpha,0,1)}e.is=n})(Ir||(Ir={}));var yo;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&xe.is(i.range)&&Ir.is(i.color)}e.is=n})(yo||(yo={}));var vo;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&P.string(i.label)&&(P.undefined(i.textEdit)||kt.is(i))&&(P.undefined(i.additionalTextEdits)||P.typedArray(i.additionalTextEdits,kt.is))}e.is=n})(vo||(vo={}));var bo;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(bo||(bo={}));var So;(function(e){function t(r,i,o,s,a,f){var u={startLine:r,endLine:i};return P.defined(o)&&(u.startCharacter=o),P.defined(s)&&(u.endCharacter=s),P.defined(a)&&(u.kind=a),P.defined(f)&&(u.collapsedText=f),u}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&P.uinteger(i.startLine)&&P.uinteger(i.startLine)&&(P.undefined(i.startCharacter)||P.uinteger(i.startCharacter))&&(P.undefined(i.endCharacter)||P.uinteger(i.endCharacter))&&(P.undefined(i.kind)||P.string(i.kind))}e.is=n})(So||(So={}));var Wr;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&or.is(i.location)&&P.string(i.message)}e.is=n})(Wr||(Wr={}));var xo;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(xo||(xo={}));var ko;(function(e){e.Unnecessary=1,e.Deprecated=2})(ko||(ko={}));var To;(function(e){function t(n){var r=n;return P.objectLiteral(r)&&P.string(r.href)}e.is=t})(To||(To={}));var sr;(function(e){function t(r,i,o,s,a,f){var u={range:r,message:i};return P.defined(o)&&(u.severity=o),P.defined(s)&&(u.code=s),P.defined(a)&&(u.source=a),P.defined(f)&&(u.relatedInformation=f),u}e.create=t;function n(r){var i,o=r;return P.defined(o)&&xe.is(o.range)&&P.string(o.message)&&(P.number(o.severity)||P.undefined(o.severity))&&(P.integer(o.code)||P.string(o.code)||P.undefined(o.code))&&(P.undefined(o.codeDescription)||P.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(P.string(o.source)||P.undefined(o.source))&&(P.undefined(o.relatedInformation)||P.typedArray(o.relatedInformation,Wr.is))}e.is=n})(sr||(sr={}));var rn;(function(e){function t(r,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a={title:r,command:i};return P.defined(o)&&o.length>0&&(a.arguments=o),a}e.create=t;function n(r){var i=r;return P.defined(i)&&P.string(i.title)&&P.string(i.command)}e.is=n})(rn||(rn={}));var kt;(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){var s=o;return P.objectLiteral(s)&&P.string(s.newText)&&xe.is(s.range)}e.is=i})(kt||(kt={}));var on;(function(e){function t(r,i,o){var s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&P.string(i.label)&&(P.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(P.string(i.description)||i.description===void 0)}e.is=n})(on||(on={}));var je;(function(e){function t(n){var r=n;return P.string(r)}e.is=t})(je||(je={}));var Et;(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function n(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){var s=o;return kt.is(s)&&(on.is(s.annotationId)||je.is(s.annotationId))}e.is=i})(Et||(Et={}));var ar;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&cr.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(ar||(ar={}));var xn;(function(e){function t(r,i,o){var s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){var i=r;return i&&i.kind==="create"&&P.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||P.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||P.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||je.is(i.annotationId))}e.is=n})(xn||(xn={}));var kn;(function(e){function t(r,i,o,s){var a={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function n(r){var i=r;return i&&i.kind==="rename"&&P.string(i.oldUri)&&P.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||P.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||P.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||je.is(i.annotationId))}e.is=n})(kn||(kn={}));var Tn;(function(e){function t(r,i,o){var s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){var i=r;return i&&i.kind==="delete"&&P.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||P.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||P.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||je.is(i.annotationId))}e.is=n})(Tn||(Tn={}));var $r;(function(e){function t(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return P.string(i.kind)?xn.is(i)||kn.is(i)||Tn.is(i):ar.is(i)}))}e.is=t})($r||($r={}));var Vr=function(){function e(t,n){this.edits=t,this.changeAnnotations=n}return e.prototype.insert=function(t,n,r){var i,o;if(r===void 0?i=kt.insert(t,n):je.is(r)?(o=r,i=Et.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Et.insert(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.replace=function(t,n,r){var i,o;if(r===void 0?i=kt.replace(t,n):je.is(r)?(o=r,i=Et.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Et.replace(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.delete=function(t,n){var r,i;if(n===void 0?r=kt.del(t):je.is(n)?(i=n,r=Et.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Et.del(t,i)),this.edits.push(r),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),qc=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,n){var r;if(je.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),wd=function(){function e(t){var n=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new qc(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(ar.is(r)){var i=new Vr(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(r){var i=new Vr(t.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(cr.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){var i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Vr(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var i=[];this._workspaceEdit.changes[t]=i,r=new Vr(i),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new qc,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;on.is(n)||je.is(n)?i=n:r=n;var o,s;if(i===void 0?o=xn.create(t,r):(s=je.is(i)?i:this._changeAnnotations.manage(i),o=xn.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s},e.prototype.renameFile=function(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;on.is(r)||je.is(r)?o=r:i=r;var s,a;if(o===void 0?s=kn.create(t,n,i):(a=je.is(o)?o:this._changeAnnotations.manage(o),s=kn.create(t,n,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a},e.prototype.deleteFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;on.is(n)||je.is(n)?i=n:r=n;var o,s;if(i===void 0?o=Tn.create(t,r):(s=je.is(i)?i:this._changeAnnotations.manage(i),o=Tn.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s},e}(),_o;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)}e.is=n})(_o||(_o={}));var Do;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&P.integer(i.version)}e.is=n})(Do||(Do={}));var cr;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&(i.version===null||P.integer(i.version))}e.is=n})(cr||(cr={}));var wo;(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&P.string(i.languageId)&&P.integer(i.version)&&P.string(i.text)}e.is=n})(wo||(wo={}));var Hr;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){var r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Hr||(Hr={}));var _n;(function(e){function t(n){var r=n;return P.objectLiteral(n)&&Hr.is(r.kind)&&P.string(r.value)}e.is=t})(_n||(_n={}));var Po;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Po||(Po={}));var Ro;(function(e){e.PlainText=1,e.Snippet=2})(Ro||(Ro={}));var Co;(function(e){e.Deprecated=1})(Co||(Co={}));var Oo;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){var i=r;return i&&P.string(i.newText)&&xe.is(i.insert)&&xe.is(i.replace)}e.is=n})(Oo||(Oo={}));var No;(function(e){e.asIs=1,e.adjustIndentation=2})(No||(No={}));var qo;(function(e){function t(n){var r=n;return r&&(P.string(r.detail)||r.detail===void 0)&&(P.string(r.description)||r.description===void 0)}e.is=t})(qo||(qo={}));var Eo;(function(e){function t(n){return{label:n}}e.create=t})(Eo||(Eo={}));var jo;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(jo||(jo={}));var ur;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){var i=r;return P.string(i)||P.objectLiteral(i)&&P.string(i.language)&&P.string(i.value)}e.is=n})(ur||(ur={}));var Mo;(function(e){function t(n){var r=n;return!!r&&P.objectLiteral(r)&&(_n.is(r.contents)||ur.is(r.contents)||P.typedArray(r.contents,ur.is))&&(n.range===void 0||xe.is(n.range))}e.is=t})(Mo||(Mo={}));var Ao;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Ao||(Ao={}));var Fo;(function(e){function t(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s={label:n};return P.defined(r)&&(s.documentation=r),P.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(Fo||(Fo={}));var Lo;(function(e){e.Text=1,e.Read=2,e.Write=3})(Lo||(Lo={}));var Io;(function(e){function t(n,r){var i={range:n};return P.number(r)&&(i.kind=r),i}e.create=t})(Io||(Io={}));var Wo;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Wo||(Wo={}));var $o;(function(e){e.Deprecated=1})($o||($o={}));var Vo;(function(e){function t(n,r,i,o,s){var a={name:n,kind:r,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(Vo||(Vo={}));var Ho;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(Ho||(Ho={}));var Bo;(function(e){function t(r,i,o,s,a,f){var u={name:r,detail:i,kind:o,range:s,selectionRange:a};return f!==void 0&&(u.children=f),u}e.create=t;function n(r){var i=r;return i&&P.string(i.name)&&P.number(i.kind)&&xe.is(i.range)&&xe.is(i.selectionRange)&&(i.detail===void 0||P.string(i.detail))&&(i.deprecated===void 0||P.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Bo||(Bo={}));var zo;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(zo||(zo={}));var lr;(function(e){e.Invoked=1,e.Automatic=2})(lr||(lr={}));var Uo;(function(e){function t(r,i,o){var s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){var i=r;return P.defined(i)&&P.typedArray(i.diagnostics,sr.is)&&(i.only===void 0||P.typedArray(i.only,P.string))&&(i.triggerKind===void 0||i.triggerKind===lr.Invoked||i.triggerKind===lr.Automatic)}e.is=n})(Uo||(Uo={}));var Jo;(function(e){function t(r,i,o){var s={title:r},a=!0;return typeof i=="string"?(a=!1,s.kind=i):rn.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){var i=r;return i&&P.string(i.title)&&(i.diagnostics===void 0||P.typedArray(i.diagnostics,sr.is))&&(i.kind===void 0||P.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||rn.is(i.command))&&(i.isPreferred===void 0||P.boolean(i.isPreferred))&&(i.edit===void 0||$r.is(i.edit))}e.is=n})(Jo||(Jo={}));var Go;(function(e){function t(r,i){var o={range:r};return P.defined(i)&&(o.data=i),o}e.create=t;function n(r){var i=r;return P.defined(i)&&xe.is(i.range)&&(P.undefined(i.command)||rn.is(i.command))}e.is=n})(Go||(Go={}));var Ko;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&P.uinteger(i.tabSize)&&P.boolean(i.insertSpaces)}e.is=n})(Ko||(Ko={}));var Xo;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){var i=r;return P.defined(i)&&xe.is(i.range)&&(P.undefined(i.target)||P.string(i.target))}e.is=n})(Xo||(Xo={}));var Yo;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&xe.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(Yo||(Yo={}));var Zo;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Zo||(Zo={}));var Qo;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Qo||(Qo={}));var es;(function(e){function t(n){var r=n;return P.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(es||(es={}));var ts;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){var i=r;return i!=null&&xe.is(i.range)&&P.string(i.text)}e.is=n})(ts||(ts={}));var ns;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){var i=r;return i!=null&&xe.is(i.range)&&P.boolean(i.caseSensitiveLookup)&&(P.string(i.variableName)||i.variableName===void 0)}e.is=n})(ns||(ns={}));var rs;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){var i=r;return i!=null&&xe.is(i.range)&&(P.string(i.expression)||i.expression===void 0)}e.is=n})(rs||(rs={}));var is;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){var i=r;return P.defined(i)&&xe.is(r.stoppedLocation)}e.is=n})(is||(is={}));var Br;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Br||(Br={}));var zr;(function(e){function t(r){return{value:r}}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&(i.tooltip===void 0||P.string(i.tooltip)||_n.is(i.tooltip))&&(i.location===void 0||or.is(i.location))&&(i.command===void 0||rn.is(i.command))}e.is=n})(zr||(zr={}));var os;(function(e){function t(r,i,o){var s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){var i=r;return P.objectLiteral(i)&&tt.is(i.position)&&(P.string(i.label)||P.typedArray(i.label,zr.is))&&(i.kind===void 0||Br.is(i.kind))&&i.textEdits===void 0||P.typedArray(i.textEdits,kt.is)&&(i.tooltip===void 0||P.string(i.tooltip)||_n.is(i.tooltip))&&(i.paddingLeft===void 0||P.boolean(i.paddingLeft))&&(i.paddingRight===void 0||P.boolean(i.paddingRight))}e.is=n})(os||(os={}));var ss;(function(e){function t(n){var r=n;return P.objectLiteral(r)&&Lr.is(r.uri)&&P.string(r.name)}e.is=t})(ss||(ss={}));var Pd=[`
`,`\r
`,"\r"],as;(function(e){function t(o,s,a,f){return new Rd(o,s,a,f)}e.create=t;function n(o){var s=o;return!!(P.defined(s)&&P.string(s.uri)&&(P.undefined(s.languageId)||P.string(s.languageId))&&P.uinteger(s.lineCount)&&P.func(s.getText)&&P.func(s.positionAt)&&P.func(s.offsetAt))}e.is=n;function r(o,s){for(var a=o.getText(),f=i(s,function(y,S){var D=y.range.start.line-S.range.start.line;return D===0?y.range.start.character-S.range.start.character:D}),u=a.length,c=f.length-1;c>=0;c--){var m=f[c],p=o.offsetAt(m.range.start),v=o.offsetAt(m.range.end);if(v<=u)a=a.substring(0,p)+m.newText+a.substring(v,a.length);else throw new Error("Overlapping edit");u=p}return a}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;var a=o.length/2|0,f=o.slice(0,a),u=o.slice(a);i(f,s),i(u,s);for(var c=0,m=0,p=0;c<f.length&&m<u.length;){var v=s(f[c],u[m]);v<=0?o[p++]=f[c++]:o[p++]=u[m++]}for(;c<f.length;)o[p++]=f[c++];for(;m<u.length;)o[p++]=u[m++];return o}})(as||(as={}));var Rd=function(){function e(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(t.push(i),r=!1);var o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return tt.create(0,t);for(;r<i;){var o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}var s=r-1;return tt.create(s,t-n[s])},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),P;(function(e){var t=Object.prototype.toString;function n(v){return typeof v!="undefined"}e.defined=n;function r(v){return typeof v=="undefined"}e.undefined=r;function i(v){return v===!0||v===!1}e.boolean=i;function o(v){return t.call(v)==="[object String]"}e.string=o;function s(v){return t.call(v)==="[object Number]"}e.number=s;function a(v,y,S){return t.call(v)==="[object Number]"&&y<=v&&v<=S}e.numberRange=a;function f(v){return t.call(v)==="[object Number]"&&-2147483648<=v&&v<=2147483647}e.integer=f;function u(v){return t.call(v)==="[object Number]"&&0<=v&&v<=2147483647}e.uinteger=u;function c(v){return t.call(v)==="[object Function]"}e.func=c;function m(v){return v!==null&&typeof v=="object"}e.objectLiteral=m;function p(v,y){return Array.isArray(v)&&v.every(y)}e.typedArray=p})(P||(P={}))});var ve=H(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.ProtocolNotificationType=Ue.ProtocolNotificationType0=Ue.ProtocolRequestType=Ue.ProtocolRequestType0=Ue.RegistrationType=Ue.MessageDirection=void 0;var Dn=nn(),Cd;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Cd=Ue.MessageDirection||(Ue.MessageDirection={}));var Ec=class{constructor(t){this.method=t}};Ue.RegistrationType=Ec;var jc=class extends Dn.RequestType0{constructor(t){super(t)}};Ue.ProtocolRequestType0=jc;var Mc=class extends Dn.RequestType{constructor(t){super(t,Dn.ParameterStructures.byName)}};Ue.ProtocolRequestType=Mc;var Ac=class extends Dn.NotificationType0{constructor(t){super(t)}};Ue.ProtocolNotificationType0=Ac;var Fc=class extends Dn.NotificationType{constructor(t){super(t,Dn.ParameterStructures.byName)}};Ue.ProtocolNotificationType=Fc});var Ur=H(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.objectLiteral=De.typedArray=De.stringArray=De.array=De.func=De.error=De.number=De.string=De.boolean=void 0;function Od(e){return e===!0||e===!1}De.boolean=Od;function Lc(e){return typeof e=="string"||e instanceof String}De.string=Lc;function Nd(e){return typeof e=="number"||e instanceof Number}De.number=Nd;function qd(e){return e instanceof Error}De.error=qd;function Ed(e){return typeof e=="function"}De.func=Ed;function Ic(e){return Array.isArray(e)}De.array=Ic;function jd(e){return Ic(e)&&e.every(t=>Lc(t))}De.stringArray=jd;function Md(e,t){return Array.isArray(e)&&e.every(t)}De.typedArray=Md;function Ad(e){return e!==null&&typeof e=="object"}De.objectLiteral=Ad});var $c=H(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.ImplementationRequest=void 0;var Wc=ve(),Fd;(function(e){e.method="textDocument/implementation",e.messageDirection=Wc.MessageDirection.clientToServer,e.type=new Wc.ProtocolRequestType(e.method)})(Fd=dr.ImplementationRequest||(dr.ImplementationRequest={}))});var Hc=H(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.TypeDefinitionRequest=void 0;var Vc=ve(),Ld;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Vc.MessageDirection.clientToServer,e.type=new Vc.ProtocolRequestType(e.method)})(Ld=hr.TypeDefinitionRequest||(hr.TypeDefinitionRequest={}))});var Bc=H($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.DidChangeWorkspaceFoldersNotification=$t.WorkspaceFoldersRequest=void 0;var Jr=ve(),Id;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Jr.MessageDirection.serverToClient,e.type=new Jr.ProtocolRequestType0(e.method)})(Id=$t.WorkspaceFoldersRequest||($t.WorkspaceFoldersRequest={}));var Wd;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Jr.MessageDirection.clientToServer,e.type=new Jr.ProtocolNotificationType(e.method)})(Wd=$t.DidChangeWorkspaceFoldersNotification||($t.DidChangeWorkspaceFoldersNotification={}))});var Uc=H(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.ConfigurationRequest=void 0;var zc=ve(),$d;(function(e){e.method="workspace/configuration",e.messageDirection=zc.MessageDirection.serverToClient,e.type=new zc.ProtocolRequestType(e.method)})($d=pr.ConfigurationRequest||(pr.ConfigurationRequest={}))});var Jc=H(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.ColorPresentationRequest=Vt.DocumentColorRequest=void 0;var Gr=ve(),Vd;(function(e){e.method="textDocument/documentColor",e.messageDirection=Gr.MessageDirection.clientToServer,e.type=new Gr.ProtocolRequestType(e.method)})(Vd=Vt.DocumentColorRequest||(Vt.DocumentColorRequest={}));var Hd;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Gr.MessageDirection.clientToServer,e.type=new Gr.ProtocolRequestType(e.method)})(Hd=Vt.ColorPresentationRequest||(Vt.ColorPresentationRequest={}))});var Kc=H(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.FoldingRangeRequest=void 0;var Gc=ve(),Bd;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Gc.MessageDirection.clientToServer,e.type=new Gc.ProtocolRequestType(e.method)})(Bd=gr.FoldingRangeRequest||(gr.FoldingRangeRequest={}))});var Yc=H(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.DeclarationRequest=void 0;var Xc=ve(),zd;(function(e){e.method="textDocument/declaration",e.messageDirection=Xc.MessageDirection.clientToServer,e.type=new Xc.ProtocolRequestType(e.method)})(zd=mr.DeclarationRequest||(mr.DeclarationRequest={}))});var Qc=H(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.SelectionRangeRequest=void 0;var Zc=ve(),Ud;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Zc.MessageDirection.clientToServer,e.type=new Zc.ProtocolRequestType(e.method)})(Ud=yr.SelectionRangeRequest||(yr.SelectionRangeRequest={}))});var eu=H(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.WorkDoneProgressCancelNotification=ht.WorkDoneProgressCreateRequest=ht.WorkDoneProgress=void 0;var Jd=nn(),Kr=ve(),Gd;(function(e){e.type=new Jd.ProgressType;function t(n){return n===e.type}e.is=t})(Gd=ht.WorkDoneProgress||(ht.WorkDoneProgress={}));var Kd;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Kr.MessageDirection.serverToClient,e.type=new Kr.ProtocolRequestType(e.method)})(Kd=ht.WorkDoneProgressCreateRequest||(ht.WorkDoneProgressCreateRequest={}));var Xd;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Kr.MessageDirection.clientToServer,e.type=new Kr.ProtocolNotificationType(e.method)})(Xd=ht.WorkDoneProgressCancelNotification||(ht.WorkDoneProgressCancelNotification={}))});var tu=H(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.CallHierarchyOutgoingCallsRequest=pt.CallHierarchyIncomingCallsRequest=pt.CallHierarchyPrepareRequest=void 0;var wn=ve(),Yd;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=wn.MessageDirection.clientToServer,e.type=new wn.ProtocolRequestType(e.method)})(Yd=pt.CallHierarchyPrepareRequest||(pt.CallHierarchyPrepareRequest={}));var Zd;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=wn.MessageDirection.clientToServer,e.type=new wn.ProtocolRequestType(e.method)})(Zd=pt.CallHierarchyIncomingCallsRequest||(pt.CallHierarchyIncomingCallsRequest={}));var Qd;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=wn.MessageDirection.clientToServer,e.type=new wn.ProtocolRequestType(e.method)})(Qd=pt.CallHierarchyOutgoingCallsRequest||(pt.CallHierarchyOutgoingCallsRequest={}))});var nu=H(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.SemanticTokensRefreshRequest=we.SemanticTokensRangeRequest=we.SemanticTokensDeltaRequest=we.SemanticTokensRequest=we.SemanticTokensRegistrationType=we.TokenFormat=void 0;var jt=ve(),eh;(function(e){e.Relative="relative"})(eh=we.TokenFormat||(we.TokenFormat={}));var Xr;(function(e){e.method="textDocument/semanticTokens",e.type=new jt.RegistrationType(e.method)})(Xr=we.SemanticTokensRegistrationType||(we.SemanticTokensRegistrationType={}));var th;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=jt.MessageDirection.clientToServer,e.type=new jt.ProtocolRequestType(e.method),e.registrationMethod=Xr.method})(th=we.SemanticTokensRequest||(we.SemanticTokensRequest={}));var nh;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=jt.MessageDirection.clientToServer,e.type=new jt.ProtocolRequestType(e.method),e.registrationMethod=Xr.method})(nh=we.SemanticTokensDeltaRequest||(we.SemanticTokensDeltaRequest={}));var rh;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=jt.MessageDirection.clientToServer,e.type=new jt.ProtocolRequestType(e.method),e.registrationMethod=Xr.method})(rh=we.SemanticTokensRangeRequest||(we.SemanticTokensRangeRequest={}));var ih;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=jt.MessageDirection.clientToServer,e.type=new jt.ProtocolRequestType0(e.method)})(ih=we.SemanticTokensRefreshRequest||(we.SemanticTokensRefreshRequest={}))});var iu=H(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.ShowDocumentRequest=void 0;var ru=ve(),oh;(function(e){e.method="window/showDocument",e.messageDirection=ru.MessageDirection.serverToClient,e.type=new ru.ProtocolRequestType(e.method)})(oh=vr.ShowDocumentRequest||(vr.ShowDocumentRequest={}))});var su=H(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.LinkedEditingRangeRequest=void 0;var ou=ve(),sh;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=ou.MessageDirection.clientToServer,e.type=new ou.ProtocolRequestType(e.method)})(sh=br.LinkedEditingRangeRequest||(br.LinkedEditingRangeRequest={}))});var au=H(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.WillDeleteFilesRequest=be.DidDeleteFilesNotification=be.DidRenameFilesNotification=be.WillRenameFilesRequest=be.DidCreateFilesNotification=be.WillCreateFilesRequest=be.FileOperationPatternKind=void 0;var nt=ve(),ah;(function(e){e.file="file",e.folder="folder"})(ah=be.FileOperationPatternKind||(be.FileOperationPatternKind={}));var ch;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolRequestType(e.method)})(ch=be.WillCreateFilesRequest||(be.WillCreateFilesRequest={}));var uh;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolNotificationType(e.method)})(uh=be.DidCreateFilesNotification||(be.DidCreateFilesNotification={}));var lh;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolRequestType(e.method)})(lh=be.WillRenameFilesRequest||(be.WillRenameFilesRequest={}));var fh;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolNotificationType(e.method)})(fh=be.DidRenameFilesNotification||(be.DidRenameFilesNotification={}));var dh;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolNotificationType(e.method)})(dh=be.DidDeleteFilesNotification||(be.DidDeleteFilesNotification={}));var hh;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=nt.MessageDirection.clientToServer,e.type=new nt.ProtocolRequestType(e.method)})(hh=be.WillDeleteFilesRequest||(be.WillDeleteFilesRequest={}))});var uu=H(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.MonikerRequest=gt.MonikerKind=gt.UniquenessLevel=void 0;var cu=ve(),ph;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(ph=gt.UniquenessLevel||(gt.UniquenessLevel={}));var gh;(function(e){e.$import="import",e.$export="export",e.local="local"})(gh=gt.MonikerKind||(gt.MonikerKind={}));var mh;(function(e){e.method="textDocument/moniker",e.messageDirection=cu.MessageDirection.clientToServer,e.type=new cu.ProtocolRequestType(e.method)})(mh=gt.MonikerRequest||(gt.MonikerRequest={}))});var lu=H(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.TypeHierarchySubtypesRequest=mt.TypeHierarchySupertypesRequest=mt.TypeHierarchyPrepareRequest=void 0;var Pn=ve(),yh;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Pn.MessageDirection.clientToServer,e.type=new Pn.ProtocolRequestType(e.method)})(yh=mt.TypeHierarchyPrepareRequest||(mt.TypeHierarchyPrepareRequest={}));var vh;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Pn.MessageDirection.clientToServer,e.type=new Pn.ProtocolRequestType(e.method)})(vh=mt.TypeHierarchySupertypesRequest||(mt.TypeHierarchySupertypesRequest={}));var bh;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Pn.MessageDirection.clientToServer,e.type=new Pn.ProtocolRequestType(e.method)})(bh=mt.TypeHierarchySubtypesRequest||(mt.TypeHierarchySubtypesRequest={}))});var fu=H(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.InlineValueRefreshRequest=Ht.InlineValueRequest=void 0;var Yr=ve(),Sh;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Yr.MessageDirection.clientToServer,e.type=new Yr.ProtocolRequestType(e.method)})(Sh=Ht.InlineValueRequest||(Ht.InlineValueRequest={}));var xh;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Yr.MessageDirection.clientToServer,e.type=new Yr.ProtocolRequestType0(e.method)})(xh=Ht.InlineValueRefreshRequest||(Ht.InlineValueRefreshRequest={}))});var du=H(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.InlayHintRefreshRequest=yt.InlayHintResolveRequest=yt.InlayHintRequest=void 0;var Rn=ve(),kh;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Rn.MessageDirection.clientToServer,e.type=new Rn.ProtocolRequestType(e.method)})(kh=yt.InlayHintRequest||(yt.InlayHintRequest={}));var Th;(function(e){e.method="inlayHint/resolve",e.messageDirection=Rn.MessageDirection.clientToServer,e.type=new Rn.ProtocolRequestType(e.method)})(Th=yt.InlayHintResolveRequest||(yt.InlayHintResolveRequest={}));var _h;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Rn.MessageDirection.clientToServer,e.type=new Rn.ProtocolRequestType0(e.method)})(_h=yt.InlayHintRefreshRequest||(yt.InlayHintRefreshRequest={}))});var pu=H(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.DiagnosticRefreshRequest=Me.WorkspaceDiagnosticRequest=Me.DocumentDiagnosticRequest=Me.DocumentDiagnosticReportKind=Me.DiagnosticServerCancellationData=void 0;var hu=nn(),Dh=Ur(),Cn=ve(),wh;(function(e){function t(n){let r=n;return r&&Dh.boolean(r.retriggerRequest)}e.is=t})(wh=Me.DiagnosticServerCancellationData||(Me.DiagnosticServerCancellationData={}));var Ph;(function(e){e.Full="full",e.Unchanged="unchanged"})(Ph=Me.DocumentDiagnosticReportKind||(Me.DocumentDiagnosticReportKind={}));var Rh;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Cn.MessageDirection.clientToServer,e.type=new Cn.ProtocolRequestType(e.method),e.partialResult=new hu.ProgressType})(Rh=Me.DocumentDiagnosticRequest||(Me.DocumentDiagnosticRequest={}));var Ch;(function(e){e.method="workspace/diagnostic",e.messageDirection=Cn.MessageDirection.clientToServer,e.type=new Cn.ProtocolRequestType(e.method),e.partialResult=new hu.ProgressType})(Ch=Me.WorkspaceDiagnosticRequest||(Me.WorkspaceDiagnosticRequest={}));var Oh;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Cn.MessageDirection.clientToServer,e.type=new Cn.ProtocolRequestType0(e.method)})(Oh=Me.DiagnosticRefreshRequest||(Me.DiagnosticRefreshRequest={}))});var yu=H(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.DidCloseNotebookDocumentNotification=ae.DidSaveNotebookDocumentNotification=ae.DidChangeNotebookDocumentNotification=ae.NotebookCellArrayChange=ae.DidOpenNotebookDocumentNotification=ae.NotebookDocumentSyncRegistrationType=ae.NotebookDocument=ae.NotebookCell=ae.ExecutionSummary=ae.NotebookCellKind=void 0;var Sr=fr(),vt=Ur(),Tt=ve(),gu;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(gu=ae.NotebookCellKind||(ae.NotebookCellKind={}));var mu;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function n(i){let o=i;return vt.objectLiteral(o)&&Sr.uinteger.is(o.executionOrder)&&(o.success===void 0||vt.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(mu=ae.ExecutionSummary||(ae.ExecutionSummary={}));var cs;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function n(o){let s=o;return vt.objectLiteral(s)&&gu.is(s.kind)&&Sr.DocumentUri.is(s.document)&&(s.metadata===void 0||vt.objectLiteral(s.metadata))}e.is=n;function r(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!mu.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),f=Array.isArray(s);if(a!==f)return!1;if(a&&f){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(vt.objectLiteral(o)&&vt.objectLiteral(s)){let u=Object.keys(o),c=Object.keys(s);if(u.length!==c.length||(u.sort(),c.sort(),!i(u,c)))return!1;for(let m=0;m<u.length;m++){let p=u[m];if(!i(o[p],s[p]))return!1}}return!0}})(cs=ae.NotebookCell||(ae.NotebookCell={}));var Nh;(function(e){function t(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}e.create=t;function n(r){let i=r;return vt.objectLiteral(i)&&vt.string(i.uri)&&Sr.integer.is(i.version)&&vt.typedArray(i.cells,cs.is)}e.is=n})(Nh=ae.NotebookDocument||(ae.NotebookDocument={}));var xr;(function(e){e.method="notebookDocument/sync",e.messageDirection=Tt.MessageDirection.clientToServer,e.type=new Tt.RegistrationType(e.method)})(xr=ae.NotebookDocumentSyncRegistrationType||(ae.NotebookDocumentSyncRegistrationType={}));var qh;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Tt.MessageDirection.clientToServer,e.type=new Tt.ProtocolNotificationType(e.method),e.registrationMethod=xr.method})(qh=ae.DidOpenNotebookDocumentNotification||(ae.DidOpenNotebookDocumentNotification={}));var Eh;(function(e){function t(r){let i=r;return vt.objectLiteral(i)&&Sr.uinteger.is(i.start)&&Sr.uinteger.is(i.deleteCount)&&(i.cells===void 0||vt.typedArray(i.cells,cs.is))}e.is=t;function n(r,i,o){let s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=n})(Eh=ae.NotebookCellArrayChange||(ae.NotebookCellArrayChange={}));var jh;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Tt.MessageDirection.clientToServer,e.type=new Tt.ProtocolNotificationType(e.method),e.registrationMethod=xr.method})(jh=ae.DidChangeNotebookDocumentNotification||(ae.DidChangeNotebookDocumentNotification={}));var Mh;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Tt.MessageDirection.clientToServer,e.type=new Tt.ProtocolNotificationType(e.method),e.registrationMethod=xr.method})(Mh=ae.DidSaveNotebookDocumentNotification||(ae.DidSaveNotebookDocumentNotification={}));var Ah;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Tt.MessageDirection.clientToServer,e.type=new Tt.ProtocolNotificationType(e.method),e.registrationMethod=xr.method})(Ah=ae.DidCloseNotebookDocumentNotification||(ae.DidCloseNotebookDocumentNotification={}))});var wu=H(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.RelativePattern=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeErrorCodes=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.PositionEncodingKind=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.NotebookCellTextDocumentFilter=h.NotebookDocumentFilter=h.TextDocumentFilter=void 0;h.TypeHierarchySubtypesRequest=h.TypeHierarchyPrepareRequest=h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolResolveRequest=void 0;h.DidCloseNotebookDocumentNotification=h.DidSaveNotebookDocumentNotification=h.DidChangeNotebookDocumentNotification=h.NotebookCellArrayChange=h.DidOpenNotebookDocumentNotification=h.NotebookDocumentSyncRegistrationType=h.NotebookDocument=h.NotebookCell=h.ExecutionSummary=h.NotebookCellKind=h.DiagnosticRefreshRequest=h.WorkspaceDiagnosticRequest=h.DocumentDiagnosticRequest=h.DocumentDiagnosticReportKind=h.DiagnosticServerCancellationData=h.InlayHintRefreshRequest=h.InlayHintResolveRequest=h.InlayHintRequest=h.InlineValueRefreshRequest=h.InlineValueRequest=h.TypeHierarchySupertypesRequest=void 0;var W=ve(),vu=fr(),Ae=Ur(),Fh=$c();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:function(){return Fh.ImplementationRequest}});var Lh=Hc();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Lh.TypeDefinitionRequest}});var bu=Bc();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return bu.WorkspaceFoldersRequest}});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return bu.DidChangeWorkspaceFoldersNotification}});var Ih=Uc();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:function(){return Ih.ConfigurationRequest}});var Su=Jc();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:function(){return Su.DocumentColorRequest}});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:function(){return Su.ColorPresentationRequest}});var Wh=Kc();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:function(){return Wh.FoldingRangeRequest}});var $h=Yc();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:function(){return $h.DeclarationRequest}});var Vh=Qc();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:function(){return Vh.SelectionRangeRequest}});var us=eu();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:function(){return us.WorkDoneProgress}});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return us.WorkDoneProgressCreateRequest}});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return us.WorkDoneProgressCancelNotification}});var ls=tu();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ls.CallHierarchyIncomingCallsRequest}});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ls.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ls.CallHierarchyPrepareRequest}});var On=nu();Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:function(){return On.TokenFormat}});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:function(){return On.SemanticTokensRequest}});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return On.SemanticTokensDeltaRequest}});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return On.SemanticTokensRangeRequest}});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return On.SemanticTokensRefreshRequest}});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return On.SemanticTokensRegistrationType}});var Hh=iu();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:function(){return Hh.ShowDocumentRequest}});var Bh=su();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Bh.LinkedEditingRangeRequest}});var sn=au();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:function(){return sn.FileOperationPatternKind}});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:function(){return sn.DidCreateFilesNotification}});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:function(){return sn.WillCreateFilesRequest}});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:function(){return sn.DidRenameFilesNotification}});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:function(){return sn.WillRenameFilesRequest}});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return sn.DidDeleteFilesNotification}});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return sn.WillDeleteFilesRequest}});var fs=uu();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:function(){return fs.UniquenessLevel}});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:function(){return fs.MonikerKind}});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:function(){return fs.MonikerRequest}});var ds=lu();Object.defineProperty(h,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return ds.TypeHierarchyPrepareRequest}});Object.defineProperty(h,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return ds.TypeHierarchySubtypesRequest}});Object.defineProperty(h,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return ds.TypeHierarchySupertypesRequest}});var xu=fu();Object.defineProperty(h,"InlineValueRequest",{enumerable:!0,get:function(){return xu.InlineValueRequest}});Object.defineProperty(h,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return xu.InlineValueRefreshRequest}});var hs=du();Object.defineProperty(h,"InlayHintRequest",{enumerable:!0,get:function(){return hs.InlayHintRequest}});Object.defineProperty(h,"InlayHintResolveRequest",{enumerable:!0,get:function(){return hs.InlayHintResolveRequest}});Object.defineProperty(h,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return hs.InlayHintRefreshRequest}});var kr=pu();Object.defineProperty(h,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return kr.DiagnosticServerCancellationData}});Object.defineProperty(h,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return kr.DocumentDiagnosticReportKind}});Object.defineProperty(h,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return kr.DocumentDiagnosticRequest}});Object.defineProperty(h,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return kr.WorkspaceDiagnosticRequest}});Object.defineProperty(h,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return kr.DiagnosticRefreshRequest}});var _t=yu();Object.defineProperty(h,"NotebookCellKind",{enumerable:!0,get:function(){return _t.NotebookCellKind}});Object.defineProperty(h,"ExecutionSummary",{enumerable:!0,get:function(){return _t.ExecutionSummary}});Object.defineProperty(h,"NotebookCell",{enumerable:!0,get:function(){return _t.NotebookCell}});Object.defineProperty(h,"NotebookDocument",{enumerable:!0,get:function(){return _t.NotebookDocument}});Object.defineProperty(h,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return _t.NotebookDocumentSyncRegistrationType}});Object.defineProperty(h,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return _t.DidOpenNotebookDocumentNotification}});Object.defineProperty(h,"NotebookCellArrayChange",{enumerable:!0,get:function(){return _t.NotebookCellArrayChange}});Object.defineProperty(h,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return _t.DidChangeNotebookDocumentNotification}});Object.defineProperty(h,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return _t.DidSaveNotebookDocumentNotification}});Object.defineProperty(h,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return _t.DidCloseNotebookDocumentNotification}});var ku;(function(e){function t(n){let r=n;return Ae.string(r.language)||Ae.string(r.scheme)||Ae.string(r.pattern)}e.is=t})(ku=h.TextDocumentFilter||(h.TextDocumentFilter={}));var Tu;(function(e){function t(n){let r=n;return Ae.objectLiteral(r)&&(Ae.string(r.notebookType)||Ae.string(r.scheme)||Ae.string(r.pattern))}e.is=t})(Tu=h.NotebookDocumentFilter||(h.NotebookDocumentFilter={}));var _u;(function(e){function t(n){let r=n;return Ae.objectLiteral(r)&&(Ae.string(r.notebook)||Tu.is(r.notebook))&&(r.language===void 0||Ae.string(r.language))}e.is=t})(_u=h.NotebookCellTextDocumentFilter||(h.NotebookCellTextDocumentFilter={}));var Du;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Ae.string(r)&&!ku.is(r)&&!_u.is(r))return!1;return!0}e.is=t})(Du=h.DocumentSelector||(h.DocumentSelector={}));var zh;(function(e){e.method="client/registerCapability",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(zh=h.RegistrationRequest||(h.RegistrationRequest={}));var Uh;(function(e){e.method="client/unregisterCapability",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(Uh=h.UnregistrationRequest||(h.UnregistrationRequest={}));var Jh;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Jh=h.ResourceOperationKind||(h.ResourceOperationKind={}));var Gh;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Gh=h.FailureHandlingKind||(h.FailureHandlingKind={}));var Kh;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Kh=h.PositionEncodingKind||(h.PositionEncodingKind={}));var Xh;(function(e){function t(n){let r=n;return r&&Ae.string(r.id)&&r.id.length>0}e.hasId=t})(Xh=h.StaticRegistrationOptions||(h.StaticRegistrationOptions={}));var Yh;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||Du.is(r.documentSelector))}e.is=t})(Yh=h.TextDocumentRegistrationOptions||(h.TextDocumentRegistrationOptions={}));var Zh;(function(e){function t(r){let i=r;return Ae.objectLiteral(i)&&(i.workDoneProgress===void 0||Ae.boolean(i.workDoneProgress))}e.is=t;function n(r){let i=r;return i&&Ae.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=n})(Zh=h.WorkDoneProgressOptions||(h.WorkDoneProgressOptions={}));var Qh;(function(e){e.method="initialize",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Qh=h.InitializeRequest||(h.InitializeRequest={}));var ep;(function(e){e.unknownProtocolVersion=1})(ep=h.InitializeErrorCodes||(h.InitializeErrorCodes={}));var tp;(function(e){e.method="initialized",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(tp=h.InitializedNotification||(h.InitializedNotification={}));var np;(function(e){e.method="shutdown",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType0(e.method)})(np=h.ShutdownRequest||(h.ShutdownRequest={}));var rp;(function(e){e.method="exit",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType0(e.method)})(rp=h.ExitNotification||(h.ExitNotification={}));var ip;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(ip=h.DidChangeConfigurationNotification||(h.DidChangeConfigurationNotification={}));var op;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(op=h.MessageType||(h.MessageType={}));var sp;(function(e){e.method="window/showMessage",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(sp=h.ShowMessageNotification||(h.ShowMessageNotification={}));var ap;(function(e){e.method="window/showMessageRequest",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(ap=h.ShowMessageRequest||(h.ShowMessageRequest={}));var cp;(function(e){e.method="window/logMessage",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(cp=h.LogMessageNotification||(h.LogMessageNotification={}));var up;(function(e){e.method="telemetry/event",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(up=h.TelemetryEventNotification||(h.TelemetryEventNotification={}));var lp;(function(e){e.None=0,e.Full=1,e.Incremental=2})(lp=h.TextDocumentSyncKind||(h.TextDocumentSyncKind={}));var fp;(function(e){e.method="textDocument/didOpen",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(fp=h.DidOpenTextDocumentNotification||(h.DidOpenTextDocumentNotification={}));var dp;(function(e){function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=n})(dp=h.TextDocumentContentChangeEvent||(h.TextDocumentContentChangeEvent={}));var hp;(function(e){e.method="textDocument/didChange",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(hp=h.DidChangeTextDocumentNotification||(h.DidChangeTextDocumentNotification={}));var pp;(function(e){e.method="textDocument/didClose",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(pp=h.DidCloseTextDocumentNotification||(h.DidCloseTextDocumentNotification={}));var gp;(function(e){e.method="textDocument/didSave",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(gp=h.DidSaveTextDocumentNotification||(h.DidSaveTextDocumentNotification={}));var mp;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(mp=h.TextDocumentSaveReason||(h.TextDocumentSaveReason={}));var yp;(function(e){e.method="textDocument/willSave",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(yp=h.WillSaveTextDocumentNotification||(h.WillSaveTextDocumentNotification={}));var vp;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(vp=h.WillSaveTextDocumentWaitUntilRequest||(h.WillSaveTextDocumentWaitUntilRequest={}));var bp;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(bp=h.DidChangeWatchedFilesNotification||(h.DidChangeWatchedFilesNotification={}));var Sp;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Sp=h.FileChangeType||(h.FileChangeType={}));var xp;(function(e){function t(n){let r=n;return Ae.objectLiteral(r)&&(vu.URI.is(r.baseUri)||vu.WorkspaceFolder.is(r.baseUri))&&Ae.string(r.pattern)}e.is=t})(xp=h.RelativePattern||(h.RelativePattern={}));var kp;(function(e){e.Create=1,e.Change=2,e.Delete=4})(kp=h.WatchKind||(h.WatchKind={}));var Tp;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(Tp=h.PublishDiagnosticsNotification||(h.PublishDiagnosticsNotification={}));var _p;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(_p=h.CompletionTriggerKind||(h.CompletionTriggerKind={}));var Dp;(function(e){e.method="textDocument/completion",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Dp=h.CompletionRequest||(h.CompletionRequest={}));var wp;(function(e){e.method="completionItem/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(wp=h.CompletionResolveRequest||(h.CompletionResolveRequest={}));var Pp;(function(e){e.method="textDocument/hover",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Pp=h.HoverRequest||(h.HoverRequest={}));var Rp;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Rp=h.SignatureHelpTriggerKind||(h.SignatureHelpTriggerKind={}));var Cp;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Cp=h.SignatureHelpRequest||(h.SignatureHelpRequest={}));var Op;(function(e){e.method="textDocument/definition",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Op=h.DefinitionRequest||(h.DefinitionRequest={}));var Np;(function(e){e.method="textDocument/references",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Np=h.ReferencesRequest||(h.ReferencesRequest={}));var qp;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(qp=h.DocumentHighlightRequest||(h.DocumentHighlightRequest={}));var Ep;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Ep=h.DocumentSymbolRequest||(h.DocumentSymbolRequest={}));var jp;(function(e){e.method="textDocument/codeAction",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(jp=h.CodeActionRequest||(h.CodeActionRequest={}));var Mp;(function(e){e.method="codeAction/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Mp=h.CodeActionResolveRequest||(h.CodeActionResolveRequest={}));var Ap;(function(e){e.method="workspace/symbol",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Ap=h.WorkspaceSymbolRequest||(h.WorkspaceSymbolRequest={}));var Fp;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Fp=h.WorkspaceSymbolResolveRequest||(h.WorkspaceSymbolResolveRequest={}));var Lp;(function(e){e.method="textDocument/codeLens",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Lp=h.CodeLensRequest||(h.CodeLensRequest={}));var Ip;(function(e){e.method="codeLens/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Ip=h.CodeLensResolveRequest||(h.CodeLensResolveRequest={}));var Wp;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType0(e.method)})(Wp=h.CodeLensRefreshRequest||(h.CodeLensRefreshRequest={}));var $p;(function(e){e.method="textDocument/documentLink",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})($p=h.DocumentLinkRequest||(h.DocumentLinkRequest={}));var Vp;(function(e){e.method="documentLink/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Vp=h.DocumentLinkResolveRequest||(h.DocumentLinkResolveRequest={}));var Hp;(function(e){e.method="textDocument/formatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Hp=h.DocumentFormattingRequest||(h.DocumentFormattingRequest={}));var Bp;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Bp=h.DocumentRangeFormattingRequest||(h.DocumentRangeFormattingRequest={}));var zp;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(zp=h.DocumentOnTypeFormattingRequest||(h.DocumentOnTypeFormattingRequest={}));var Up;(function(e){e.Identifier=1})(Up=h.PrepareSupportDefaultBehavior||(h.PrepareSupportDefaultBehavior={}));var Jp;(function(e){e.method="textDocument/rename",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Jp=h.RenameRequest||(h.RenameRequest={}));var Gp;(function(e){e.method="textDocument/prepareRename",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Gp=h.PrepareRenameRequest||(h.PrepareRenameRequest={}));var Kp;(function(e){e.method="workspace/executeCommand",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(Kp=h.ExecuteCommandRequest||(h.ExecuteCommandRequest={}));var Xp;(function(e){e.method="workspace/applyEdit",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType("workspace/applyEdit")})(Xp=h.ApplyWorkspaceEditRequest||(h.ApplyWorkspaceEditRequest={}))});var Ru=H(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.createProtocolConnection=void 0;var Pu=nn();function Yp(e,t,n,r){return Pu.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Pu.createMessageConnection)(e,t,n,r)}Zr.createProtocolConnection=Yp});var Cu=H(Je=>{"use strict";var Zp=Je&&Je.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Qr=Je&&Je.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Zp(t,e,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.LSPErrorCodes=Je.createProtocolConnection=void 0;Qr(nn(),Je);Qr(fr(),Je);Qr(ve(),Je);Qr(wu(),Je);var Qp=Ru();Object.defineProperty(Je,"createProtocolConnection",{enumerable:!0,get:function(){return Qp.createProtocolConnection}});var eg;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(eg=Je.LSPErrorCodes||(Je.LSPErrorCodes={}))});var Re=H(Dt=>{"use strict";var tg=Dt&&Dt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ou=Dt&&Dt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&tg(t,e,n)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createProtocolConnection=void 0;var ng=ho();Ou(ho(),Dt);Ou(Cu(),Dt);function rg(e,t,n,r){return(0,ng.createMessageConnection)(e,t,n,r)}Dt.createProtocolConnection=rg});var ps=H(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.generateUuid=rt.parse=rt.isUUID=rt.v4=rt.empty=void 0;var ei=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},ne=class extends ei{constructor(){super([ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-","4",ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._oneOf(ne._timeHighBits),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return ne._oneOf(ne._chars)}};ne._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ne._timeHighBits=["8","9","a","b"];rt.empty=new ei("00000000-0000-0000-0000-000000000000");function Nu(){return new ne}rt.v4=Nu;var ig=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function qu(e){return ig.test(e)}rt.isUUID=qu;function og(e){if(!qu(e))throw new Error("invalid uuid");return new ei(e)}rt.parse=og;function sg(){return Nu().asHex()}rt.generateUuid=sg});var ju=H(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.attachPartialResult=Bt.ProgressFeature=Bt.attachWorkDone=void 0;var zt=Re(),ag=ps(),Mt=class{constructor(t,n){this._connection=t,this._token=n,Mt.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(zt.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(zt.WorkDoneProgress.type,this._token,r)}done(){Mt.Instances.delete(this._token),this._connection.sendProgress(zt.WorkDoneProgress.type,this._token,{kind:"end"})}};Mt.Instances=new Map;var gs=class extends Mt{constructor(t,n){super(t,n);this._source=new zt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},ti=class{constructor(){}begin(){}report(){}done(){}},ms=class extends ti{constructor(){super();this._source=new zt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function cg(e,t){if(t===void 0||t.workDoneToken===void 0)return new ti;let n=t.workDoneToken;return delete t.workDoneToken,new Mt(e,n)}Bt.attachWorkDone=cg;var ug=e=>class extends e{constructor(){super();this._progressSupported=!1}initialize(t){var n;super.initialize(t),((n=t==null?void 0:t.window)==null?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(zt.WorkDoneProgressCancelNotification.type,r=>{let i=Mt.Instances.get(r.token);(i instanceof gs||i instanceof ms)&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new ti:new Mt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,ag.generateUuid)();return this.connection.sendRequest(zt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new gs(this.connection,t))}else return Promise.resolve(new ms)}};Bt.ProgressFeature=ug;var ys;(function(e){e.type=new zt.ProgressType})(ys||(ys={}));var Eu=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(ys.type,this._token,t)}};function lg(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new Eu(e,n)}Bt.attachPartialResult=lg});var Mu=H(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.ConfigurationFeature=void 0;var fg=Re(),dg=qr(),hg=e=>class extends e{getConfiguration(t){return t?dg.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(fg.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};ni.ConfigurationFeature=hg});var Au=H(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.WorkspaceFoldersFeature=void 0;var ii=Re(),pg=e=>class extends e{constructor(){super();this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ii.Emitter,this.connection.onNotification(ii.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){var r,i;super.fillServerCapabilities(t);let n=(i=(r=t.workspace)==null?void 0:r.workspaceFolders)==null?void 0:i.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(ii.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(ii.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};ri.WorkspaceFoldersFeature=pg});var Fu=H(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.CallHierarchyFeature=void 0;var vs=Re(),gg=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(vs.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{let n=vs.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=vs.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};oi.CallHierarchyFeature=gg});var Ss=H(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.SemanticTokensBuilder=Ut.SemanticTokensDiff=Ut.SemanticTokensFeature=void 0;var si=Re(),mg=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(si.SemanticTokensRefreshRequest.type),on:t=>{let n=si.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=si.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=si.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ut.SemanticTokensFeature=mg;var bs=class{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){let t=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);let s=i-r+1,a=this.modifiedSequence.slice(r,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:a}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}};Ut.SemanticTokensDiff=bs;var Lu=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let s=t,a=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new bs(this._prevData,this._data).computeDiff()}:this.build()}};Ut.SemanticTokensBuilder=Lu});var Iu=H(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.ShowDocumentFeature=void 0;var yg=Re(),vg=e=>class extends e{showDocument(t){return this.connection.sendRequest(yg.ShowDocumentRequest.type,t)}};ai.ShowDocumentFeature=vg});var Wu=H(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.FileOperationsFeature=void 0;var Nn=Re(),bg=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Nn.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(Nn.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(Nn.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Nn.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Nn.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Nn.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};ci.FileOperationsFeature=bg});var $u=H(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.LinkedEditingRangeFeature=void 0;var Sg=Re(),xg=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Sg.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};ui.LinkedEditingRangeFeature=xg});var Vu=H(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.TypeHierarchyFeature=void 0;var xs=Re(),kg=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(xs.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{let n=xs.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{let n=xs.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};li.TypeHierarchyFeature=kg});var Bu=H(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.InlineValueFeature=void 0;var Hu=Re(),Tg=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Hu.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(Hu.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};fi.InlineValueFeature=Tg});var zu=H(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.InlayHintFeature=void 0;var ks=Re(),_g=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(ks.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(ks.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(ks.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};di.InlayHintFeature=_g});var Uu=H(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.DiagnosticFeature=void 0;var Tr=Re(),Dg=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Tr.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Tr.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Tr.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Tr.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Tr.WorkspaceDiagnosticRequest.partialResult,n)))}}};hi.DiagnosticFeature=Dg});var Ts=H(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.TextDocuments=void 0;var an=Re(),Ju=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new an.Emitter,this._onDidOpen=new an.Emitter,this._onDidClose=new an.Emitter,this._onDidSave=new an.Emitter,this._onWillSave=new an.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=an.TextDocumentSyncKind.Incremental;let n=[];return n.push(t.onDidOpenTextDocument(r=>{let i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(t.onDidChangeTextDocument(r=>{let i=r.textDocument,o=r.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),an.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};pi.TextDocuments=Ju});var _s=H(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.NotebookDocuments=qn.NotebookSyncFeature=void 0;var it=Re(),Gu=Ts(),wg=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(it.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(it.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(it.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(it.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};qn.NotebookSyncFeature=wg;var cn=class{onDidOpenTextDocument(t){return this.openHandler=t,it.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,it.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,it.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return cn.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return cn.NULL_DISPOSE}onDidSaveTextDocument(){return cn.NULL_DISPOSE}};cn.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Ku=class{constructor(t){t instanceof Gu.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Gu.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new it.Emitter,this._onDidChange=new it.Emitter,this._onDidSave=new it.Emitter,this._onDidClose=new it.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){let n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let n=new cn,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,f=i.change;f.metadata!==void 0&&(a=!0,o.metadata=f.metadata);let u=[],c=[],m=[],p=[];if(f.cells!==void 0){let k=f.cells;if(k.structure!==void 0){let d=k.structure.array;if(o.cells.splice(d.start,d.deleteCount,...d.cells!==void 0?d.cells:[]),k.structure.didOpen!==void 0)for(let l of k.structure.didOpen)n.openTextDocument({textDocument:l}),u.push(l.uri);if(k.structure.didClose)for(let l of k.structure.didClose)n.closeTextDocument({textDocument:l}),c.push(l.uri)}if(k.data!==void 0){let d=new Map(k.data.map(l=>[l.document,l]));for(let l=0;l<=o.cells.length;l++){let g=d.get(o.cells[l].document);if(g!==void 0){let x=o.cells.splice(l,1,g);if(m.push({old:x[0],new:g}),d.delete(g.document),d.size===0)break}}}if(k.textContent!==void 0)for(let d of k.textContent)n.changeTextDocument({textDocument:d.document,contentChanges:d.changes}),p.push(d.document.uri)}this.updateCellMap(o);let v={notebookDocument:o};a&&(v.metadata={old:s,new:o.metadata});let y=[];for(let k of u)y.push(this.getNotebookCell(k));let S=[];for(let k of c)S.push(this.getNotebookCell(k));let D=[];for(let k of p)D.push(this.getNotebookCell(k));(y.length>0||S.length>0||m.length>0||D.length>0)&&(v.cells={added:y,removed:S,changed:{data:m,textContent:D}}),(v.metadata!==void 0||v.cells!==void 0)&&this._onDidChange.fire(v)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),it.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(let n of t.cells)this.notebookCellMap.set(n.document,[n,t])}};qn.NotebookDocuments=Ku});var Xu=H(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.MonikerFeature=void 0;var Pg=Re(),Rg=e=>class extends e{get moniker(){return{on:t=>{let n=Pg.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};gi.MonikerFeature=Rg});var js=H(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.createConnection=oe.combineFeatures=oe.combineNotebooksFeatures=oe.combineLanguagesFeatures=oe.combineWorkspaceFeatures=oe.combineWindowFeatures=oe.combineClientFeatures=oe.combineTracerFeatures=oe.combineTelemetryFeatures=oe.combineConsoleFeatures=oe._NotebooksImpl=oe._LanguagesImpl=oe.BulkUnregistration=oe.BulkRegistration=oe.ErrorMessageTracker=void 0;var V=Re(),ot=qr(),Ds=ps(),te=ju(),Cg=Mu(),Og=Au(),Ng=Fu(),qg=Ss(),Eg=Iu(),jg=Wu(),Mg=$u(),Ag=Vu(),Fg=Bu(),Lg=zu(),Ig=Uu(),Wg=_s(),$g=Xu();function ws(e){if(e!==null)return e}var Yu=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};oe.ErrorMessageTracker=Yu;var Ps=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(V.MessageType.Error,t)}warn(t){this.send(V.MessageType.Warning,t)}info(t){this.send(V.MessageType.Info,t)}log(t){this.send(V.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(V.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,V.RAL)().console.error("Sending log message failed")})}},Zu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:V.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(V.ShowMessageRequest.type,r).then(ws)}showWarningMessage(t,...n){let r={type:V.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(V.ShowMessageRequest.type,r).then(ws)}showInformationMessage(t,...n){let r={type:V.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(V.ShowMessageRequest.type,r).then(ws)}},Qu=(0,Eg.ShowDocumentFeature)((0,te.ProgressFeature)(Zu)),Vg;(function(e){function t(){return new Rs}e.create=t})(Vg=oe.BulkRegistration||(oe.BulkRegistration={}));var Rs=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=ot.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Ds.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Hg;(function(e){function t(){return new mi(void 0,[])}e.create=t})(Hg=oe.BulkUnregistration||(oe.BulkUnregistration={}));var mi=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(V.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=ot.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(V.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Cs=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof Rs?this.registerMany(t):t instanceof mi?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let i=ot.string(n)?n:n.method,o=Ds.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(V.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,n){let r=ot.string(t)?t:t.method,i=Ds.generateUuid(),o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(V.RegistrationRequest.type,o).then(s=>V.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(V.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(V.RegistrationRequest.type,n).then(()=>new mi(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},el=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(V.ApplyWorkspaceEditRequest.type,r)}},tl=(0,jg.FileOperationsFeature)((0,Og.WorkspaceFoldersFeature)((0,Cg.ConfigurationFeature)(el))),Os=class{constructor(){this._trace=V.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==V.Trace.Off&&this.connection.sendNotification(V.LogTraceNotification.type,{message:t,verbose:this._trace===V.Trace.Verbose?n:void 0}).catch(()=>{})}},Ns=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(V.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},qs=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,te.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,te.attachPartialResult)(this.connection,n)}};oe._LanguagesImpl=qs;var nl=(0,$g.MonikerFeature)((0,Ig.DiagnosticFeature)((0,Lg.InlayHintFeature)((0,Fg.InlineValueFeature)((0,Ag.TypeHierarchyFeature)((0,Mg.LinkedEditingRangeFeature)((0,qg.SemanticTokensFeature)((0,Ng.CallHierarchyFeature)(qs)))))))),Es=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,te.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,te.attachPartialResult)(this.connection,n)}};oe._NotebooksImpl=Es;var rl=(0,Wg.NotebookSyncFeature)(Es);function il(e,t){return function(n){return t(e(n))}}oe.combineConsoleFeatures=il;function ol(e,t){return function(n){return t(e(n))}}oe.combineTelemetryFeatures=ol;function sl(e,t){return function(n){return t(e(n))}}oe.combineTracerFeatures=sl;function al(e,t){return function(n){return t(e(n))}}oe.combineClientFeatures=al;function cl(e,t){return function(n){return t(e(n))}}oe.combineWindowFeatures=cl;function ul(e,t){return function(n){return t(e(n))}}oe.combineWorkspaceFeatures=ul;function ll(e,t){return function(n){return t(e(n))}}oe.combineLanguagesFeatures=ll;function fl(e,t){return function(n){return t(e(n))}}oe.combineNotebooksFeatures=fl;function Bg(e,t){function n(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:n(e.console,t.console,il),tracer:n(e.tracer,t.tracer,sl),telemetry:n(e.telemetry,t.telemetry,ol),client:n(e.client,t.client,al),window:n(e.window,t.window,cl),workspace:n(e.workspace,t.workspace,ul),languages:n(e.languages,t.languages,ll),notebooks:n(e.notebooks,t.notebooks,fl)}}oe.combineFeatures=Bg;function zg(e,t,n){let r=n&&n.console?new(n.console(Ps)):new Ps,i=e(r);r.rawAttach(i);let o=n&&n.tracer?new(n.tracer(Os)):new Os,s=n&&n.telemetry?new(n.telemetry(Ns)):new Ns,a=n&&n.client?new(n.client(Cs)):new Cs,f=n&&n.window?new(n.window(Qu)):new Qu,u=n&&n.workspace?new(n.workspace(tl)):new tl,c=n&&n.languages?new(n.languages(nl)):new nl,m=n&&n.notebooks?new(n.notebooks(rl)):new rl,p=[r,o,s,a,f,u,c,m];function v(d){return d instanceof Promise?d:ot.thenable(d)?new Promise((l,g)=>{d.then(x=>l(x),x=>g(x))}):Promise.resolve(d)}let y,S,D,k={listen:()=>i.listen(),sendRequest:(d,...l)=>i.sendRequest(ot.string(d)?d:d.method,...l),onRequest:(d,l)=>i.onRequest(d,l),sendNotification:(d,l)=>{let g=ot.string(d)?d:d.method;return arguments.length===1?i.sendNotification(g):i.sendNotification(g,l)},onNotification:(d,l)=>i.onNotification(d,l),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:d=>(S=d,{dispose:()=>{S=void 0}}),onInitialized:d=>i.onNotification(V.InitializedNotification.type,d),onShutdown:d=>(y=d,{dispose:()=>{y=void 0}}),onExit:d=>(D=d,{dispose:()=>{D=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return f},get workspace(){return u},get languages(){return c},get notebooks(){return m},onDidChangeConfiguration:d=>i.onNotification(V.DidChangeConfigurationNotification.type,d),onDidChangeWatchedFiles:d=>i.onNotification(V.DidChangeWatchedFilesNotification.type,d),__textDocumentSync:void 0,onDidOpenTextDocument:d=>i.onNotification(V.DidOpenTextDocumentNotification.type,d),onDidChangeTextDocument:d=>i.onNotification(V.DidChangeTextDocumentNotification.type,d),onDidCloseTextDocument:d=>i.onNotification(V.DidCloseTextDocumentNotification.type,d),onWillSaveTextDocument:d=>i.onNotification(V.WillSaveTextDocumentNotification.type,d),onWillSaveTextDocumentWaitUntil:d=>i.onRequest(V.WillSaveTextDocumentWaitUntilRequest.type,d),onDidSaveTextDocument:d=>i.onNotification(V.DidSaveTextDocumentNotification.type,d),sendDiagnostics:d=>i.sendNotification(V.PublishDiagnosticsNotification.type,d),onHover:d=>i.onRequest(V.HoverRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),onCompletion:d=>i.onRequest(V.CompletionRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onCompletionResolve:d=>i.onRequest(V.CompletionResolveRequest.type,d),onSignatureHelp:d=>i.onRequest(V.SignatureHelpRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),onDeclaration:d=>i.onRequest(V.DeclarationRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onDefinition:d=>i.onRequest(V.DefinitionRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onTypeDefinition:d=>i.onRequest(V.TypeDefinitionRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onImplementation:d=>i.onRequest(V.ImplementationRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onReferences:d=>i.onRequest(V.ReferencesRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onDocumentHighlight:d=>i.onRequest(V.DocumentHighlightRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onDocumentSymbol:d=>i.onRequest(V.DocumentSymbolRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onWorkspaceSymbol:d=>i.onRequest(V.WorkspaceSymbolRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onWorkspaceSymbolResolve:d=>i.onRequest(V.WorkspaceSymbolResolveRequest.type,d),onCodeAction:d=>i.onRequest(V.CodeActionRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onCodeActionResolve:d=>i.onRequest(V.CodeActionResolveRequest.type,(l,g)=>d(l,g)),onCodeLens:d=>i.onRequest(V.CodeLensRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onCodeLensResolve:d=>i.onRequest(V.CodeLensResolveRequest.type,(l,g)=>d(l,g)),onDocumentFormatting:d=>i.onRequest(V.DocumentFormattingRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),onDocumentRangeFormatting:d=>i.onRequest(V.DocumentRangeFormattingRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),onDocumentOnTypeFormatting:d=>i.onRequest(V.DocumentOnTypeFormattingRequest.type,(l,g)=>d(l,g)),onRenameRequest:d=>i.onRequest(V.RenameRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),onPrepareRename:d=>i.onRequest(V.PrepareRenameRequest.type,(l,g)=>d(l,g)),onDocumentLinks:d=>i.onRequest(V.DocumentLinkRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onDocumentLinkResolve:d=>i.onRequest(V.DocumentLinkResolveRequest.type,(l,g)=>d(l,g)),onDocumentColor:d=>i.onRequest(V.DocumentColorRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onColorPresentation:d=>i.onRequest(V.ColorPresentationRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onFoldingRanges:d=>i.onRequest(V.FoldingRangeRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onSelectionRanges:d=>i.onRequest(V.SelectionRangeRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),(0,te.attachPartialResult)(i,l))),onExecuteCommand:d=>i.onRequest(V.ExecuteCommandRequest.type,(l,g)=>d(l,g,(0,te.attachWorkDone)(i,l),void 0)),dispose:()=>i.dispose()};for(let d of p)d.attach(k);return i.onRequest(V.InitializeRequest.type,d=>{t.initialize(d),ot.string(d.trace)&&(o.trace=V.Trace.fromString(d.trace));for(let l of p)l.initialize(d.capabilities);if(S){let l=S(d,new V.CancellationTokenSource().token,(0,te.attachWorkDone)(i,d),void 0);return v(l).then(g=>{if(g instanceof V.ResponseError)return g;let x=g;x||(x={capabilities:{}});let E=x.capabilities;E||(E={},x.capabilities=E),E.textDocumentSync===void 0||E.textDocumentSync===null?E.textDocumentSync=ot.number(k.__textDocumentSync)?k.__textDocumentSync:V.TextDocumentSyncKind.None:!ot.number(E.textDocumentSync)&&!ot.number(E.textDocumentSync.change)&&(E.textDocumentSync.change=ot.number(k.__textDocumentSync)?k.__textDocumentSync:V.TextDocumentSyncKind.None);for(let b of p)b.fillServerCapabilities(E);return x})}else{let l={capabilities:{textDocumentSync:V.TextDocumentSyncKind.None}};for(let g of p)g.fillServerCapabilities(l.capabilities);return l}}),i.onRequest(V.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,y)return y(new V.CancellationTokenSource().token)}),i.onNotification(V.ExitNotification.type,()=>{try{D&&D()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(V.SetTraceNotification.type,d=>{o.trace=V.Trace.fromString(d.value)}),k}oe.createConnection=zg});var hl=H(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.resolveModulePath=Ge.FileSystem=Ge.resolveGlobalYarnPath=Ge.resolveGlobalNodePath=Ge.resolve=Ge.uriToFilePath=void 0;var Ug=require("url"),bt=require("path"),Ms=require("fs"),As=require("child_process");function Jg(e){let t=Ug.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let o=n[0],s=n[1];o.length===0&&s.length>1&&s[1]===":"&&n.shift()}return bt.normalize(n.join("/"))}Ge.uriToFilePath=Jg;function Fs(){return process.platform==="win32"}function yi(e,t,n,r){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,a)=>{let f=process.env,u=Object.create(null);Object.keys(f).forEach(c=>u[c]=f[c]),t&&Ms.existsSync(t)&&(u[i]?u[i]=t+bt.delimiter+u[i]:u[i]=t,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=(0,As.fork)("",[],{cwd:n,env:u,execArgv:["-e",o]});if(c.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}c.on("error",p=>{a(p)}),c.on("message",p=>{p.c==="r"&&(c.send({c:"e"}),p.s?s(p.r):a(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};c.send(m)}catch(c){a(c)}})}Ge.resolve=yi;function Ls(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(o=>n[o]=process.env[o]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Fs()&&(t="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let o=(0,As.spawnSync)(t,["config","get","prefix"],r).stdout;if(!o){e&&e("'npm config get prefix' didn't return a value.");return}let s=o.trim();return e&&e(`'npm config get prefix' value is: ${s}`),s.length>0?Fs()?bt.join(s,"node_modules"):bt.join(s,"lib","node_modules"):void 0}catch(o){return}finally{process.removeListener("SIGPIPE",i)}}Ge.resolveGlobalNodePath=Ls;function Gg(e){let t="yarn",n={encoding:"utf8"};Fs()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=(0,As.spawnSync)(t,["global","dir","--json"],n),o=i.stdout;if(!o){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let s=o.trim().split(/\r?\n/);for(let a of s)try{let f=JSON.parse(a);if(f.type==="log")return bt.join(f.data,"node_modules")}catch(f){}return}catch(i){return}finally{process.removeListener("SIGPIPE",r)}}Ge.resolveGlobalYarnPath=Gg;var dl;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Ms.existsSync(__filename.toUpperCase())||!Ms.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(i,o){return n()?bt.normalize(o).indexOf(bt.normalize(i))===0:bt.normalize(o).toLowerCase().indexOf(bt.normalize(i).toLowerCase())===0}e.isParent=r})(dl=Ge.FileSystem||(Ge.FileSystem={}));function Kg(e,t,n,r){return n?(bt.isAbsolute(n)||(n=bt.join(e,n)),yi(t,n,n,r).then(i=>dl.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>yi(t,Ls(r),e,r))):yi(t,Ls(r),e,r)}Ge.resolveModulePath=Kg});var Is=H((lv,pl)=>{"use strict";pl.exports=Re()});var ml=H(Fe=>{"use strict";var Xg=Fe&&Fe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),gl=Fe&&Fe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Xg(t,e,n)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ProposedFeatures=Fe.NotebookDocuments=Fe.TextDocuments=Fe.SemanticTokensBuilder=void 0;var Yg=Ss();Object.defineProperty(Fe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Yg.SemanticTokensBuilder}});gl(Re(),Fe);var Zg=Ts();Object.defineProperty(Fe,"TextDocuments",{enumerable:!0,get:function(){return Zg.TextDocuments}});var Qg=_s();Object.defineProperty(Fe,"NotebookDocuments",{enumerable:!0,get:function(){return Qg.NotebookDocuments}});gl(js(),Fe);var em;(function(e){e.all={__brand:"features"}})(em=Fe.ProposedFeatures||(Fe.ProposedFeatures={}))});var Dr=H(Qe=>{"use strict";var tm=Qe&&Qe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),yl=Qe&&Qe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&tm(t,e,n)};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.createConnection=Qe.Files=void 0;var Ws=qr(),nm=js(),_r=hl(),un=Is();yl(Is(),Qe);yl(ml(),Qe);var rm;(function(e){e.uriToFilePath=_r.uriToFilePath,e.resolveGlobalNodePath=_r.resolveGlobalNodePath,e.resolveGlobalYarnPath=_r.resolveGlobalYarnPath,e.resolve=_r.resolve,e.resolveModulePath=_r.resolveModulePath})(rm=Qe.Files||(Qe.Files={}));var vl;function vi(){if(vl!==void 0)try{vl.end()}catch(e){}}var En=!1,bl;function im(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(bl=setInterval(()=>{try{process.kill(r,0)}catch(i){vi(),process.exit(En?0:1)}},3e3))}catch(r){}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let i=r.split("=");i[0]===e&&t(i[1])}}}im();var om={initialize:e=>{let t=e.processId;Ws.number(t)&&bl===void 0&&setInterval(()=>{try{process.kill(t,0)}catch(n){process.exit(En?0:1)}},3e3)},get shutdownReceived(){return En},set shutdownReceived(e){En=e},exit:e=>{vi(),process.exit(e)}};function am(e,t,n,r){let i,o,s,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=n,n=r),un.ConnectionStrategy.is(e)||un.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=n),sm(o,s,a,i)}Qe.createConnection=am;function sm(e,t,n,r){if(!e&&!t&&process.argv.length>2){let a,f,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let m=u[c];if(m==="--node-ipc"){e=new un.IPCMessageReader(process),t=new un.IPCMessageWriter(process);break}else if(m==="--stdio"){e=process.stdin,t=process.stdout;break}else if(m==="--socket"){a=parseInt(u[c+1]);break}else if(m==="--pipe"){f=u[c+1];break}else{var i=m.split("=");if(i[0]==="--socket"){a=parseInt(i[1]);break}else if(i[0]==="--pipe"){f=i[1];break}}}if(a){let c=(0,un.createServerSocketTransport)(a);e=c[0],t=c[1]}else if(f){let c=(0,un.createServerPipeTransport)(f);e=c[0],t=c[1]}}var o="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+o);if(!t)throw new Error("Connection output stream is not set. "+o);if(Ws.func(e.read)&&Ws.func(e.on)){let a=e;a.on("end",()=>{vi(),process.exit(En?0:1)}),a.on("close",()=>{vi(),process.exit(En?0:1)})}let s=a=>(0,un.createProtocolConnection)(e,t,a,n);return(0,nm.createConnection)(s,om,r)}});var xl=H((hv,Sl)=>{"use strict";Sl.exports=Dr()});var Xs=H(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Gs;function Ks(){if(Gs===void 0)throw new Error("No runtime abstraction layer installed");return Gs}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Gs=n}e.install=t})(Ks||(Ks={}));Js.default=Ks});var Zs=H(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.config=ye.loadMessageBundle=ye.localize=ye.format=ye.setPseudo=ye.isPseudo=ye.isDefined=ye.BundleFormat=ye.MessageFormat=void 0;var jl=Xs(),gm;(function(e){e.file="file",e.bundle="bundle",e.both="both"})(gm=ye.MessageFormat||(ye.MessageFormat={}));var mm;(function(e){e.standalone="standalone",e.languagePack="languagePack"})(mm=ye.BundleFormat||(ye.BundleFormat={}));var Ml;(function(e){function t(n){var r=n;return r&&Ys(r.key)&&Ys(r.comment)}e.is=t})(Ml||(Ml={}));function Ys(e){return typeof e!="undefined"}ye.isDefined=Ys;ye.isPseudo=!1;function ym(e){ye.isPseudo=e}ye.setPseudo=ym;function Al(e,t){var n;return ye.isPseudo&&(e="\uFF3B"+e.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t.length===0?n=e:n=e.replace(/\{(\d+)\}/g,function(r,i){var o=i[0],s=t[o],a=r;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),n}ye.format=Al;function vm(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Al(t,n)}ye.localize=vm;function bm(e){return(0,jl.default)().loadMessageBundle(e)}ye.loadMessageBundle=bm;function Sm(e){return(0,jl.default)().config(e)}ye.config=Sm});var Vn=H(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.config=Rt.loadMessageBundle=Rt.BundleFormat=Rt.MessageFormat=void 0;var St=require("path"),ct=require("fs"),xm=Xs(),Ke=Zs(),Fl=Zs();Object.defineProperty(Rt,"MessageFormat",{enumerable:!0,get:function(){return Fl.MessageFormat}});Object.defineProperty(Rt,"BundleFormat",{enumerable:!0,get:function(){return Fl.BundleFormat}});var Ll=Object.prototype.toString;function km(e){return Ll.call(e)==="[object Number]"}function At(e){return Ll.call(e)==="[object String]"}function Tm(e){return e===!0||e===!1}function $n(e){return JSON.parse(ct.readFileSync(e,"utf8"))}var Di,ie;function _m(){if(ie={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:Ke.MessageFormat.bundle},At(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];At(n)&&(t=n)}if(At(e.locale)&&(ie.locale=e.locale.toLowerCase()),t===void 0?ie.language=ie.locale:t!=="en"&&(ie.language=t),Tm(e._languagePackSupport)&&(ie.languagePackSupport=e._languagePackSupport),At(e._cacheRoot)&&(ie.cacheRoot=e._cacheRoot),At(e._languagePackId)&&(ie.languagePackId=e._languagePackId),At(e._translationsConfigFile)){ie.translationsConfigFile=e._translationsConfigFile;try{ie.translationsConfig=$n(ie.translationsConfigFile)}catch(i){if(e._corruptedFile){var r=St.dirname(e._corruptedFile);ct.exists(r,function(o){o&&ct.writeFile(e._corruptedFile,"corrupted","utf8",function(s){console.error(s)})})}}}}catch(i){}(0,Ke.setPseudo)(ie.locale==="pseudo"),Di=Object.create(null)}_m();function Dm(){return ie.languagePackSupport===!0&&ie.cacheRoot!==void 0&&ie.languagePackId!==void 0&&ie.translationsConfigFile!==void 0&&ie.translationsConfig!==void 0}function Qs(e){return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(km(t)){if(t>=e.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack));return}return(0,Ke.format)(e[t],r)}else{if(At(n))return console.warn("Message ".concat(n," didn't get externalized correctly.")),(0,Ke.format)(n,r);console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}}function wm(e){var t;if(ie.cacheLanguageResolution&&t)t=t;else{if(Ke.isPseudo||!ie.language)t=".nls.json";else for(var n=ie.language;n;){var r=".nls."+n+".json";if(ct.existsSync(e+r)){t=r;break}else{var i=n.lastIndexOf("-");i>0?n=n.substring(0,i):(t=".nls.json",n=null)}}ie.cacheLanguageResolution&&(t=t)}return e+t}function Pm(e){for(var t=ie.language;t;){var n=St.join(e,"nls.bundle.".concat(t,".json"));if(ct.existsSync(n))return n;var r=t.lastIndexOf("-");r>0?t=t.substring(0,r):t=void 0}if(t===void 0){var n=St.join(e,"nls.bundle.json");if(ct.existsSync(n))return n}}function Rm(e){var t=$n(St.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var i=t[r];n[r]=i.messages}return n}function Cm(e,t){var n=ie.translationsConfig[e.id];if(!!n){var r=$n(n).contents,i=$n(St.join(t,"nls.metadata.json")),o=Object.create(null);for(var s in i){var a=i[s],f=r["".concat(e.outDir,"/").concat(s)];if(f){for(var u=[],c=0;c<a.keys.length;c++){var m=a.keys[c],p=At(m)?m:m.key,v=f[p];v===void 0&&(v=a.messages[c]),u.push(v)}o[s]=u}else o[s]=a.messages}return o}}function Om(e){var t=new Date;ct.utimes(e,t,t,function(){})}function ea(e,t){return Di[e]=t,t}function Nm(e,t){var n,r=St.join(ie.cacheRoot,"".concat(e.id,"-").concat(e.hash,".json")),i=!1,o=!1;try{return n=JSON.parse(ct.readFileSync(r,{encoding:"utf8",flag:"r"})),Om(r),n}catch(s){if(s.code==="ENOENT")o=!0;else if(s instanceof SyntaxError)console.log("Syntax error parsing message bundle: ".concat(s.message,".")),ct.unlink(r,function(a){a&&console.error("Deleting corrupted bundle ".concat(r," failed."))}),i=!0;else throw s}if(n=Cm(e,t),!n||i)return n;if(o)try{ct.writeFileSync(r,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(s){if(s.code==="EEXIST")return n;throw s}return n}function Il(e){try{return Rm(e)}catch(t){console.log("Generating default bundle from meta data failed.",t);return}}function qm(e,t){var n;if(Dm())try{n=Nm(e,t)}catch(i){console.log("Load or create bundle failed ",i)}if(!n){if(ie.languagePackSupport)return Il(t);var r=Pm(t);if(r)try{return $n(r)}catch(i){console.log("Loading in the box message bundle failed.",i)}n=Il(t)}return n}function Em(e){for(var t,n=St.dirname(e);t=St.join(n,"nls.metadata.header.json"),!ct.existsSync(t);){var r=St.dirname(n);if(r===n){t=void 0;break}else n=r}return t}function ta(e){if(!e)return Ke.localize;var t=St.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),ie.messageFormat===Ke.MessageFormat.both||ie.messageFormat===Ke.MessageFormat.bundle){var n=Em(e);if(n){var r=St.dirname(n),i=Di[r];if(i===void 0)try{var o=JSON.parse(ct.readFileSync(n,"utf8"));try{var s=qm(o,r);i=ea(r,s?{header:o,nlsBundle:s}:null)}catch(c){console.error("Failed to load nls bundle",c),i=ea(r,null)}}catch(c){console.error("Failed to read header file",c),i=ea(r,null)}if(i){var a=e.substr(r.length+1).replace(/\\/g,"/"),f=i.nlsBundle[a];return f===void 0?(console.error("Messages for file ".concat(e," not found. See console for details.")),function(){return"Messages not found."}):Qs(f)}}}if(ie.messageFormat===Ke.MessageFormat.both||ie.messageFormat===Ke.MessageFormat.file)try{var u=$n(wm(e));return Array.isArray(u)?Qs(u):(0,Ke.isDefined)(u.messages)&&(0,Ke.isDefined)(u.keys)?Qs(u.messages):(console.error("String bundle '".concat(e,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(c){c.code!=="ENOENT"&&console.error("Failed to load single file bundle",c)}return console.error("Failed to load message bundle for file ".concat(e)),function(){return"Failed to load message bundle. See console for details."}}Rt.loadMessageBundle=ta;function Wl(e){return e&&(At(e.locale)&&(ie.locale=e.locale.toLowerCase(),ie.language=ie.locale,Di=Object.create(null)),e.messageFormat!==void 0&&(ie.messageFormat=e.messageFormat),e.bundleFormat===Ke.BundleFormat.standalone&&ie.languagePackSupport===!0&&(ie.languagePackSupport=!1)),(0,Ke.setPseudo)(ie.locale==="pseudo"),ta}Rt.config=Wl;xm.default.install(Object.freeze({loadMessageBundle:ta,config:Wl}))});var vf=H(yf=>{(()=>{var e={46:(o,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(a,f,{signal:u}={}){return new Promise((c,m)=>{function p(){u==null||u.removeEventListener("abort",p),a.removeListener(f,v),a.removeListener("error",y)}function v(...S){p(),c(S)}function y(S){p(),m(S)}u==null||u.addEventListener("abort",p),a.on(f,v),a.on("error",y)})}},54:function(o,s,a){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};let u=a(361),c=f(a(374)),m=f(a(304)),p=c.default("agent-base");function v(){let{stack:S}=new Error;return typeof S=="string"&&S.split(`
`).some(D=>D.indexOf("(https.js:")!==-1||D.indexOf("node:https:")!==-1)}function y(S,D){return new y.Agent(S,D)}(function(S){class D extends u.EventEmitter{constructor(d,l){super();let g=l;typeof d=="function"?this.callback=d:d&&(g=d),this.timeout=null,g&&typeof g.timeout=="number"&&(this.timeout=g.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:v()?443:80}set defaultPort(d){this.explicitDefaultPort=d}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:v()?"https:":"http:"}set protocol(d){this.explicitProtocol=d}callback(d,l,g){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(d,l){let g=Object.assign({},l);typeof g.secureEndpoint!="boolean"&&(g.secureEndpoint=v()),g.host==null&&(g.host="localhost"),g.port==null&&(g.port=g.secureEndpoint?443:80),g.protocol==null&&(g.protocol=g.secureEndpoint?"https:":"http:"),g.host&&g.path&&delete g.path,delete g.agent,delete g.hostname,delete g._defaultAgent,delete g.defaultPort,delete g.createConnection,d._last=!0,d.shouldKeepAlive=!1;let x=!1,E=null,b=g.timeout||this.timeout,w=R=>{d._hadError||(d.emit("error",R),d._hadError=!0)},_=()=>{E=null,x=!0;let R=new Error(`A "socket" was not created for HTTP request before ${b}ms`);R.code="ETIMEOUT",w(R)},q=R=>{x||(E!==null&&(clearTimeout(E),E=null),w(R))},I=R=>{if(x)return;if(E!=null&&(clearTimeout(E),E=null),L=R,Boolean(L)&&typeof L.addRequest=="function")return p("Callback returned another Agent instance %o",R.constructor.name),void R.addRequest(d,g);var L;if(R)return R.once("free",()=>{this.freeSocket(R,g)}),void d.onSocket(R);let U=new Error(`no Duplex stream was returned to agent-base for \`${d.method} ${d.path}\``);w(U)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(p("Converting legacy callback function to promise"),this.promisifiedCallback=m.default(this.callback)):this.promisifiedCallback=this.callback),typeof b=="number"&&b>0&&(E=setTimeout(_,b)),"port"in g&&typeof g.port!="number"&&(g.port=Number(g.port));try{p("Resolving socket for %o request: %o",g.protocol,`${d.method} ${d.path}`),Promise.resolve(this.promisifiedCallback(d,g)).then(I,q)}catch(R){Promise.reject(R).catch(q)}}else w(new Error("`callback` is not defined"))}freeSocket(d,l){p("Freeing socket %o %o",d.constructor.name,l),d.destroy()}destroy(){p("Destroying agent %o",this.constructor.name)}}S.Agent=D,S.prototype=S.Agent.prototype})(y||(y={})),o.exports=y},304:(o,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(a){return function(f,u){return new Promise((c,m)=>{a.call(this,f,u,(p,v)=>{p?m(p):c(v)})})}}},370:function(o,s,a){"use strict";var f=this&&this.__awaiter||function(d,l,g,x){return new(g||(g=Promise))(function(E,b){function w(I){try{q(x.next(I))}catch(R){b(R)}}function _(I){try{q(x.throw(I))}catch(R){b(R)}}function q(I){var R;I.done?E(I.value):(R=I.value,R instanceof g?R:new g(function(L){L(R)})).then(w,_)}q((x=x.apply(d,l||[])).next())})},u=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0});let c=u(a(808)),m=u(a(404)),p=u(a(310)),v=u(a(374)),y=u(a(46)),S=a(54),D=(0,v.default)("http-proxy-agent");class k extends S.Agent{constructor(l){let g;if(g=typeof l=="string"?p.default.parse(l):l,!g)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");D("Creating new HttpProxyAgent instance: %o",g),super(g);let x=Object.assign({},g);var E;this.secureProxy=g.secureProxy||typeof(E=x.protocol)=="string"&&/^https:?$/i.test(E),x.host=x.hostname||x.host,typeof x.port=="string"&&(x.port=parseInt(x.port,10)),!x.port&&x.host&&(x.port=this.secureProxy?443:80),x.host&&x.path&&(delete x.path,delete x.pathname),this.proxy=x}callback(l,g){return f(this,void 0,void 0,function*(){let{proxy:x,secureProxy:E}=this,b=p.default.parse(l.path),w;if(b.protocol||(b.protocol="http:"),b.hostname||(b.hostname=g.hostname||g.host||null),b.port==null&&(g.port,1)&&(b.port=String(g.port)),b.port==="80"&&(b.port=""),l.path=p.default.format(b),x.auth&&l.setHeader("Proxy-Authorization",`Basic ${Buffer.from(x.auth).toString("base64")}`),E?(D("Creating `tls.Socket`: %o",x),w=m.default.connect(x)):(D("Creating `net.Socket`: %o",x),w=c.default.connect(x)),l._header){let _,q;D("Regenerating stored HTTP header string for request"),l._header=null,l._implicitHeader(),l.output&&l.output.length>0?(D("Patching connection write() output buffer with updated header"),_=l.output[0],q=_.indexOf(`\r
\r
`)+4,l.output[0]=l._header+_.substring(q),D("Output buffer: %o",l.output)):l.outputData&&l.outputData.length>0&&(D("Patching connection write() output buffer with updated header"),_=l.outputData[0].data,q=_.indexOf(`\r
\r
`)+4,l.outputData[0].data=l._header+_.substring(q),D("Output buffer: %o",l.outputData[0].data))}return yield(0,y.default)(w,"connect"),w})}}s.default=k},201:function(o,s,a){"use strict";let f=(this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(a(370));function u(c){return new f.default(c)}(function(c){c.HttpProxyAgent=f.default,c.prototype=f.default.prototype})(u||(u={})),o.exports=u},146:function(o,s,a){"use strict";var f=this&&this.__awaiter||function(g,x,E,b){return new(E||(E=Promise))(function(w,_){function q(L){try{R(b.next(L))}catch(U){_(U)}}function I(L){try{R(b.throw(L))}catch(U){_(U)}}function R(L){var U;L.done?w(L.value):(U=L.value,U instanceof E?U:new E(function(ee){ee(U)})).then(q,I)}R((b=b.apply(g,x||[])).next())})},u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0});let c=u(a(808)),m=u(a(404)),p=u(a(310)),v=u(a(491)),y=u(a(374)),S=a(54),D=u(a(829)),k=y.default("https-proxy-agent:agent");class d extends S.Agent{constructor(x){let E;if(E=typeof x=="string"?p.default.parse(x):x,!E)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");k("creating new HttpsProxyAgent instance: %o",E),super(E);let b=Object.assign({},E);var w;this.secureProxy=E.secureProxy||typeof(w=b.protocol)=="string"&&/^https:?$/i.test(w),b.host=b.hostname||b.host,typeof b.port=="string"&&(b.port=parseInt(b.port,10)),!b.port&&b.host&&(b.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in b)&&(b.ALPNProtocols=["http 1.1"]),b.host&&b.path&&(delete b.path,delete b.pathname),this.proxy=b}callback(x,E){return f(this,void 0,void 0,function*(){let{proxy:b,secureProxy:w}=this,_;w?(k("Creating `tls.Socket`: %o",b),_=m.default.connect(b)):(k("Creating `net.Socket`: %o",b),_=c.default.connect(b));let q=Object.assign({},b.headers),I=`CONNECT ${E.host}:${E.port} HTTP/1.1\r
`;b.auth&&(q["Proxy-Authorization"]=`Basic ${Buffer.from(b.auth).toString("base64")}`);let{host:R,port:L,secureEndpoint:U}=E;(function(N,M){return Boolean(!M&&N===80||M&&N===443)})(L,U)||(R+=`:${L}`),q.Host=R,q.Connection="close";for(let N of Object.keys(q))I+=`${N}: ${q[N]}\r
`;let ee=D.default(_);_.write(`${I}\r
`);let{statusCode:se,buffered:A}=yield ee;if(se===200){if(x.once("socket",l),E.secureEndpoint){let N=E.servername||E.host;if(!N)throw new Error('Could not determine "servername"');return k("Upgrading socket connection to TLS"),m.default.connect(Object.assign(Object.assign({},function(M,...z){let G={},Z;for(Z in M)z.includes(Z)||(G[Z]=M[Z]);return G}(E,"host","hostname","path","port")),{socket:_,servername:N}))}return _}_.destroy();let C=new c.default.Socket;return C.readable=!0,x.once("socket",N=>{k("replaying proxy buffer for failed request"),v.default(N.listenerCount("data")>0),N.push(A),N.push(null)}),C})}}function l(g){g.resume()}s.default=d},18:function(o,s,a){"use strict";let f=(this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(a(146));function u(c){return new f.default(c)}(function(c){c.HttpsProxyAgent=f.default,c.prototype=f.default.prototype})(u||(u={})),o.exports=u},829:function(o,s,a){"use strict";var f=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0});let u=f(a(374)).default("https-proxy-agent:parse-proxy-response");s.default=function(c){return new Promise((m,p)=>{let v=0,y=[];function S(){let d=c.read();d?function(l){y.push(l),v+=l.length;let g=Buffer.concat(y,v);if(g.indexOf(`\r
\r
`)===-1)return u("have not received end of HTTP headers yet..."),void S();let x=g.toString("ascii",0,g.indexOf(`\r
`)),E=+x.split(" ")[1];u("got proxy server response: %o",x),m({statusCode:E,buffered:g})}(d):c.once("readable",S)}function D(d){u("onclose had error %o",d)}function k(){u("onend")}c.on("error",function d(l){c.removeListener("end",k),c.removeListener("error",d),c.removeListener("close",D),c.removeListener("readable",S),u("onerror %o",l),p(l)}),c.on("close",D),c.on("end",k),S()})}},539:function(o,s,a){"use strict";var f=this&&this.__assign||function(){return f=Object.assign||function(x){for(var E,b=1,w=arguments.length;b<w;b++)for(var _ in E=arguments[b])Object.prototype.hasOwnProperty.call(E,_)&&(x[_]=E[_]);return x},f.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.getErrorStatusDescription=s.xhr=s.configure=void 0;var u=a(310),c=a(687),m=a(685),p=a(796),v=a(472),y=a(18),S=a(201);if(process.env.VSCODE_NLS_CONFIG){var D=process.env.VSCODE_NLS_CONFIG;v.config(JSON.parse(D))}var k=v.loadMessageBundle(),d=void 0,l=!0;function g(x){var E;return new Promise(function(b,w){var _=(0,u.parse)(x.url),q={hostname:_.hostname,agent:!!x.agent&&x.agent,port:_.port?parseInt(_.port):_.protocol==="https:"?443:80,path:_.path,method:x.type||"GET",headers:x.headers,rejectUnauthorized:typeof x.strictSSL!="boolean"||x.strictSSL};x.user&&x.password&&(q.auth=x.user+":"+x.password);var I=function(R){if(R.statusCode>=300&&R.statusCode<400&&x.followRedirects&&x.followRedirects>0&&R.headers.location){var L=R.headers.location;L.startsWith("/")&&(L=(0,u.format)({protocol:_.protocol,hostname:_.hostname,port:_.port,pathname:L})),b(g(function(U){for(var ee=[],se=1;se<arguments.length;se++)ee[se-1]=arguments[se];return ee.forEach(function(A){return Object.keys(A).forEach(function(C){return U[C]=A[C]})}),U}({},x,{url:L,followRedirects:x.followRedirects-1})))}else b({req:E,res:R})};(E=_.protocol==="https:"?c.request(q,I):m.request(q,I)).on("error",w),x.timeout&&E.setTimeout(x.timeout),x.data&&E.write(x.data),E.end()})}s.configure=function(x,E){d=x,l=E},s.xhr=function(x){return typeof(x=f({},x)).strictSSL!="boolean"&&(x.strictSSL=l),x.agent||(x.agent=function(E,b){b===void 0&&(b={});var w=(0,u.parse)(E),_=b.proxyUrl||function(R){return R.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:R.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(w);if(!_)return null;var q=(0,u.parse)(_);if(!/^https?:$/.test(q.protocol))return null;var I={host:q.hostname,port:Number(q.port),auth:q.auth,rejectUnauthorized:typeof b.strictSSL!="boolean"||b.strictSSL,protocol:q.protocol};return w.protocol==="http:"?S(I):y(I)}(x.url,{proxyUrl:d,strictSSL:l})),typeof x.followRedirects!="number"&&(x.followRedirects=5),g(x).then(function(E){return new Promise(function(b,w){var _,q,I=E.res,R=I,L=!1,U=I.headers&&I.headers["content-encoding"];if(U&&(_=x.type,q=E.res.statusCode,!(_==="HEAD"||q>=100&&q<200||q===204||q===304))){var ee={flush:p.constants.Z_SYNC_FLUSH,finishFlush:p.constants.Z_SYNC_FLUSH};if(U==="gzip"){var se=p.createGunzip(ee);I.pipe(se),R=se}else if(U==="deflate"){var A=p.createInflate(ee);I.pipe(A),R=A}}var C=[];R.on("data",function(N){return C.push(N)}),R.on("end",function(){if(!L){if(L=!0,x.followRedirects>0&&(I.statusCode>=300&&I.statusCode<=303||I.statusCode===307)){var N=I.headers.location;if(N.startsWith("/")){var M=(0,u.parse)(x.url);N=(0,u.format)({protocol:M.protocol,hostname:M.hostname,port:M.port,pathname:N})}if(N){var z={type:x.type,url:N,user:x.user,password:x.password,headers:x.headers,timeout:x.timeout,followRedirects:x.followRedirects-1,data:x.data};return void(0,s.xhr)(z).then(b,w)}}var G=Buffer.concat(C),Z={responseText:G.toString(),body:G,status:I.statusCode,headers:I.headers||{}};I.statusCode>=200&&I.statusCode<300||I.statusCode===1223?b(Z):w(Z)}}),R.on("error",function(N){var M={responseText:k("error","Unable to access {0}. Error: {1}",x.url,N.message),body:Buffer.concat(C),status:500,headers:{}};L=!0,w(M)})})},function(E){var b;return b=x.agent?k("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",x.url,E.message):k("error.cannot.connect","Unable to connect to {0}. Error: {1}",x.url,E.message),Promise.reject({responseText:b,body:Buffer.concat([]),status:404,headers:{}})})},s.getErrorStatusDescription=function(x){if(!(x<400))switch(x){case 400:return k("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return k("status.401","Unauthorized. The server is refusing to respond.");case 403:return k("status.403","Forbidden. The server is refusing to respond.");case 404:return k("status.404","Not Found. The requested location could not be found.");case 405:return k("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return k("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return k("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return k("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return k("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return k("status.410","Gone. The requested page is no longer available.");case 411:return k("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return k("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return k("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return k("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return k("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return k("status.500","Internal Server Error.");case 501:return k("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return k("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return k("status.416","HTTP status code {0}",x)}}},800:(o,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.config=s.loadMessageBundle=s.localize=s.format=s.setPseudo=s.isPseudo=s.isDefined=s.BundleFormat=s.MessageFormat=void 0;var f,u,c,m=a(926);function p(y){return y!==void 0}function v(y,S){return s.isPseudo&&(y="\uFF3B"+y.replace(/[aouei]/g,"$&$&")+"\uFF3D"),S.length===0?y:y.replace(/\{(\d+)\}/g,function(D,k){var d=k[0],l=S[d],g=D;return typeof l=="string"?g=l:typeof l!="number"&&typeof l!="boolean"&&l!=null||(g=String(l)),g})}(c=s.MessageFormat||(s.MessageFormat={})).file="file",c.bundle="bundle",c.both="both",(u=s.BundleFormat||(s.BundleFormat={})).standalone="standalone",u.languagePack="languagePack",function(y){y.is=function(S){var D=S;return D&&p(D.key)&&p(D.comment)}}(f||(f={})),s.isDefined=p,s.isPseudo=!1,s.setPseudo=function(y){s.isPseudo=y},s.format=v,s.localize=function(y,S){for(var D=[],k=2;k<arguments.length;k++)D[k-2]=arguments[k];return v(S,D)},s.loadMessageBundle=function(y){return m.default().loadMessageBundle(y)},s.config=function(y){return m.default().config(y)}},926:(o,s)=>{"use strict";var a;function f(){if(a===void 0)throw new Error("No runtime abstraction layer installed");return a}Object.defineProperty(s,"__esModule",{value:!0}),function(u){u.install=function(c){if(c===void 0)throw new Error("No runtime abstraction layer provided");a=c}}(f||(f={})),s.default=f},472:(o,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.config=s.loadMessageBundle=void 0;var f=a(17),u=a(147),c=a(926),m=a(800),p=a(800);Object.defineProperty(s,"MessageFormat",{enumerable:!0,get:function(){return p.MessageFormat}}),Object.defineProperty(s,"BundleFormat",{enumerable:!0,get:function(){return p.BundleFormat}});var v,y,S=Object.prototype.toString;function D(_){return S.call(_)==="[object Number]"}function k(_){return S.call(_)==="[object String]"}function d(_){return JSON.parse(u.readFileSync(_,"utf8"))}function l(_){return function(q,I){for(var R=[],L=2;L<arguments.length;L++)R[L-2]=arguments[L];return D(q)?q>=_.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `+new Error("").stack):m.format(_[q],R):k(I)?(console.warn("Message "+I+" didn't get externalized correctly."),m.format(I,R)):void console.error(`Broken localize call found. Stacktrace is
: `+new Error("").stack)}}function g(_,q){return v[_]=q,q}function x(_){try{return function(q){var I=d(f.join(q,"nls.metadata.json")),R=Object.create(null);for(var L in I){var U=I[L];R[L]=U.messages}return R}(_)}catch(q){return void console.log("Generating default bundle from meta data failed.",q)}}function E(_,q){var I;if(y.languagePackSupport===!0&&y.cacheRoot!==void 0&&y.languagePackId!==void 0&&y.translationsConfigFile!==void 0&&y.translationsConfig!==void 0)try{I=function(L,U){var ee,se,A,C=f.join(y.cacheRoot,L.id+"-"+L.hash+".json"),N=!1,M=!1;try{return ee=JSON.parse(u.readFileSync(C,{encoding:"utf8",flag:"r"})),se=C,A=new Date,u.utimes(se,A,A,function(){}),ee}catch(z){if(z.code==="ENOENT")M=!0;else{if(!(z instanceof SyntaxError))throw z;console.log("Syntax error parsing message bundle: "+z.message+"."),u.unlink(C,function(G){G&&console.error("Deleting corrupted bundle "+C+" failed.")}),N=!0}}if(ee=function(z,G){var Z=y.translationsConfig[z.id];if(Z){var et=d(Z).contents,Ne=d(f.join(G,"nls.metadata.json")),He=Object.create(null);for(var ut in Ne){var Ye=Ne[ut],Rr=et[z.outDir+"/"+ut];if(Rr){for(var Cr=[],Ze=0;Ze<Ye.keys.length;Ze++){var Jn=Ye.keys[Ze],Gn=Rr[k(Jn)?Jn:Jn.key];Gn===void 0&&(Gn=Ye.messages[Ze]),Cr.push(Gn)}He[ut]=Cr}else He[ut]=Ye.messages}return He}}(L,U),!ee||N)return ee;if(M)try{u.writeFileSync(C,JSON.stringify(ee),{encoding:"utf8",flag:"wx"})}catch(z){if(z.code==="EEXIST")return ee;throw z}return ee}(_,q)}catch(L){console.log("Load or create bundle failed ",L)}if(!I){if(y.languagePackSupport)return x(q);var R=function(L){for(var U=y.language;U;){var ee=f.join(L,"nls.bundle."+U+".json");if(u.existsSync(ee))return ee;var se=U.lastIndexOf("-");U=se>0?U.substring(0,se):void 0}if(U===void 0&&(ee=f.join(L,"nls.bundle.json"),u.existsSync(ee)))return ee}(q);if(R)try{return d(R)}catch(L){console.log("Loading in the box message bundle failed.",L)}I=x(q)}return I}function b(_){if(!_)return m.localize;var q=f.extname(_);if(q&&(_=_.substr(0,_.length-q.length)),y.messageFormat===m.MessageFormat.both||y.messageFormat===m.MessageFormat.bundle){var I=function(N){for(var M,z=f.dirname(N);M=f.join(z,"nls.metadata.header.json"),!u.existsSync(M);){var G=f.dirname(z);if(G===z){M=void 0;break}z=G}return M}(_);if(I){var R=f.dirname(I),L=v[R];if(L===void 0)try{var U=JSON.parse(u.readFileSync(I,"utf8"));try{var ee=E(U,R);L=g(R,ee?{header:U,nlsBundle:ee}:null)}catch(N){console.error("Failed to load nls bundle",N),L=g(R,null)}}catch(N){console.error("Failed to read header file",N),L=g(R,null)}if(L){var se=_.substr(R.length+1).replace(/\\/g,"/"),A=L.nlsBundle[se];return A===void 0?(console.error("Messages for file "+_+" not found. See console for details."),function(){return"Messages not found."}):l(A)}}}if(y.messageFormat===m.MessageFormat.both||y.messageFormat===m.MessageFormat.file)try{var C=d(function(N){var M;if(y.cacheLanguageResolution&&M)M=M;else{if(m.isPseudo||!y.language)M=".nls.json";else for(var z=y.language;z;){var G=".nls."+z+".json";if(u.existsSync(N+G)){M=G;break}var Z=z.lastIndexOf("-");Z>0?z=z.substring(0,Z):(M=".nls.json",z=null)}y.cacheLanguageResolution&&(M=M)}return N+M}(_));return Array.isArray(C)?l(C):m.isDefined(C.messages)&&m.isDefined(C.keys)?l(C.messages):(console.error("String bundle '"+_+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(N){N.code!=="ENOENT"&&console.error("Failed to load single file bundle",N)}return console.error("Failed to load message bundle for file "+_),function(){return"Failed to load message bundle. See console for details."}}function w(_){return _&&(k(_.locale)&&(y.locale=_.locale.toLowerCase(),y.language=y.locale,v=Object.create(null)),_.messageFormat!==void 0&&(y.messageFormat=_.messageFormat),_.bundleFormat===m.BundleFormat.standalone&&y.languagePackSupport===!0&&(y.languagePackSupport=!1)),m.setPseudo(y.locale==="pseudo"),b}(function(){if(y={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:m.MessageFormat.bundle},k(process.env.VSCODE_NLS_CONFIG))try{var _=JSON.parse(process.env.VSCODE_NLS_CONFIG),q=void 0;if(_.availableLanguages){var I=_.availableLanguages["*"];k(I)&&(q=I)}if(k(_.locale)&&(y.locale=_.locale.toLowerCase()),q===void 0?y.language=y.locale:q!=="en"&&(y.language=q),function(L){return L===!0||L===!1}(_._languagePackSupport)&&(y.languagePackSupport=_._languagePackSupport),k(_._cacheRoot)&&(y.cacheRoot=_._cacheRoot),k(_._languagePackId)&&(y.languagePackId=_._languagePackId),k(_._translationsConfigFile)){y.translationsConfigFile=_._translationsConfigFile;try{y.translationsConfig=d(y.translationsConfigFile)}catch(L){if(_._corruptedFile){var R=f.dirname(_._corruptedFile);u.exists(R,function(U){U&&u.writeFile(_._corruptedFile,"corrupted","utf8",function(ee){console.error(ee)})})}}}}catch(L){}m.setPseudo(y.locale==="pseudo"),v=Object.create(null)})(),s.loadMessageBundle=b,s.config=w,c.default.install(Object.freeze({loadMessageBundle:b,config:w}))},374:(o,s)=>{function a(){}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(f){return a}},491:o=>{"use strict";o.exports=require("assert")},361:o=>{"use strict";o.exports=require("events")},147:o=>{"use strict";o.exports=require("fs")},685:o=>{"use strict";o.exports=require("http")},687:o=>{"use strict";o.exports=require("https")},808:o=>{"use strict";o.exports=require("net")},17:o=>{"use strict";o.exports=require("path")},404:o=>{"use strict";o.exports=require("tls")},310:o=>{"use strict";o.exports=require("url")},796:o=>{"use strict";o.exports=require("zlib")}},t={},n=function o(s){var a=t[s];if(a!==void 0)return a.exports;var f=t[s]={exports:{}};return e[s].call(f.exports,f,f.exports,o),f.exports}(539),r=yf;for(var i in n)r[i]=n[i];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})()});var xf=H(()=>{var bf=lt(xl()),zn=lt(vf()),Sf=lt(require("fs")),Un=(0,bf.createConnection)();console.log=Un.console.log.bind(Un.console);console.error=Un.console.error.bind(Un.console);process.on("unhandledRejection",e=>{Un.console.error(jn("Unhandled exception",e))});function Zm(){return{getContent(e,t){return(0,zn.xhr)({url:e,followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate"}}).then(r=>r.responseText,r=>Promise.reject(r.responseText||(0,zn.getErrorStatusDescription)(r.status)||r.toString()))}}}function Qm(){return{getContent(e,t){return new Promise((n,r)=>{let i=Lt.parse(e);Sf.readFile(i.fsPath,t,(o,s)=>{if(o)return r(o);n(s.toString())})})}}}var ey={timer:{setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}}},file:Qm(),http:Zm(),configureHttpRequests:zn.configure};mf(Un,ey)});var bi=lt(Dr());function jn(e,t){if(t instanceof Error){let n=t;return`${e}: ${n.message}
${n.stack}`}else{if(typeof t=="string")return`${e}: ${t}`;if(t)return`${e}: ${t.toString()}`}return e}function ln(e,t,n,r,i){return new Promise(o=>{e.timer.setImmediate(()=>{if(i.isCancellationRequested){o(Si());return}return t().then(s=>{if(i.isCancellationRequested){o(Si());return}else o(s)},s=>{console.error(jn(r,s)),o(n)})})})}function fn(e,t,n,r,i){return new Promise(o=>{e.timer.setImmediate(()=>{if(i.isCancellationRequested)o(Si());else try{let s=t();if(i.isCancellationRequested){o(Si());return}else o(s)}catch(s){console.error(jn(r,s)),o(n)}})})}function Si(){return console.log("cancelled"),new bi.ResponseError(bi.LSPErrorCodes.RequestCancelled,"Request cancelled")}var Ie=lt(Dr());var kl=lt(Dr());function Tl(e,t,n,r){let i={},o=500,s=[];e.onDidChangeContent(u=>{f(u.document)},void 0,s),e.onDidClose(u=>{a(u.document),t.sendDiagnostics({uri:u.document.uri,diagnostics:[]})},void 0,s);function a(u){let c=i[u.uri];c&&(c.dispose(),delete i[u.uri])}function f(u){a(u);let c=i[u.uri]=n.timer.setTimeout(async()=>{if(c===i[u.uri])try{let m=await r(u);c===i[u.uri]&&t.sendDiagnostics({uri:u.uri,diagnostics:m}),delete i[u.uri]}catch(m){t.console.error(jn(`Error while validating ${u.uri}`,m))}},o)}return{requestRefresh:()=>{e.all().forEach(f)},dispose:()=>{s.forEach(c=>c.dispose()),s.length=0;let u=Object.keys(i);for(let c of u)i[c].dispose(),delete i[c]}}}function _l(e,t,n,r){function i(a){return{kind:kl.DocumentDiagnosticReportKind.Full,items:a}}let o=t.languages.diagnostics.on(async(a,f)=>ln(n,async()=>{let u=e.get(a.textDocument.uri);return i(u?await r(u):[])},i([]),`Error while computing diagnostics for ${a.textDocument.uri}`,f));function s(){t.languages.diagnostics.refresh()}return{requestRefresh:s,dispose:()=>{o.dispose()}}}"use strict";function An(e,t){t===void 0&&(t=!1);var n=e.length,r=0,i="",o=0,s=16,a=0,f=0,u=0,c=0,m=0;function p(l,g){for(var x=0,E=0;x<l||!g;){var b=e.charCodeAt(r);if(b>=48&&b<=57)E=E*16+b-48;else if(b>=65&&b<=70)E=E*16+b-65+10;else if(b>=97&&b<=102)E=E*16+b-97+10;else break;r++,x++}return x<l&&(E=-1),E}function v(l){r=l,i="",o=0,s=16,m=0}function y(){var l=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&Mn(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&Mn(e.charCodeAt(r)))for(r++;r<e.length&&Mn(e.charCodeAt(r));)r++;else return m=3,e.substring(l,r);var g=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&Mn(e.charCodeAt(r))){for(r++;r<e.length&&Mn(e.charCodeAt(r));)r++;g=r}else m=3;return e.substring(l,g)}function S(){for(var l="",g=r;;){if(r>=n){l+=e.substring(g,r),m=2;break}var x=e.charCodeAt(r);if(x===34){l+=e.substring(g,r),r++;break}if(x===92){if(l+=e.substring(g,r),r++,r>=n){m=2;break}var E=e.charCodeAt(r++);switch(E){case 34:l+='"';break;case 92:l+="\\";break;case 47:l+="/";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:var b=p(4,!0);b>=0?l+=String.fromCharCode(b):m=4;break;default:m=5}g=r;continue}if(x>=0&&x<=31)if(wr(x)){l+=e.substring(g,r),m=2;break}else m=6;r++}return l}function D(){if(i="",m=0,o=r,f=a,c=u,r>=n)return o=n,s=17;var l=e.charCodeAt(r);if($s(l)){do r++,i+=String.fromCharCode(l),l=e.charCodeAt(r);while($s(l));return s=15}if(wr(l))return r++,i+=String.fromCharCode(l),l===13&&e.charCodeAt(r)===10&&(r++,i+=`
`),a++,u=r,s=14;switch(l){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=S(),s=10;case 47:var g=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!wr(e.charCodeAt(r));)r++;return i=e.substring(g,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;for(var x=n-1,E=!1;r<x;){var b=e.charCodeAt(r);if(b===42&&e.charCodeAt(r+1)===47){r+=2,E=!0;break}r++,wr(b)&&(b===13&&e.charCodeAt(r)===10&&r++,a++,u=r)}return E||(r++,m=1),i=e.substring(g,r),s=13}return i+=String.fromCharCode(l),r++,s=16;case 45:if(i+=String.fromCharCode(l),r++,r===n||!Mn(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=y(),s=11;default:for(;r<n&&k(l);)r++,l=e.charCodeAt(r);if(o!==r){switch(i=e.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(l),r++,s=16}}function k(l){if($s(l)||wr(l))return!1;switch(l){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function d(){var l;do l=D();while(l>=12&&l<=15);return l}return{setPosition:v,getPosition:function(){return r},scan:t?d:D,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenStartLine:function(){return f},getTokenStartCharacter:function(){return o-c},getTokenError:function(){return m}}}function $s(e){return e===32||e===9}function wr(e){return e===10||e===13}function Mn(e){return e>=48&&e<=57}"use strict";function Hs(e,t,n){var r,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Vs(e,o-1);)o--;for(var f=a;f<e.length&&!Vs(e,f);)f++;i=e.substring(o,f),r=cm(i,n)}else i=e,r=0,o=0,s=0,a=e.length;var u=um(n,e),c=0,m=0,p;n.insertSpaces?p=Fn(" ",n.tabSize||4):p="	";var v=An(i,!1),y=!1;function S(){return c>1?Fn(u,c)+Fn(p,r+m):u+Fn(p,r+m)}function D(){var R=v.scan();for(c=0;R===15||R===14;)R===14&&n.keepLines?c+=1:R===14&&(c=1),R=v.scan();return y=R===16||v.getTokenError()!==0,R}var k=[];function d(R,L,U){!y&&(!t||L<a&&U>s)&&e.substring(L,U)!==R&&k.push({offset:L,length:U-L,content:R})}var l=D();if(n.keepLines&&c>0&&d(Fn(u,c),0,0),l!==17){var g=v.getTokenOffset()+o,x=Fn(p,r);d(x,o,g)}for(;l!==17;){for(var E=v.getTokenOffset()+v.getTokenLength()+o,b=D(),w="",_=!1;c===0&&(b===12||b===13);){var q=v.getTokenOffset()+o;d(" ",E,q),E=v.getTokenOffset()+v.getTokenLength()+o,_=b===12,w=_?S():"",b=D()}if(b===2)l!==1&&m--,n.keepLines&&c>0||!n.keepLines&&l!==1?w=S():n.keepLines&&(w=" ");else if(b===4)l!==3&&m--,n.keepLines&&c>0||!n.keepLines&&l!==3?w=S():n.keepLines&&(w=" ");else{switch(l){case 3:case 1:m++,n.keepLines&&c>0||!n.keepLines?w=S():w=" ";break;case 5:n.keepLines&&c>0||!n.keepLines?w=S():w=" ";break;case 12:w=S();break;case 13:c>0?w=S():_||(w=" ");break;case 6:n.keepLines&&c>0?w=S():_||(w=" ");break;case 10:n.keepLines&&c>0?w=S():b===6&&!_&&(w="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&c>0?w=S():(b===12||b===13)&&!_?w=" ":b!==5&&b!==17&&(y=!0);break;case 16:y=!0;break}c>0&&(b===12||b===13)&&(w=S())}b===17&&(n.keepLines&&c>0?w=S():w=n.insertFinalNewline?u:"");var I=v.getTokenOffset()+o;d(w,E,I),l=b}return k}function Fn(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function cm(e,t){for(var n=0,r=0,i=t.tabSize||4;n<e.length;){var o=e.charAt(n);if(o===" ")r++;else if(o==="	")r+=i;else break;n++}return Math.floor(r/i)}function um(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function Vs(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}"use strict";var xi;(function(e){e.DEFAULT={allowTrailingComma:!1}})(xi||(xi={}));function wl(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=xi.DEFAULT);var r=null,i=[],o=[];function s(f){Array.isArray(i)?i.push(f):r!==null&&(i[r]=f)}var a={onObjectBegin:function(){var f={};s(f),o.push(i),i=f,r=null},onObjectProperty:function(f){r=f},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var f=[];s(f),o.push(i),i=f,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(f,u,c){t.push({error:f,offset:u,length:c})}};return Dl(e,a,n),i[0]}function Bs(e){if(!e.parent||!e.parent.children)return[];var t=Bs(e.parent);if(e.parent.type==="property"){var n=e.parent.children[0].value;t.push(n)}else if(e.parent.type==="array"){var r=e.parent.children.indexOf(e);r!==-1&&t.push(r)}return t}function ki(e){switch(e.type){case"array":return e.children.map(ki);case"object":for(var t=Object.create(null),n=0,r=e.children;n<r.length;n++){var i=r[n],o=i.children[1];o&&(t[i.children[0].value]=ki(o))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function lm(e,t,n){return n===void 0&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}function zs(e,t,n){if(n===void 0&&(n=!1),lm(e,t,n)){var r=e.children;if(Array.isArray(r))for(var i=0;i<r.length&&r[i].offset<=t;i++){var o=zs(r[i],t,n);if(o)return o}return e}}function Dl(e,t,n){n===void 0&&(n=xi.DEFAULT);var r=An(e,!1),i=[];function o(R){return R?function(){return R(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(R){return R?function(){return R(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),function(){return i.slice()})}:function(){return!0}}function a(R){return R?function(L){return R(L,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function f(R){return R?function(L){return R(L,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),function(){return i.slice()})}:function(){return!0}}var u=s(t.onObjectBegin),c=f(t.onObjectProperty),m=o(t.onObjectEnd),p=s(t.onArrayBegin),v=o(t.onArrayEnd),y=f(t.onLiteralValue),S=a(t.onSeparator),D=o(t.onComment),k=a(t.onError),d=n&&n.disallowComments,l=n&&n.allowTrailingComma;function g(){for(;;){var R=r.scan();switch(r.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:d||x(11);break;case 2:x(12);break;case 6:x(16);break}switch(R){case 12:case 13:d?x(10):D();break;case 16:x(1);break;case 15:case 14:break;default:return R}}}function x(R,L,U){if(L===void 0&&(L=[]),U===void 0&&(U=[]),k(R),L.length+U.length>0)for(var ee=r.getToken();ee!==17;){if(L.indexOf(ee)!==-1){g();break}else if(U.indexOf(ee)!==-1)break;ee=g()}}function E(R){var L=r.getTokenValue();return R?y(L):(c(L),i.push(L)),g(),!0}function b(){switch(r.getToken()){case 11:var R=r.getTokenValue(),L=Number(R);isNaN(L)&&(x(2),L=0),y(L);break;case 7:y(null);break;case 8:y(!0);break;case 9:y(!1);break;default:return!1}return g(),!0}function w(){return r.getToken()!==10?(x(3,[],[2,5]),!1):(E(!1),r.getToken()===6?(S(":"),g(),I()||x(4,[],[2,5])):x(5,[],[2,5]),i.pop(),!0)}function _(){u(),g();for(var R=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(R||x(4,[],[]),S(","),g(),r.getToken()===2&&l)break}else R&&x(6,[],[]);w()||x(4,[],[2,5]),R=!0}return m(),r.getToken()!==2?x(7,[2],[]):g(),!0}function q(){p(),g();for(var R=!0,L=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(L||x(4,[],[]),S(","),g(),r.getToken()===4&&l)break}else L&&x(6,[],[]);R?(i.push(0),R=!1):i[i.length-1]++,I()||x(4,[],[4,5]),L=!0}return v(),R||i.pop(),r.getToken()!==4?x(8,[4],[]):g(),!0}function I(){switch(r.getToken()){case 3:return q();case 1:return _();case 10:return E(!0);default:return b()}}return g(),r.getToken()===17?n.allowEmptyContent?!0:(x(4,[],[]),!1):I()?(r.getToken()!==17&&x(9,[],[]),!0):(x(4,[],[]),!1)}"use strict";"use strict";var wt=An;var Pl=wl;var Rl=zs,Cl=Bs,Ol=ki;function Nl(e,t,n){return Hs(e,t,n)}function Ln(e,t){if(e===t)return!0;if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"||Array.isArray(e)!==Array.isArray(t))return!1;var n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!Ln(e[n],t[n]))return!1}else{var i=[];for(r in e)i.push(r);i.sort();var o=[];for(r in t)o.push(r);if(o.sort(),!Ln(i,o))return!1;for(n=0;n<i.length;n++)if(!Ln(e[i[n]],t[i[n]]))return!1}return!0}function Le(e){return typeof e=="number"}function st(e){return typeof e!="undefined"}function at(e){return typeof e=="boolean"}function Ti(e){return typeof e=="string"}function Pt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function hm(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Jt(e,t){let n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:n===0?e===t:!1}function dn(e){let t="";hm(e,"(?i)")&&(e=e.substring(4),t="i");try{return new RegExp(e,t+"u")}catch(n){try{return new RegExp(e,t)}catch(r){return}}}var O=fr();"use strict";var In=class{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(let r of t)if(In.isIncremental(r)){let i=El(r.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+r.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),f=Math.max(i.end.line,0),u=this._lineOffsets,c=ql(r.text,!1,o);if(f-a===c.length)for(let p=0,v=c.length;p<v;p++)u[p+a+1]=c[p];else c.length<1e4?u.splice(a+1,f-a,...c):this._lineOffsets=u=u.slice(0,a+1).concat(c,u.slice(f+1));let m=r.text.length-(s-o);if(m!==0)for(let p=a+1+c.length,v=u.length;p<v;p++)u[p]=u[p]+m}else if(In.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ql(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return{line:0,character:t};for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return{line:o,character:t-n[o]}}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}},Wn;(function(e){function t(i,o,s,a){return new In(i,o,s,a)}e.create=t;function n(i,o,s){if(i instanceof In)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(i,o){let s=i.getText(),a=Us(o.map(pm),(c,m)=>{let p=c.range.start.line-m.range.start.line;return p===0?c.range.start.character-m.range.start.character:p}),f=0,u=[];for(let c of a){let m=i.offsetAt(c.range.start);if(m<f)throw new Error("Overlapping edit");m>f&&u.push(s.substring(f,m)),c.newText.length&&u.push(c.newText),f=i.offsetAt(c.range.end)}return u.push(s.substr(f)),u.join("")}e.applyEdits=r})(Wn||(Wn={}));function Us(e,t){if(e.length<=1)return e;let n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);Us(r,t),Us(i,t);let o=0,s=0,a=0;for(;o<r.length&&s<i.length;)t(r[o],i[s])<=0?e[a++]=r[o++]:e[a++]=i[s++];for(;o<r.length;)e[a++]=r[o++];for(;s<i.length;)e[a++]=i[s++];return e}function ql(e,t,n=0){let r=t?[n]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function El(e){let t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function pm(e){let t=El(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var re;(function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError",e[e.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature"})(re||(re={}));var _i;(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[O.MarkupKind.Markdown,O.MarkupKind.PlainText],commitCharactersSupport:!0}}}}})(_i||(_i={}));var $l=lt(Vn()),B=$l.loadMessageBundle(),jm={"color-hex":{errorMessage:B("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:B("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:B("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:B("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:B("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:B("hostnameFormatWarning","String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:B("ipv4FormatWarning","String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:B("ipv6FormatWarning","String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},Gt=class{constructor(t,n,r=0){this.offset=n,this.length=r,this.parent=t}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},Vl=class extends Gt{constructor(t,n){super(t,n);this.type="null",this.value=null}},na=class extends Gt{constructor(t,n,r){super(t,r);this.type="boolean",this.value=n}},Hl=class extends Gt{constructor(t,n){super(t,n);this.type="array",this.items=[]}get children(){return this.items}},Bl=class extends Gt{constructor(t,n){super(t,n);this.type="number",this.isInteger=!0,this.value=Number.NaN}},wi=class extends Gt{constructor(t,n,r){super(t,n,r);this.type="string",this.value=""}},zl=class extends Gt{constructor(t,n,r){super(t,n);this.type="property",this.colonOffset=-1,this.keyNode=r}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},Ul=class extends Gt{constructor(t,n){super(t,n);this.type="object",this.properties=[]}get children(){return this.properties}};function Xe(e){return at(e)?e?{}:{not:{}}:e}var Jl;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(Jl||(Jl={}));var Pi=class{constructor(t=-1,n){this.focusOffset=t,this.exclude=n,this.schemas=[]}add(t){this.schemas.push(t)}merge(t){Array.prototype.push.apply(this.schemas,t.schemas)}include(t){return(this.focusOffset===-1||ra(t,this.focusOffset))&&t!==this.exclude}newSub(){return new Pi(-1,this.exclude)}},Hn=class{constructor(){}get schemas(){return[]}add(t){}merge(t){}include(t){return!0}newSub(){return this}};Hn.instance=new Hn;var Ve=class{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}mergeAll(t){for(let n of t)this.merge(n)}merge(t){this.problems=this.problems.concat(t.problems)}mergeEnumValues(t){if(!this.enumValueMatch&&!t.enumValueMatch&&this.enumValues&&t.enumValues){this.enumValues=this.enumValues.concat(t.enumValues);for(let n of this.problems)n.code===re.EnumValueMismatch&&(n.message=B("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map(r=>JSON.stringify(r)).join(", ")))}}mergePropertyMatch(t){this.merge(t),this.propertiesMatches++,(t.enumValueMatch||!t.hasProblems()&&t.propertiesMatches)&&this.propertiesValueMatches++,t.enumValueMatch&&t.enumValues&&t.enumValues.length===1&&this.primaryValueMatches++}mergeProcessedProperties(t){t.processedProperties.forEach(n=>this.processedProperties.add(n))}compare(t){let n=this.hasProblems();return n!==t.hasProblems()?n?-1:1:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:this.propertiesMatches-t.propertiesMatches}};function Gl(e,t=[]){return new ia(e,t,[])}function Ft(e){return Ol(e)}function Pr(e){return Cl(e)}function ra(e,t,n=!1){return t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}var ia=class{constructor(t,n=[],r=[]){this.root=t,this.syntaxErrors=n,this.comments=r}getNodeFromOffset(t,n=!1){if(this.root)return Rl(this.root,t,n)}visit(t){if(this.root){let n=r=>{let i=t(r),o=r.children;if(Array.isArray(o))for(let s=0;s<o.length&&i;s++)i=n(o[s]);return i};n(this.root)}}validate(t,n,r=O.DiagnosticSeverity.Warning){if(this.root&&n){let i=new Ve;return Oe(this.root,n,i,Hn.instance),i.problems.map(o=>{var a;let s=O.Range.create(t.positionAt(o.location.offset),t.positionAt(o.location.offset+o.location.length));return O.Diagnostic.create(s,o.message,(a=o.severity)!=null?a:r,o.code)})}}getMatchingSchemas(t,n=-1,r){let i=new Pi(n,r);return this.root&&t&&Oe(this.root,t,new Ve,i),i.schemas}};function Oe(e,t,n,r){if(!e||!r.include(e))return;if(e.type==="property")return Oe(e.valueNode,t,n,r);let i=e;switch(o(),i.type){case"object":u(i);break;case"array":f(i);break;case"string":a(i);break;case"number":s(i);break}r.add({node:i,schema:t});function o(){function c(k){return i.type===k||k==="integer"&&i.type==="number"&&i.isInteger}if(Array.isArray(t.type)?t.type.some(c)||n.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||B("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(c(t.type)||n.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||B("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)})),Array.isArray(t.allOf))for(let k of t.allOf)Oe(i,Xe(k),n,r);let m=Xe(t.not);if(m){let k=new Ve,d=r.newSub();Oe(i,m,k,d),k.hasProblems()||n.problems.push({location:{offset:i.offset,length:i.length},message:B("notSchemaWarning","Matches a schema that is not allowed.")});for(let l of d.schemas)l.inverted=!l.inverted,r.add(l)}let p=(k,d)=>{let l=[],g;for(let x of k){let E=Xe(x),b=new Ve,w=r.newSub();if(Oe(i,E,b,w),b.hasProblems()||l.push(E),!g)g={schema:E,validationResult:b,matchingSchemas:w};else if(!d&&!b.hasProblems()&&!g.validationResult.hasProblems())g.matchingSchemas.merge(w),g.validationResult.propertiesMatches+=b.propertiesMatches,g.validationResult.propertiesValueMatches+=b.propertiesValueMatches,g.validationResult.mergeProcessedProperties(b);else{let _=b.compare(g.validationResult);_>0?g={schema:E,validationResult:b,matchingSchemas:w}:_===0&&(g.matchingSchemas.merge(w),g.validationResult.mergeEnumValues(b))}}return l.length>1&&d&&n.problems.push({location:{offset:i.offset,length:1},message:B("oneOfWarning","Matches multiple schemas when only one must validate.")}),g&&(n.merge(g.validationResult),n.propertiesMatches+=g.validationResult.propertiesMatches,n.propertiesValueMatches+=g.validationResult.propertiesValueMatches,n.mergeProcessedProperties(g.validationResult),r.merge(g.matchingSchemas)),l.length};Array.isArray(t.anyOf)&&p(t.anyOf,!1),Array.isArray(t.oneOf)&&p(t.oneOf,!0);let v=k=>{let d=new Ve,l=r.newSub();Oe(i,Xe(k),d,l),n.merge(d),n.propertiesMatches+=d.propertiesMatches,n.propertiesValueMatches+=d.propertiesValueMatches,n.mergeProcessedProperties(d),r.merge(l)},y=(k,d,l)=>{let g=Xe(k),x=new Ve,E=r.newSub();Oe(i,g,x,E),r.merge(E),n.mergeProcessedProperties(x),x.hasProblems()?l&&v(l):d&&v(d)},S=Xe(t.if);if(S&&y(S,Xe(t.then),Xe(t.else)),Array.isArray(t.enum)){let k=Ft(i),d=!1;for(let l of t.enum)if(Ln(k,l)){d=!0;break}n.enumValues=t.enum,n.enumValueMatch=d,d||n.problems.push({location:{offset:i.offset,length:i.length},code:re.EnumValueMismatch,message:t.errorMessage||B("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(l=>JSON.stringify(l)).join(", "))})}if(st(t.const)){let k=Ft(i);Ln(k,t.const)?n.enumValueMatch=!0:(n.problems.push({location:{offset:i.offset,length:i.length},code:re.EnumValueMismatch,message:t.errorMessage||B("constWarning","Value must be {0}.",JSON.stringify(t.const))}),n.enumValueMatch=!1),n.enumValues=[t.const]}let D=t.deprecationMessage;(D||t.deprecated)&&i.parent&&(D=D||B("deprecated","Value is deprecated"),n.problems.push({location:{offset:i.parent.offset,length:i.parent.length},severity:O.DiagnosticSeverity.Warning,message:D,code:re.Deprecated}))}function s(c){let m=c.value;function p(l){var x;let g=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(l.toString());return g&&{value:Number(g[1]+(g[2]||"")),multiplier:(((x=g[2])==null?void 0:x.length)||0)-(parseInt(g[3])||0)}}if(Le(t.multipleOf)){let l=-1;if(Number.isInteger(t.multipleOf))l=m%t.multipleOf;else{let g=p(t.multipleOf),x=p(m);if(g&&x){let E=10**Math.abs(x.multiplier-g.multiplier);x.multiplier<g.multiplier?x.value*=E:g.value*=E,l=x.value%g.value}}l!==0&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)})}function v(l,g){if(Le(g))return g;if(at(g)&&g)return l}function y(l,g){if(!at(g)||!g)return l}let S=v(t.minimum,t.exclusiveMinimum);Le(S)&&m<=S&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",S)});let D=v(t.maximum,t.exclusiveMaximum);Le(D)&&m>=D&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",D)});let k=y(t.minimum,t.exclusiveMinimum);Le(k)&&m<k&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("minimumWarning","Value is below the minimum of {0}.",k)});let d=y(t.maximum,t.exclusiveMaximum);Le(d)&&m>d&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("maximumWarning","Value is above the maximum of {0}.",d)})}function a(c){if(Le(t.minLength)&&c.value.length<t.minLength&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)}),Le(t.maxLength)&&c.value.length>t.maxLength&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)}),Ti(t.pattern)){let m=dn(t.pattern);(m==null?void 0:m.test(c.value))||n.problems.push({location:{offset:c.offset,length:c.length},message:t.patternErrorMessage||t.errorMessage||B("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}if(t.format)switch(t.format){case"uri":case"uri-reference":{let p;if(!c.value)p=B("uriEmpty","URI expected.");else{let v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(c.value);v?!v[2]&&t.format==="uri"&&(p=B("uriSchemeMissing","URI with a scheme is expected.")):p=B("uriMissing","URI is expected.")}p&&n.problems.push({location:{offset:c.offset,length:c.length},message:t.patternErrorMessage||t.errorMessage||B("uriFormatWarning","String is not a URI: {0}",p)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":let m=jm[t.format];(!c.value||!m.pattern.exec(c.value))&&n.problems.push({location:{offset:c.offset,length:c.length},message:t.patternErrorMessage||t.errorMessage||m.errorMessage});default:}}function f(c){let m,p,v=Array.isArray(t.prefixItems)||t.items!==void 0&&!Array.isArray(t.items)&&t.additionalItems===void 0;v?(m=t.prefixItems,p=Array.isArray(t.items)?void 0:t.items):(m=Array.isArray(t.items)?t.items:void 0,p=Array.isArray(t.items)?t.additionalItems:t.items);let y=0;if(m!==void 0){let k=Math.min(m.length,c.items.length);for(;y<k;y++){let d=m[y],l=Xe(d),g=new Ve,x=c.items[y];x&&(Oe(x,l,g,r),n.mergePropertyMatch(g)),n.processedProperties.add(String(y))}}if(p!==void 0&&y<c.items.length)if(typeof p=="boolean")for(p===!1&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",y)});y<c.items.length;y++)n.processedProperties.add(String(y)),n.propertiesValueMatches++;else for(;y<c.items.length;y++){let k=new Ve;Oe(c.items[y],p,k,r),n.mergePropertyMatch(k),n.processedProperties.add(String(y))}let S=Xe(t.contains);if(S){let k=0;for(let d=0;d<c.items.length;d++){let l=c.items[d],g=new Ve;Oe(l,S,g,Hn.instance),g.hasProblems()||(k++,v&&n.processedProperties.add(String(d)))}k===0&&!Le(t.minContains)&&n.problems.push({location:{offset:c.offset,length:c.length},message:t.errorMessage||B("requiredItemMissingWarning","Array does not contain required item.")}),Le(t.minContains)&&k<t.minContains&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("minContainsWarning","Array has too few items that match the contains contraint. Expected {0} or more.",t.minContains)}),Le(t.maxContains)&&k>t.maxContains&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("maxContainsWarning","Array has too many items that match the contains contraint. Expected {0} or less.",t.maxContains)})}let D=t.unevaluatedItems;if(D!==void 0)for(let k=0;k<c.items.length;k++){if(!n.processedProperties.has(String(k)))if(D===!1)n.problems.push({location:{offset:c.offset,length:c.length},message:B("unevaluatedItemsWarning","Item does not match any validation rule from the array.")});else{let d=new Ve;Oe(c.items[k],t.additionalItems,d,r),n.mergePropertyMatch(d)}n.processedProperties.add(String(k)),n.propertiesValueMatches++}if(Le(t.minItems)&&c.items.length<t.minItems&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)}),Le(t.maxItems)&&c.items.length>t.maxItems&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)}),t.uniqueItems===!0){let k=Ft(c);k.some((l,g)=>g!==k.lastIndexOf(l))&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("uniqueItemsWarning","Array has duplicate items.")})}}function u(c){let m=Object.create(null),p=new Set;for(let d of c.properties){let l=d.keyNode.value;m[l]=d.valueNode,p.add(l)}if(Array.isArray(t.required)){for(let d of t.required)if(!m[d]){let l=c.parent&&c.parent.type==="property"&&c.parent.keyNode,g=l?{offset:l.offset,length:l.length}:{offset:c.offset,length:1};n.problems.push({location:g,message:B("MissingRequiredPropWarning",'Missing property "{0}".',d)})}}let v=d=>{p.delete(d),n.processedProperties.add(d)};if(t.properties)for(let d of Object.keys(t.properties)){v(d);let l=t.properties[d],g=m[d];if(g)if(at(l))if(l)n.propertiesMatches++,n.propertiesValueMatches++;else{let x=g.parent;n.problems.push({location:{offset:x.keyNode.offset,length:x.keyNode.length},message:t.errorMessage||B("DisallowedExtraPropWarning","Property {0} is not allowed.",d)})}else{let x=new Ve;Oe(g,l,x,r),n.mergePropertyMatch(x)}}if(t.patternProperties)for(let d of Object.keys(t.patternProperties)){let l=dn(d);if(l){let g=[];for(let x of p)if(l.test(x)){g.push(x);let E=m[x];if(E){let b=t.patternProperties[d];if(at(b))if(b)n.propertiesMatches++,n.propertiesValueMatches++;else{let w=E.parent;n.problems.push({location:{offset:w.keyNode.offset,length:w.keyNode.length},message:t.errorMessage||B("DisallowedExtraPropWarning","Property {0} is not allowed.",x)})}else{let w=new Ve;Oe(E,b,w,r),n.mergePropertyMatch(w)}}}g.forEach(v)}}let y=t.additionalProperties;if(y!==void 0&&y!==!0)for(let d of p){v(d);let l=m[d];if(l)if(y===!1){let g=l.parent;n.problems.push({location:{offset:g.keyNode.offset,length:g.keyNode.length},message:t.errorMessage||B("DisallowedExtraPropWarning","Property {0} is not allowed.",d)})}else{let g=new Ve;Oe(l,y,g,r),n.mergePropertyMatch(g)}}let S=t.unevaluatedProperties;if(S!==void 0&&S!==!0){let d=[];for(let l of p)if(!n.processedProperties.has(l)){d.push(l);let g=m[l];if(g)if(S===!1){let x=g.parent;n.problems.push({location:{offset:x.keyNode.offset,length:x.keyNode.length},message:t.errorMessage||B("DisallowedExtraPropWarning","Property {0} is not allowed.",l)})}else{let x=new Ve;Oe(g,S,x,r),n.mergePropertyMatch(x)}}d.forEach(v)}if(Le(t.maxProperties)&&c.properties.length>t.maxProperties&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)}),Le(t.minProperties)&&c.properties.length<t.minProperties&&n.problems.push({location:{offset:c.offset,length:c.length},message:B("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)}),t.dependentRequired)for(let d in t.dependentRequired){let l=m[d],g=t.dependentRequired[d];l&&Array.isArray(g)&&k(d,g)}if(t.dependentSchemas)for(let d in t.dependentSchemas){let l=m[d],g=t.dependentSchemas[d];l&&Pt(g)&&k(d,g)}if(t.dependencies)for(let d in t.dependencies)m[d]&&k(d,t.dependencies[d]);let D=Xe(t.propertyNames);if(D)for(let d of c.properties){let l=d.keyNode;l&&Oe(l,D,n,Hn.instance)}function k(d,l){if(Array.isArray(l))for(let g of l)m[g]?n.propertiesValueMatches++:n.problems.push({location:{offset:c.offset,length:c.length},message:B("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",g,d)});else{let g=Xe(l);if(g){let x=new Ve;Oe(c,g,x,r),n.mergePropertyMatch(x)}}}}}function Kl(e,t){let n=[],r=-1,i=e.getText(),o=wt(i,!1),s=t&&t.collectComments?[]:void 0;function a(){for(;;){let b=o.scan();switch(m(),b){case 12:case 13:Array.isArray(s)&&s.push(O.Range.create(e.positionAt(o.getTokenOffset()),e.positionAt(o.getTokenOffset()+o.getTokenLength())));break;case 15:case 14:break;default:return b}}}function f(b){return o.getToken()===b?(a(),!0):!1}function u(b,w,_,q,I=O.DiagnosticSeverity.Error){if(n.length===0||_!==r){let R=O.Range.create(e.positionAt(_),e.positionAt(q));n.push(O.Diagnostic.create(R,b,I,w,e.languageId)),r=_}}function c(b,w,_=void 0,q=[],I=[]){let R=o.getTokenOffset(),L=o.getTokenOffset()+o.getTokenLength();if(R===L&&R>0){for(R--;R>0&&/\s/.test(i.charAt(R));)R--;L=R+1}if(u(b,w,R,L),_&&p(_,!1),q.length+I.length>0){let U=o.getToken();for(;U!==17;){if(q.indexOf(U)!==-1){a();break}else if(I.indexOf(U)!==-1)break;U=a()}}return _}function m(){switch(o.getTokenError()){case 4:return c(B("InvalidUnicode","Invalid unicode sequence in string."),re.InvalidUnicode),!0;case 5:return c(B("InvalidEscapeCharacter","Invalid escape character in string."),re.InvalidEscapeCharacter),!0;case 3:return c(B("UnexpectedEndOfNumber","Unexpected end of number."),re.UnexpectedEndOfNumber),!0;case 1:return c(B("UnexpectedEndOfComment","Unexpected end of comment."),re.UnexpectedEndOfComment),!0;case 2:return c(B("UnexpectedEndOfString","Unexpected end of string."),re.UnexpectedEndOfString),!0;case 6:return c(B("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),re.InvalidCharacter),!0}return!1}function p(b,w){return b.length=o.getTokenOffset()+o.getTokenLength()-b.offset,w&&a(),b}function v(b){if(o.getToken()!==3)return;let w=new Hl(b,o.getTokenOffset());a();let _=0,q=!1;for(;o.getToken()!==4&&o.getToken()!==17;){if(o.getToken()===5){q||c(B("ValueExpected","Value expected"),re.ValueExpected);let R=o.getTokenOffset();if(a(),o.getToken()===4){q&&u(B("TrailingComma","Trailing comma"),re.TrailingComma,R,R+1);continue}}else q&&c(B("ExpectedComma","Expected comma"),re.CommaExpected);let I=g(w);I?w.items.push(I):c(B("PropertyExpected","Value expected"),re.ValueExpected,void 0,[],[4,5]),q=!0}return o.getToken()!==4?c(B("ExpectedCloseBracket","Expected comma or closing bracket"),re.CommaOrCloseBacketExpected,w):p(w,!0)}let y=new wi(void 0,0,0);function S(b,w){let _=new zl(b,o.getTokenOffset(),y),q=k(_);if(!q)if(o.getToken()===16){c(B("DoubleQuotesExpected","Property keys must be doublequoted"),re.Undefined);let R=new wi(_,o.getTokenOffset(),o.getTokenLength());R.value=o.getTokenValue(),q=R,a()}else return;if(_.keyNode=q,q.value!=="//"){let R=w[q.value];R?(u(B("DuplicateKeyWarning","Duplicate object key"),re.DuplicateKey,_.keyNode.offset,_.keyNode.offset+_.keyNode.length,O.DiagnosticSeverity.Warning),Pt(R)&&u(B("DuplicateKeyWarning","Duplicate object key"),re.DuplicateKey,R.keyNode.offset,R.keyNode.offset+R.keyNode.length,O.DiagnosticSeverity.Warning),w[q.value]=!0):w[q.value]=_}if(o.getToken()===6)_.colonOffset=o.getTokenOffset(),a();else if(c(B("ColonExpected","Colon expected"),re.ColonExpected),o.getToken()===10&&e.positionAt(q.offset+q.length).line<e.positionAt(o.getTokenOffset()).line)return _.length=q.length,_;let I=g(_);return I?(_.valueNode=I,_.length=I.offset+I.length-_.offset,_):c(B("ValueExpected","Value expected"),re.ValueExpected,_,[],[2,5])}function D(b){if(o.getToken()!==1)return;let w=new Ul(b,o.getTokenOffset()),_=Object.create(null);a();let q=!1;for(;o.getToken()!==2&&o.getToken()!==17;){if(o.getToken()===5){q||c(B("PropertyExpected","Property expected"),re.PropertyExpected);let R=o.getTokenOffset();if(a(),o.getToken()===2){q&&u(B("TrailingComma","Trailing comma"),re.TrailingComma,R,R+1);continue}}else q&&c(B("ExpectedComma","Expected comma"),re.CommaExpected);let I=S(w,_);I?w.properties.push(I):c(B("PropertyExpected","Property expected"),re.PropertyExpected,void 0,[],[2,5]),q=!0}return o.getToken()!==2?c(B("ExpectedCloseBrace","Expected comma or closing brace"),re.CommaOrCloseBraceExpected,w):p(w,!0)}function k(b){if(o.getToken()!==10)return;let w=new wi(b,o.getTokenOffset());return w.value=o.getTokenValue(),p(w,!0)}function d(b){if(o.getToken()!==11)return;let w=new Bl(b,o.getTokenOffset());if(o.getTokenError()===0){let _=o.getTokenValue();try{let q=JSON.parse(_);if(!Le(q))return c(B("InvalidNumberFormat","Invalid number format."),re.Undefined,w);w.value=q}catch(q){return c(B("InvalidNumberFormat","Invalid number format."),re.Undefined,w)}w.isInteger=_.indexOf(".")===-1}return p(w,!0)}function l(b){let w;switch(o.getToken()){case 7:return p(new Vl(b,o.getTokenOffset()),!0);case 8:return p(new na(b,!0,o.getTokenOffset()),!0);case 9:return p(new na(b,!1,o.getTokenOffset()),!0);default:return}}function g(b){return v(b)||D(b)||k(b)||d(b)||l(b)}let x;return a()!==17&&(x=g(x),x?o.getToken()!==17&&c(B("End of file expected","End of file expected."),re.Undefined):c(B("Invalid symbol","Expected a JSON object, array or literal."),re.Undefined)),new ia(x,n,s)}function Ri(e,t,n){if(e!==null&&typeof e=="object"){let r=t+"	";if(Array.isArray(e)){if(e.length===0)return"[]";let i=`[
`;for(let o=0;o<e.length;o++)i+=r+Ri(e[o],r,n),o<e.length-1&&(i+=","),i+=`
`;return i+=t+"]",i}else{let i=Object.keys(e);if(i.length===0)return"{}";let o=`{
`;for(let s=0;s<i.length;s++){let a=i[s];o+=r+JSON.stringify(a)+": "+Ri(e[a],r,n),s<i.length-1&&(o+=","),o+=`
`}return o+=t+"}",o}}return n(e)}var Xl=lt(Vn()),oa=Xl.loadMessageBundle(),Mm=[",","}","]"],Am=[":"],sa=class{constructor(t,n=[],r=Promise,i={}){this.schemaService=t,this.contributions=n,this.promiseConstructor=r,this.clientCapabilities=i}doResolve(t){for(let n=this.contributions.length-1;n>=0;n--){let r=this.contributions[n].resolveCompletion;if(r){let i=r(t);if(i)return i}}return this.promiseConstructor.resolve(t)}doComplete(t,n,r){let i={items:[],isIncomplete:!1},o=t.getText(),s=t.offsetAt(n),a=r.getNodeFromOffset(s,!0);if(this.isInComment(t,a?a.offset:0,s))return Promise.resolve(i);if(a&&s===a.offset+a.length&&s>0){let v=o[s-1];(a.type==="object"&&v==="}"||a.type==="array"&&v==="]")&&(a=a.parent)}let f=this.getCurrentWord(t,s),u;if(a&&(a.type==="string"||a.type==="number"||a.type==="boolean"||a.type==="null"))u=O.Range.create(t.positionAt(a.offset),t.positionAt(a.offset+a.length));else{let v=s-f.length;v>0&&o[v-1]==='"'&&v--,u=O.Range.create(t.positionAt(v),n)}let c=!1,m={},p={add:v=>{let y=v.label,S=m[y];if(S)S.documentation||(S.documentation=v.documentation),S.detail||(S.detail=v.detail);else{if(y=y.replace(/[\n]/g,"\u21B5"),y.length>60){let D=y.substr(0,57).trim()+"...";m[D]||(y=D)}u&&v.insertText!==void 0&&(v.textEdit=O.TextEdit.replace(u,v.insertText)),c&&(v.commitCharacters=v.kind===O.CompletionItemKind.Property?Am:Mm),v.label=y,m[y]=v,i.items.push(v)}},setAsIncomplete:()=>{i.isIncomplete=!0},error:v=>{console.error(v)},log:v=>{console.log(v)},getNumberOfProposals:()=>i.items.length};return this.schemaService.getSchemaForResource(t.uri,r).then(v=>{let y=[],S=!0,D="",k;if(a&&a.type==="string"){let l=a.parent;l&&l.type==="property"&&l.keyNode===a&&(S=!l.valueNode,k=l,D=o.substr(a.offset+1,a.length-2),l&&(a=l.parent))}if(a&&a.type==="object"){if(a.offset===s)return i;a.properties.forEach(E=>{(!k||k!==E)&&(m[E.keyNode.value]=O.CompletionItem.create("__"))});let g="";S&&(g=this.evaluateSeparatorAfter(t,t.offsetAt(u.end))),v?this.getPropertyCompletions(v,r,a,S,g,p):this.getSchemaLessPropertyCompletions(r,a,D,p);let x=Pr(a);this.contributions.forEach(E=>{let b=E.collectPropertyCompletions(t.uri,x,f,S,g==="",p);b&&y.push(b)}),!v&&f.length>0&&o.charAt(s-f.length-1)!=='"'&&(p.add({kind:O.CompletionItemKind.Property,label:this.getLabelForValue(f),insertText:this.getInsertTextForProperty(f,void 0,!1,g),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""}),p.setAsIncomplete())}let d={};return v?this.getValueCompletions(v,r,a,s,t,p,d):this.getSchemaLessValueCompletions(r,a,s,t,p),this.contributions.length>0&&this.getContributedValueCompletions(r,a,s,t,p,y),this.promiseConstructor.all(y).then(()=>{if(p.getNumberOfProposals()===0){let l=s;a&&(a.type==="string"||a.type==="number"||a.type==="boolean"||a.type==="null")&&(l=a.offset+a.length);let g=this.evaluateSeparatorAfter(t,l);this.addFillerValueCompletions(d,g,p)}return i})})}getPropertyCompletions(t,n,r,i,o,s){n.getMatchingSchemas(t.schema,r.offset).forEach(f=>{if(f.node===r&&!f.inverted){let u=f.schema.properties;u&&Object.keys(u).forEach(m=>{let p=u[m];if(typeof p=="object"&&!p.deprecationMessage&&!p.doNotSuggest){let v={kind:O.CompletionItemKind.Property,label:m,insertText:this.getInsertTextForProperty(m,p,i,o),insertTextFormat:O.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(m),documentation:this.fromMarkup(p.markdownDescription)||p.description||""};p.suggestSortText!==void 0&&(v.sortText=p.suggestSortText),v.insertText&&Jt(v.insertText,`$1${o}`)&&(v.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(v)}});let c=f.schema.propertyNames;if(typeof c=="object"&&!c.deprecationMessage&&!c.doNotSuggest){let m=(p,v=void 0)=>{let y={kind:O.CompletionItemKind.Property,label:p,insertText:this.getInsertTextForProperty(p,void 0,i,o),insertTextFormat:O.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(p),documentation:v||this.fromMarkup(c.markdownDescription)||c.description||""};c.suggestSortText!==void 0&&(y.sortText=c.suggestSortText),y.insertText&&Jt(y.insertText,`$1${o}`)&&(y.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(y)};if(c.enum)for(let p=0;p<c.enum.length;p++){let v;c.markdownEnumDescriptions&&p<c.markdownEnumDescriptions.length?v=this.fromMarkup(c.markdownEnumDescriptions[p]):c.enumDescriptions&&p<c.enumDescriptions.length&&(v=c.enumDescriptions[p]),m(c.enum[p],v)}c.const&&m(c.const)}}})}getSchemaLessPropertyCompletions(t,n,r,i){let o=s=>{s.properties.forEach(a=>{let f=a.keyNode.value;i.add({kind:O.CompletionItemKind.Property,label:f,insertText:this.getInsertTextForValue(f,""),insertTextFormat:O.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(f),documentation:""})})};if(n.parent)if(n.parent.type==="property"){let s=n.parent.keyNode.value;t.visit(a=>(a.type==="property"&&a!==n.parent&&a.keyNode.value===s&&a.valueNode&&a.valueNode.type==="object"&&o(a.valueNode),!0))}else n.parent.type==="array"&&n.parent.items.forEach(s=>{s.type==="object"&&s!==n&&o(s)});else n.type==="object"&&i.add({kind:O.CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:O.InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(t,n,r,i,o){let s=r;if(n&&(n.type==="string"||n.type==="number"||n.type==="boolean"||n.type==="null")&&(s=n.offset+n.length,n=n.parent),!n){o.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""}),o.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""});return}let a=this.evaluateSeparatorAfter(i,s),f=u=>{u.parent&&!ra(u.parent,r,!0)&&o.add({kind:this.getSuggestionKind(u.type),label:this.getLabelTextForMatchingNode(u,i),insertText:this.getInsertTextForMatchingNode(u,i,a),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""}),u.type==="boolean"&&this.addBooleanValueCompletion(!u.value,a,o)};if(n.type==="property"&&r>(n.colonOffset||0)){let u=n.valueNode;if(u&&(r>u.offset+u.length||u.type==="object"||u.type==="array"))return;let c=n.keyNode.value;t.visit(m=>(m.type==="property"&&m.keyNode.value===c&&m.valueNode&&f(m.valueNode),!0)),c==="$schema"&&n.parent&&!n.parent.parent&&this.addDollarSchemaCompletions(a,o)}if(n.type==="array")if(n.parent&&n.parent.type==="property"){let u=n.parent.keyNode.value;t.visit(c=>(c.type==="property"&&c.keyNode.value===u&&c.valueNode&&c.valueNode.type==="array"&&c.valueNode.items.forEach(f),!0))}else n.items.forEach(f)}getValueCompletions(t,n,r,i,o,s,a){let f=i,u,c;if(r&&(r.type==="string"||r.type==="number"||r.type==="boolean"||r.type==="null")&&(f=r.offset+r.length,c=r,r=r.parent),!r){this.addSchemaValueCompletions(t.schema,"",s,a);return}if(r.type==="property"&&i>(r.colonOffset||0)){let m=r.valueNode;if(m&&i>m.offset+m.length)return;u=r.keyNode.value,r=r.parent}if(r&&(u!==void 0||r.type==="array")){let m=this.evaluateSeparatorAfter(o,f),p=n.getMatchingSchemas(t.schema,r.offset,c);for(let v of p)if(v.node===r&&!v.inverted&&v.schema){if(r.type==="array"&&v.schema.items)if(Array.isArray(v.schema.items)){let y=this.findItemAtOffset(r,o,i);y<v.schema.items.length&&this.addSchemaValueCompletions(v.schema.items[y],m,s,a)}else this.addSchemaValueCompletions(v.schema.items,m,s,a);if(u!==void 0){let y=!1;if(v.schema.properties){let S=v.schema.properties[u];S&&(y=!0,this.addSchemaValueCompletions(S,m,s,a))}if(v.schema.patternProperties&&!y)for(let S of Object.keys(v.schema.patternProperties)){let D=dn(S);if(D==null?void 0:D.test(u)){y=!0;let k=v.schema.patternProperties[S];this.addSchemaValueCompletions(k,m,s,a)}}if(v.schema.additionalProperties&&!y){let S=v.schema.additionalProperties;this.addSchemaValueCompletions(S,m,s,a)}}}u==="$schema"&&!r.parent&&this.addDollarSchemaCompletions(m,s),a.boolean&&(this.addBooleanValueCompletion(!0,m,s),this.addBooleanValueCompletion(!1,m,s)),a.null&&this.addNullValueCompletion(m,s)}}getContributedValueCompletions(t,n,r,i,o,s){if(!n)this.contributions.forEach(a=>{let f=a.collectDefaultCompletions(i.uri,o);f&&s.push(f)});else if((n.type==="string"||n.type==="number"||n.type==="boolean"||n.type==="null")&&(n=n.parent),n&&n.type==="property"&&r>(n.colonOffset||0)){let a=n.keyNode.value,f=n.valueNode;if((!f||r<=f.offset+f.length)&&n.parent){let u=Pr(n.parent);this.contributions.forEach(c=>{let m=c.collectValueCompletions(i.uri,u,a,o);m&&s.push(m)})}}}addSchemaValueCompletions(t,n,r,i){typeof t=="object"&&(this.addEnumValueCompletions(t,n,r),this.addDefaultValueCompletions(t,n,r),this.collectTypes(t,i),Array.isArray(t.allOf)&&t.allOf.forEach(o=>this.addSchemaValueCompletions(o,n,r,i)),Array.isArray(t.anyOf)&&t.anyOf.forEach(o=>this.addSchemaValueCompletions(o,n,r,i)),Array.isArray(t.oneOf)&&t.oneOf.forEach(o=>this.addSchemaValueCompletions(o,n,r,i)))}addDefaultValueCompletions(t,n,r,i=0){let o=!1;if(st(t.default)){let s=t.type,a=t.default;for(let f=i;f>0;f--)a=[a],s="array";r.add({kind:this.getSuggestionKind(s),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,n),insertTextFormat:O.InsertTextFormat.Snippet,detail:oa("json.suggest.default","Default value")}),o=!0}Array.isArray(t.examples)&&t.examples.forEach(s=>{let a=t.type,f=s;for(let u=i;u>0;u--)f=[f],a="array";r.add({kind:this.getSuggestionKind(a),label:this.getLabelForValue(f),insertText:this.getInsertTextForValue(f,n),insertTextFormat:O.InsertTextFormat.Snippet}),o=!0}),Array.isArray(t.defaultSnippets)&&t.defaultSnippets.forEach(s=>{let a=t.type,f=s.body,u=s.label,c,m;if(st(f)){let p=t.type;for(let v=i;v>0;v--)f=[f],p="array";c=this.getInsertTextForSnippetValue(f,n),m=this.getFilterTextForSnippetValue(f),u=u||this.getLabelForSnippetValue(f)}else if(typeof s.bodyText=="string"){let p="",v="",y="";for(let S=i;S>0;S--)p=p+y+`[
`,v=v+`
`+y+"]",y+="	",a="array";c=p+y+s.bodyText.split(`
`).join(`
`+y)+v+n,u=u||c,m=c.replace(/[\n]/g,"")}else return;r.add({kind:this.getSuggestionKind(a),label:u,documentation:this.fromMarkup(s.markdownDescription)||s.description,insertText:c,insertTextFormat:O.InsertTextFormat.Snippet,filterText:m}),o=!0}),!o&&typeof t.items=="object"&&!Array.isArray(t.items)&&i<5&&this.addDefaultValueCompletions(t.items,n,r,i+1)}addEnumValueCompletions(t,n,r){if(st(t.const)&&r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(t.const),insertText:this.getInsertTextForValue(t.const,n),insertTextFormat:O.InsertTextFormat.Snippet,documentation:this.fromMarkup(t.markdownDescription)||t.description}),Array.isArray(t.enum))for(let i=0,o=t.enum.length;i<o;i++){let s=t.enum[i],a=this.fromMarkup(t.markdownDescription)||t.description;t.markdownEnumDescriptions&&i<t.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(t.markdownEnumDescriptions[i]):t.enumDescriptions&&i<t.enumDescriptions.length&&(a=t.enumDescriptions[i]),r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(s),insertText:this.getInsertTextForValue(s,n),insertTextFormat:O.InsertTextFormat.Snippet,documentation:a})}}collectTypes(t,n){if(Array.isArray(t.enum)||st(t.const))return;let r=t.type;Array.isArray(r)?r.forEach(i=>n[i]=!0):r&&(n[r]=!0)}addFillerValueCompletions(t,n,r){t.object&&r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},n),insertTextFormat:O.InsertTextFormat.Snippet,detail:oa("defaults.object","New object"),documentation:""}),t.array&&r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],n),insertTextFormat:O.InsertTextFormat.Snippet,detail:oa("defaults.array","New array"),documentation:""})}addBooleanValueCompletion(t,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:t?"true":"false",insertText:this.getInsertTextForValue(t,n),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""})}addNullValueCompletion(t,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+t,insertTextFormat:O.InsertTextFormat.Snippet,documentation:""})}addDollarSchemaCompletions(t,n){this.schemaService.getRegisteredSchemaIds(i=>i==="http"||i==="https").forEach(i=>n.add({kind:O.CompletionItemKind.Module,label:this.getLabelForValue(i),filterText:this.getFilterTextForValue(i),insertText:this.getInsertTextForValue(i,t),insertTextFormat:O.InsertTextFormat.Snippet,documentation:""}))}getLabelForValue(t){return JSON.stringify(t)}getFilterTextForValue(t){return JSON.stringify(t)}getFilterTextForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(t){return t.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(t,n){var r=JSON.stringify(t,null,"	");return r==="{}"?"{$1}"+n:r==="[]"?"[$1]"+n:this.getInsertTextForPlainText(r+n)}getInsertTextForSnippetValue(t,n){return Ri(t,"",i=>typeof i=="string"&&i[0]==="^"?i.substr(1):JSON.stringify(i))+n}getInsertTextForGuessedValue(t,n){switch(typeof t){case"object":return t===null?"${1:null}"+n:this.getInsertTextForValue(t,n);case"string":let r=JSON.stringify(t);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),'"${1:'+r+'}"'+n;case"number":case"boolean":return"${1:"+JSON.stringify(t)+"}"+n}return this.getInsertTextForValue(t,n)}getSuggestionKind(t){if(Array.isArray(t)){let n=t;t=n.length>0?n[0]:void 0}if(!t)return O.CompletionItemKind.Value;switch(t){case"string":return O.CompletionItemKind.Value;case"object":return O.CompletionItemKind.Module;case"property":return O.CompletionItemKind.Property;default:return O.CompletionItemKind.Value}}getLabelTextForMatchingNode(t,n){switch(t.type){case"array":return"[]";case"object":return"{}";default:return n.getText().substr(t.offset,t.length)}}getInsertTextForMatchingNode(t,n,r){switch(t.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:let i=n.getText().substr(t.offset,t.length)+r;return this.getInsertTextForPlainText(i)}}getInsertTextForProperty(t,n,r,i){let o=this.getInsertTextForValue(t,"");if(!r)return o;let s=o+": ",a,f=0;if(n){if(Array.isArray(n.defaultSnippets)){if(n.defaultSnippets.length===1){let c=n.defaultSnippets[0].body;st(c)&&(a=this.getInsertTextForSnippetValue(c,""))}f+=n.defaultSnippets.length}if(n.enum&&(!a&&n.enum.length===1&&(a=this.getInsertTextForGuessedValue(n.enum[0],"")),f+=n.enum.length),st(n.const)&&(a||(a=this.getInsertTextForGuessedValue(n.const,"")),f++),st(n.default)&&(a||(a=this.getInsertTextForGuessedValue(n.default,"")),f++),Array.isArray(n.examples)&&n.examples.length&&(a||(a=this.getInsertTextForGuessedValue(n.examples[0],"")),f+=n.examples.length),f===0){var u=Array.isArray(n.type)?n.type[0]:n.type;switch(u||(n.properties?u="object":n.items&&(u="array")),u){case"boolean":a="$1";break;case"string":a='"$1"';break;case"object":a="{$1}";break;case"array":a="[$1]";break;case"number":case"integer":a="${1:0}";break;case"null":a="${1:null}";break;default:return o}}}return(!a||f>1)&&(a="$1"),s+a+i}getCurrentWord(t,n){for(var r=n-1,i=t.getText();r>=0&&` 	
\r\v":{[,]}`.indexOf(i.charAt(r))===-1;)r--;return i.substring(r+1,n)}evaluateSeparatorAfter(t,n){let r=wt(t.getText(),!0);switch(r.setPosition(n),r.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(t,n,r){let i=wt(n.getText(),!0),o=t.items;for(let s=o.length-1;s>=0;s--){let a=o[s];if(r>a.offset+a.length)return i.setPosition(a.offset+a.length),i.scan()===5&&r>=i.getTokenOffset()+i.getTokenLength()?s+1:s;if(r>=a.offset)return s}return 0}isInComment(t,n,r){let i=wt(t.getText(),!1);i.setPosition(n);let o=i.scan();for(;o!==17&&i.getTokenOffset()+i.getTokenLength()<r;)o=i.scan();return(o===12||o===13)&&i.getTokenOffset()<=r}fromMarkup(t){if(t&&this.doesSupportMarkdown())return{kind:O.MarkupKind.Markdown,value:t}}doesSupportMarkdown(){if(!st(this.supportsMarkdown)){let t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=t&&t.completionItem&&Array.isArray(t.completionItem.documentationFormat)&&t.completionItem.documentationFormat.indexOf(O.MarkupKind.Markdown)!==-1}return this.supportsMarkdown}doesSupportsCommitCharacters(){if(!st(this.supportsCommitCharacters)){let t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=t&&t.completionItem&&!!t.completionItem.commitCharactersSupport}return this.supportsCommitCharacters}};var aa=class{constructor(t,n=[],r){this.schemaService=t,this.contributions=n,this.promise=r||Promise}doHover(t,n,r){let i=t.offsetAt(n),o=r.getNodeFromOffset(i);if(!o||(o.type==="object"||o.type==="array")&&i>o.offset+1&&i<o.offset+o.length-1)return this.promise.resolve(null);let s=o;if(o.type==="string"){let c=o.parent;if(c&&c.type==="property"&&c.keyNode===o&&(o=c.valueNode,!o))return this.promise.resolve(null)}let a=O.Range.create(t.positionAt(s.offset),t.positionAt(s.offset+s.length));var f=c=>({contents:c,range:a});let u=Pr(o);for(let c=this.contributions.length-1;c>=0;c--){let p=this.contributions[c].getInfoContribution(t.uri,u);if(p)return p.then(v=>f(v))}return this.schemaService.getSchemaForResource(t.uri,r).then(c=>{if(c&&o){let m=r.getMatchingSchemas(c.schema,o.offset),p,v,y,S;m.every(k=>{if(k.node===o&&!k.inverted&&k.schema&&(p=p||k.schema.title,v=v||k.schema.markdownDescription||ca(k.schema.description),k.schema.enum)){let d=k.schema.enum.indexOf(Ft(o));k.schema.markdownEnumDescriptions?y=k.schema.markdownEnumDescriptions[d]:k.schema.enumDescriptions&&(y=ca(k.schema.enumDescriptions[d])),y&&(S=k.schema.enum[d],typeof S!="string"&&(S=JSON.stringify(S)))}return!0});let D="";return p&&(D=ca(p)),v&&(D.length>0&&(D+=`

`),D+=v),y&&(D.length>0&&(D+=`

`),D+=`\`${Fm(S)}\`: ${y}`),f([D])}return null})}};function ca(e){if(e)return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function Fm(e){return e.indexOf("`")!==-1?"`` "+e+" ``":e}var Yl=lt(Vn());var Lm=Yl.loadMessageBundle(),ua=class{constructor(t,n){this.jsonSchemaService=t,this.promise=n,this.validationEnabled=!0}configure(t){t&&(this.validationEnabled=t.validate!==!1,this.commentSeverity=t.allowComments?void 0:O.DiagnosticSeverity.Error)}doValidation(t,n,r,i){if(!this.validationEnabled)return this.promise.resolve([]);let o=[],s={},a=u=>{let c=u.range.start.line+" "+u.range.start.character+" "+u.message;s[c]||(s[c]=!0,o.push(u))},f=u=>{let c=(r==null?void 0:r.trailingCommas)?Ci(r.trailingCommas):O.DiagnosticSeverity.Error,m=(r==null?void 0:r.comments)?Ci(r.comments):this.commentSeverity,p=(r==null?void 0:r.schemaValidation)?Ci(r.schemaValidation):O.DiagnosticSeverity.Warning,v=(r==null?void 0:r.schemaRequest)?Ci(r.schemaRequest):O.DiagnosticSeverity.Warning;if(u){let y=(S,D)=>{if(n.root&&v){let k=n.root,d=k.type==="object"?k.properties[0]:void 0;if(d&&d.keyNode.value==="$schema"){let l=d.valueNode||d,g=O.Range.create(t.positionAt(l.offset),t.positionAt(l.offset+l.length));a(O.Diagnostic.create(g,S,v,D))}else{let l=O.Range.create(t.positionAt(k.offset),t.positionAt(k.offset+1));a(O.Diagnostic.create(l,S,v,D))}}};if(u.errors.length)y(u.errors[0],re.SchemaResolveError);else if(p){for(let D of u.warnings)y(D,re.SchemaUnsupportedFeature);let S=n.validate(t,u.schema,p);S&&S.forEach(a)}Zl(u.schema)&&(m=void 0),Ql(u.schema)&&(c=void 0)}for(let y of n.syntaxErrors){if(y.code===re.TrailingComma){if(typeof c!="number")continue;y.severity=c}a(y)}if(typeof m=="number"){let y=Lm("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(S=>{a(O.Diagnostic.create(S,y,m,re.CommentNotPermitted))})}return o};if(i){let u=i.id||"schemaservice://untitled/"+Im++;return this.jsonSchemaService.registerExternalSchema(u,[],i).getResolvedSchema().then(m=>f(m))}return this.jsonSchemaService.getSchemaForResource(t.uri,n).then(u=>f(u))}getLanguageStatus(t,n){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(t.uri,n)}}},Im=0;function Zl(e){if(e&&typeof e=="object"){if(at(e.allowComments))return e.allowComments;if(e.allOf)for(let t of e.allOf){let n=Zl(t);if(at(n))return n}}}function Ql(e){if(e&&typeof e=="object"){if(at(e.allowTrailingCommas))return e.allowTrailingCommas;let t=e;if(at(t.allowsTrailingCommas))return t.allowsTrailingCommas;if(e.allOf)for(let n of e.allOf){let r=Ql(n);if(at(r))return r}}}function Ci(e){switch(e){case"error":return O.DiagnosticSeverity.Error;case"warning":return O.DiagnosticSeverity.Warning;case"ignore":return}}var ef=48,Wm=57,$m=65,Oi=97,Vm=102;function ke(e){return e<ef?0:e<=Wm?e-ef:(e<Oi&&(e+=Oi-$m),e>=Oi&&e<=Vm?e-Oi+10:0)}function tf(e){if(e[0]==="#")switch(e.length){case 4:return{red:ke(e.charCodeAt(1))*17/255,green:ke(e.charCodeAt(2))*17/255,blue:ke(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:ke(e.charCodeAt(1))*17/255,green:ke(e.charCodeAt(2))*17/255,blue:ke(e.charCodeAt(3))*17/255,alpha:ke(e.charCodeAt(4))*17/255};case 7:return{red:(ke(e.charCodeAt(1))*16+ke(e.charCodeAt(2)))/255,green:(ke(e.charCodeAt(3))*16+ke(e.charCodeAt(4)))/255,blue:(ke(e.charCodeAt(5))*16+ke(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(ke(e.charCodeAt(1))*16+ke(e.charCodeAt(2)))/255,green:(ke(e.charCodeAt(3))*16+ke(e.charCodeAt(4)))/255,blue:(ke(e.charCodeAt(5))*16+ke(e.charCodeAt(6)))/255,alpha:(ke(e.charCodeAt(7))*16+ke(e.charCodeAt(8)))/255}}}var la=class{constructor(t){this.schemaService=t}findDocumentSymbols(t,n,r={resultLimit:Number.MAX_VALUE}){let i=n.root;if(!i)return[];let o=r.resultLimit||Number.MAX_VALUE,s=t.uri;if((s==="vscode://defaultsettings/keybindings.json"||Jt(s.toLowerCase(),"/user/keybindings.json"))&&i.type==="array"){let p=[];for(let v of i.items)if(v.type==="object"){for(let y of v.properties)if(y.keyNode.value==="key"&&y.valueNode){let S=O.Location.create(t.uri,Kt(t,v));if(p.push({name:Ft(y.valueNode),kind:O.SymbolKind.Function,location:S}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),p}}return p}let a=[{node:i,containerName:""}],f=0,u=!1,c=[],m=(p,v)=>{p.type==="array"?p.items.forEach(y=>{y&&a.push({node:y,containerName:v})}):p.type==="object"&&p.properties.forEach(y=>{let S=y.valueNode;if(S)if(o>0){o--;let D=O.Location.create(t.uri,Kt(t,y)),k=v?v+"."+y.keyNode.value:y.keyNode.value;c.push({name:this.getKeyLabel(y),kind:this.getSymbolKind(S.type),location:D,containerName:v}),a.push({node:S,containerName:k})}else u=!0})};for(;f<a.length;){let p=a[f++];m(p.node,p.containerName)}return u&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),c}findDocumentSymbols2(t,n,r={resultLimit:Number.MAX_VALUE}){let i=n.root;if(!i)return[];let o=r.resultLimit||Number.MAX_VALUE,s=t.uri;if((s==="vscode://defaultsettings/keybindings.json"||Jt(s.toLowerCase(),"/user/keybindings.json"))&&i.type==="array"){let p=[];for(let v of i.items)if(v.type==="object"){for(let y of v.properties)if(y.keyNode.value==="key"&&y.valueNode){let S=Kt(t,v),D=Kt(t,y.keyNode);if(p.push({name:Ft(y.valueNode),kind:O.SymbolKind.Function,range:S,selectionRange:D}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),p}}return p}let a=[],f=[{node:i,result:a}],u=0,c=!1,m=(p,v)=>{p.type==="array"?p.items.forEach((y,S)=>{if(y)if(o>0){o--;let D=Kt(t,y),k=D,l={name:String(S),kind:this.getSymbolKind(y.type),range:D,selectionRange:k,children:[]};v.push(l),f.push({result:l.children,node:y})}else c=!0}):p.type==="object"&&p.properties.forEach(y=>{let S=y.valueNode;if(S)if(o>0){o--;let D=Kt(t,y),k=Kt(t,y.keyNode),d=[],l={name:this.getKeyLabel(y),kind:this.getSymbolKind(S.type),range:D,selectionRange:k,children:d,detail:this.getDetail(S)};v.push(l),f.push({result:d,node:S})}else c=!0})};for(;u<f.length;){let p=f[u++];m(p.node,p.result)}return c&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),a}getSymbolKind(t){switch(t){case"object":return O.SymbolKind.Module;case"string":return O.SymbolKind.String;case"number":return O.SymbolKind.Number;case"array":return O.SymbolKind.Array;case"boolean":return O.SymbolKind.Boolean;default:return O.SymbolKind.Variable}}getKeyLabel(t){let n=t.keyNode.value;return n&&(n=n.replace(/[\n]/g,"\u21B5")),n&&n.trim()?n:`"${n}"`}getDetail(t){if(!!t){if(t.type==="boolean"||t.type==="number"||t.type==="null"||t.type==="string")return String(t.value);if(t.type==="array")return t.children.length?void 0:"[]";if(t.type==="object")return t.children.length?void 0:"{}"}}findDocumentColors(t,n,r){return this.schemaService.getSchemaForResource(t.uri,n).then(i=>{let o=[];if(i){let s=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,a=n.getMatchingSchemas(i.schema),f={};for(let u of a)if(!u.inverted&&u.schema&&(u.schema.format==="color"||u.schema.format==="color-hex")&&u.node&&u.node.type==="string"){let c=String(u.node.offset);if(!f[c]){let m=tf(Ft(u.node));if(m){let p=Kt(t,u.node);o.push({color:m,range:p})}if(f[c]=!0,s--,s<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(t.uri),o}}}return o})}getColorPresentations(t,n,r,i){let o=[],s=Math.round(r.red*255),a=Math.round(r.green*255),f=Math.round(r.blue*255);function u(m){let p=m.toString(16);return p.length!==2?"0"+p:p}let c;return r.alpha===1?c=`#${u(s)}${u(a)}${u(f)}`:c=`#${u(s)}${u(a)}${u(f)}${u(Math.round(r.alpha*255))}`,o.push({label:c,textEdit:O.TextEdit.replace(i,JSON.stringify(c))}),o}};function Kt(e,t){return O.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var nf=lt(Vn()),Q=nf.loadMessageBundle(),Ni={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},Hm={id:Q("schema.json.id","A unique identifier for the schema."),$schema:Q("schema.json.$schema","The schema to verify this document against."),title:Q("schema.json.title","A descriptive title of the element."),description:Q("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:Q("schema.json.default","A default value. Used by suggestions."),multipleOf:Q("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:Q("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:Q("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:Q("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:Q("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:Q("schema.json.maxLength","The maximum length of a string."),minLength:Q("schema.json.minLength","The minimum length of a string."),pattern:Q("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:Q("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:Q("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:Q("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:Q("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:Q("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:Q("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:Q("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:Q("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:Q("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:Q("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:Q("schema.json.properties","A map of property names to schemas for each property."),patternProperties:Q("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:Q("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:Q("schema.json.enum","The set of literal values that are valid."),type:Q("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:Q("schema.json.format","Describes the format expected for the value."),allOf:Q("schema.json.allOf","An array of schemas, all of which must match."),anyOf:Q("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:Q("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:Q("schema.json.not","A schema which must not match."),$id:Q("schema.json.$id","A unique identifier for the schema."),$ref:Q("schema.json.$ref","Reference a definition hosted on any location."),$comment:Q("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:Q("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:Q("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:Q("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:Q("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:Q("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:Q("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:Q("schema.json.contentEncoding","Describes the content encoding of a string property."),if:Q("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:Q("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:Q("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(let e in Ni.schemas){let t=Ni.schemas[e];for(let n in t.properties){let r=t.properties[n];typeof r=="boolean"&&(r=t.properties[n]={});let i=Hm[n];i?r.description=i:console.log(`${n}: localize('schema.json.${n}', "")`)}}var rf;rf=(()=>{"use strict";var e={470:r=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,f){for(var u,c="",m=0,p=-1,v=0,y=0;y<=a.length;++y){if(y<a.length)u=a.charCodeAt(y);else{if(u===47)break;u=47}if(u===47){if(!(p===y-1||v===1))if(p!==y-1&&v===2){if(c.length<2||m!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var S=c.lastIndexOf("/");if(S!==c.length-1){S===-1?(c="",m=0):m=(c=c.slice(0,S)).length-1-c.lastIndexOf("/"),p=y,v=0;continue}}else if(c.length===2||c.length===1){c="",m=0,p=y,v=0;continue}}f&&(c.length>0?c+="/..":c="..",m=2)}else c.length>0?c+="/"+a.slice(p+1,y):c=a.slice(p+1,y),m=y-p-1;p=y,v=0}else u===46&&v!==-1?++v:v=-1}return c}var s={resolve:function(){for(var a,f="",u=!1,c=arguments.length-1;c>=-1&&!u;c--){var m;c>=0?m=arguments[c]:(a===void 0&&(a=process.cwd()),m=a),i(m),m.length!==0&&(f=m+"/"+f,u=m.charCodeAt(0)===47)}return f=o(f,!u),u?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(a){if(i(a),a.length===0)return".";var f=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return(a=o(a,!f)).length!==0||f||(a="."),a.length>0&&u&&(a+="/"),f?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,f=0;f<arguments.length;++f){var u=arguments[f];i(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":s.normalize(a)},relative:function(a,f){if(i(a),i(f),a===f||(a=s.resolve(a))===(f=s.resolve(f)))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var c=a.length,m=c-u,p=1;p<f.length&&f.charCodeAt(p)===47;++p);for(var v=f.length-p,y=m<v?m:v,S=-1,D=0;D<=y;++D){if(D===y){if(v>y){if(f.charCodeAt(p+D)===47)return f.slice(p+D+1);if(D===0)return f.slice(p+D)}else m>y&&(a.charCodeAt(u+D)===47?S=D:D===0&&(S=0));break}var k=a.charCodeAt(u+D);if(k!==f.charCodeAt(p+D))break;k===47&&(S=D)}var d="";for(D=u+S+1;D<=c;++D)D!==c&&a.charCodeAt(D)!==47||(d.length===0?d+="..":d+="/..");return d.length>0?d+f.slice(p+S):(p+=S,f.charCodeAt(p)===47&&++p,f.slice(p))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var f=a.charCodeAt(0),u=f===47,c=-1,m=!0,p=a.length-1;p>=1;--p)if((f=a.charCodeAt(p))===47){if(!m){c=p;break}}else m=!1;return c===-1?u?"/":".":u&&c===1?"//":a.slice(0,c)},basename:function(a,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');i(a);var u,c=0,m=-1,p=!0;if(f!==void 0&&f.length>0&&f.length<=a.length){if(f.length===a.length&&f===a)return"";var v=f.length-1,y=-1;for(u=a.length-1;u>=0;--u){var S=a.charCodeAt(u);if(S===47){if(!p){c=u+1;break}}else y===-1&&(p=!1,y=u+1),v>=0&&(S===f.charCodeAt(v)?--v==-1&&(m=u):(v=-1,m=y))}return c===m?m=y:m===-1&&(m=a.length),a.slice(c,m)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!p){c=u+1;break}}else m===-1&&(p=!1,m=u+1);return m===-1?"":a.slice(c,m)},extname:function(a){i(a);for(var f=-1,u=0,c=-1,m=!0,p=0,v=a.length-1;v>=0;--v){var y=a.charCodeAt(v);if(y!==47)c===-1&&(m=!1,c=v+1),y===46?f===-1?f=v:p!==1&&(p=1):f!==-1&&(p=-1);else if(!m){u=v+1;break}}return f===-1||c===-1||p===0||p===1&&f===c-1&&f===u+1?"":a.slice(f,c)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(f,u){var c=u.dir||u.root,m=u.base||(u.name||"")+(u.ext||"");return c?c===u.root?c+m:c+"/"+m:m}(0,a)},parse:function(a){i(a);var f={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return f;var u,c=a.charCodeAt(0),m=c===47;m?(f.root="/",u=1):u=0;for(var p=-1,v=0,y=-1,S=!0,D=a.length-1,k=0;D>=u;--D)if((c=a.charCodeAt(D))!==47)y===-1&&(S=!1,y=D+1),c===46?p===-1?p=D:k!==1&&(k=1):p!==-1&&(k=-1);else if(!S){v=D+1;break}return p===-1||y===-1||k===0||k===1&&p===y-1&&p===v+1?y!==-1&&(f.base=f.name=v===0&&m?a.slice(1,y):a.slice(v,y)):(v===0&&m?(f.name=a.slice(1,p),f.base=a.slice(1,y)):(f.name=a.slice(v,p),f.base=a.slice(v,y)),f.ext=a.slice(p,y)),v>0?f.dir=a.slice(0,v-1):m&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,r.exports=s},447:(r,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>d,Utils:()=>L}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var f,u,c=(f=function(A,C){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,M){N.__proto__=M}||function(N,M){for(var z in M)Object.prototype.hasOwnProperty.call(M,z)&&(N[z]=M[z])})(A,C)},function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function N(){this.constructor=A}f(A,C),A.prototype=C===null?Object.create(C):(N.prototype=C.prototype,new N)}),m=/^\w[\w\d+.-]*$/,p=/^\//,v=/^\/\//;function y(A,C){if(!A.scheme&&C)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(A.authority,'", path: "').concat(A.path,'", query: "').concat(A.query,'", fragment: "').concat(A.fragment,'"}'));if(A.scheme&&!m.test(A.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(A.path){if(A.authority){if(!p.test(A.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(A.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var S="",D="/",k=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=function(){function A(C,N,M,z,G,Z){Z===void 0&&(Z=!1),typeof C=="object"?(this.scheme=C.scheme||S,this.authority=C.authority||S,this.path=C.path||S,this.query=C.query||S,this.fragment=C.fragment||S):(this.scheme=function(et,Ne){return et||Ne?et:"file"}(C,Z),this.authority=N||S,this.path=function(et,Ne){switch(et){case"https":case"http":case"file":Ne?Ne[0]!==D&&(Ne=D+Ne):Ne=D}return Ne}(this.scheme,M||S),this.query=z||S,this.fragment=G||S,y(this,Z))}return A.isUri=function(C){return C instanceof A||!!C&&typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function"},Object.defineProperty(A.prototype,"fsPath",{get:function(){return w(this,!1)},enumerable:!1,configurable:!0}),A.prototype.with=function(C){if(!C)return this;var N=C.scheme,M=C.authority,z=C.path,G=C.query,Z=C.fragment;return N===void 0?N=this.scheme:N===null&&(N=S),M===void 0?M=this.authority:M===null&&(M=S),z===void 0?z=this.path:z===null&&(z=S),G===void 0?G=this.query:G===null&&(G=S),Z===void 0?Z=this.fragment:Z===null&&(Z=S),N===this.scheme&&M===this.authority&&z===this.path&&G===this.query&&Z===this.fragment?this:new g(N,M,z,G,Z)},A.parse=function(C,N){N===void 0&&(N=!1);var M=k.exec(C);return M?new g(M[2]||S,R(M[4]||S),R(M[5]||S),R(M[7]||S),R(M[9]||S),N):new g(S,S,S,S,S)},A.file=function(C){var N=S;if(s&&(C=C.replace(/\\/g,D)),C[0]===D&&C[1]===D){var M=C.indexOf(D,2);M===-1?(N=C.substring(2),C=D):(N=C.substring(2,M),C=C.substring(M)||D)}return new g("file",N,C,S,S)},A.from=function(C){var N=new g(C.scheme,C.authority,C.path,C.query,C.fragment);return y(N,!0),N},A.prototype.toString=function(C){return C===void 0&&(C=!1),_(this,C)},A.prototype.toJSON=function(){return this},A.revive=function(C){if(C){if(C instanceof A)return C;var N=new g(C);return N._formatted=C.external,N._fsPath=C._sep===l?C.fsPath:null,N}return C},A}(),l=s?1:void 0,g=function(A){function C(){var N=A!==null&&A.apply(this,arguments)||this;return N._formatted=null,N._fsPath=null,N}return c(C,A),Object.defineProperty(C.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=w(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),C.prototype.toString=function(N){return N===void 0&&(N=!1),N?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)},C.prototype.toJSON=function(){var N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=l),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N},C}(d),x=((u={})[58]="%3A",u[47]="%2F",u[63]="%3F",u[35]="%23",u[91]="%5B",u[93]="%5D",u[64]="%40",u[33]="%21",u[36]="%24",u[38]="%26",u[39]="%27",u[40]="%28",u[41]="%29",u[42]="%2A",u[43]="%2B",u[44]="%2C",u[59]="%3B",u[61]="%3D",u[32]="%20",u);function E(A,C){for(var N=void 0,M=-1,z=0;z<A.length;z++){var G=A.charCodeAt(z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||C&&G===47)M!==-1&&(N+=encodeURIComponent(A.substring(M,z)),M=-1),N!==void 0&&(N+=A.charAt(z));else{N===void 0&&(N=A.substr(0,z));var Z=x[G];Z!==void 0?(M!==-1&&(N+=encodeURIComponent(A.substring(M,z)),M=-1),N+=Z):M===-1&&(M=z)}}return M!==-1&&(N+=encodeURIComponent(A.substring(M))),N!==void 0?N:A}function b(A){for(var C=void 0,N=0;N<A.length;N++){var M=A.charCodeAt(N);M===35||M===63?(C===void 0&&(C=A.substr(0,N)),C+=x[M]):C!==void 0&&(C+=A[N])}return C!==void 0?C:A}function w(A,C){var N;return N=A.authority&&A.path.length>1&&A.scheme==="file"?"//".concat(A.authority).concat(A.path):A.path.charCodeAt(0)===47&&(A.path.charCodeAt(1)>=65&&A.path.charCodeAt(1)<=90||A.path.charCodeAt(1)>=97&&A.path.charCodeAt(1)<=122)&&A.path.charCodeAt(2)===58?C?A.path.substr(1):A.path[1].toLowerCase()+A.path.substr(2):A.path,s&&(N=N.replace(/\//g,"\\")),N}function _(A,C){var N=C?b:E,M="",z=A.scheme,G=A.authority,Z=A.path,et=A.query,Ne=A.fragment;if(z&&(M+=z,M+=":"),(G||z==="file")&&(M+=D,M+=D),G){var He=G.indexOf("@");if(He!==-1){var ut=G.substr(0,He);G=G.substr(He+1),(He=ut.indexOf(":"))===-1?M+=N(ut,!1):(M+=N(ut.substr(0,He),!1),M+=":",M+=N(ut.substr(He+1),!1)),M+="@"}(He=(G=G.toLowerCase()).indexOf(":"))===-1?M+=N(G,!1):(M+=N(G.substr(0,He),!1),M+=G.substr(He))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58)(Ye=Z.charCodeAt(1))>=65&&Ye<=90&&(Z="/".concat(String.fromCharCode(Ye+32),":").concat(Z.substr(3)));else if(Z.length>=2&&Z.charCodeAt(1)===58){var Ye;(Ye=Z.charCodeAt(0))>=65&&Ye<=90&&(Z="".concat(String.fromCharCode(Ye+32),":").concat(Z.substr(2)))}M+=N(Z,!0)}return et&&(M+="?",M+=N(et,!1)),Ne&&(M+="#",M+=C?Ne:E(Ne,!1)),M}function q(A){try{return decodeURIComponent(A)}catch(C){return A.length>3?A.substr(0,3)+q(A.substr(3)):A}}var I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(A){return A.match(I)?A.replace(I,function(C){return q(C)}):A}var L,U=o(470),ee=function(A,C,N){if(N||arguments.length===2)for(var M,z=0,G=C.length;z<G;z++)!M&&z in C||(M||(M=Array.prototype.slice.call(C,0,z)),M[z]=C[z]);return A.concat(M||Array.prototype.slice.call(C))},se=U.posix||U;(function(A){A.joinPath=function(C){for(var N=[],M=1;M<arguments.length;M++)N[M-1]=arguments[M];return C.with({path:se.join.apply(se,ee([C.path],N,!1))})},A.resolvePath=function(C){for(var N=[],M=1;M<arguments.length;M++)N[M-1]=arguments[M];var z=C.path||"/";return C.with({path:se.resolve.apply(se,ee([z],N,!1))})},A.dirname=function(C){var N=se.dirname(C.path);return N.length===1&&N.charCodeAt(0)===46?C:C.with({path:N})},A.basename=function(C){return se.basename(C.path)},A.extname=function(C){return se.extname(C.path)}})(L||(L={}))}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(r,i)=>{for(var o in i)n.o(i,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:i[o]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),n.r=r=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n(447)})();var{URI:Lt,Utils:of}=rf;var af=lt(Vn());function sf(e,t){if(typeof e!="string")throw new TypeError("Expected a string");let n=String(e),r="",i=t?!!t.extended:!1,o=t?!!t.globstar:!1,s=!1,a=t&&typeof t.flags=="string"?t.flags:"",f;for(let u=0,c=n.length;u<c;u++)switch(f=n[u],f){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+f;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=f;break}case"{":if(i){s=!0,r+="(";break}case"}":if(i){s=!1,r+=")";break}case",":if(s){r+="|";break}r+="\\"+f;break;case"*":let m=n[u-1],p=1;for(;n[u+1]==="*";)p++,u++;let v=n[u+1];o?p>1&&(m==="/"||m===void 0||m==="{"||m===",")&&(v==="/"||v===void 0||v===","||v==="}")?(v==="/"?u++:m==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)":r+=".*";break;default:r+=f}return(!a||!~a.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,a)}var It=af.loadMessageBundle(),Bm="!",zm="/",cf=class{constructor(t,n){this.globWrappers=[];try{for(let r of t){let i=r[0]!==Bm;i||(r=r.substring(1)),r.length>0&&(r[0]===zm&&(r=r.substring(1)),this.globWrappers.push({regexp:sf("**/"+r,{extended:!0,globstar:!0}),include:i}))}this.uris=n}catch(r){this.globWrappers.length=0,this.uris=[]}}matchesPattern(t){let n=!1;for(let{regexp:r,include:i}of this.globWrappers)r.test(t)&&(n=i);return n}getURIs(){return this.uris}},uf=class{constructor(t,n,r){this.service=t,this.uri=n,this.dependencies=new Set,this.anchors=void 0,r&&(this.unresolvedSchema=this.service.promise.resolve(new Bn(r)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(t=>this.service.resolveSchemaContent(t,this))),this.resolvedSchema}clearSchema(){let t=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,t}},Bn=class{constructor(t,n=[]){this.schema=t,this.errors=n}},fa=class{constructor(t,n=[],r=[],i){this.schema=t,this.errors=n,this.warnings=r,this.schemaDraft=i}getSection(t){let n=this.getSectionRecursive(t,this.schema);if(n)return Xe(n)}getSectionRecursive(t,n){if(!n||typeof n=="boolean"||t.length===0)return n;let r=t.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(t,n.properties[r]);if(n.patternProperties)for(let i of Object.keys(n.patternProperties)){let o=dn(i);if(o==null?void 0:o.test(r))return this.getSectionRecursive(t,n.patternProperties[i])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(t,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){let i=parseInt(r,10);if(!isNaN(i)&&n.items[i])return this.getSectionRecursive(t,n.items[i])}else if(n.items)return this.getSectionRecursive(t,n.items)}}}},da=class{constructor(t,n,r){this.contextService=n,this.requestService=t,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(t){return Object.keys(this.registeredSchemasIds).filter(n=>{let r=Lt.parse(n).scheme;return r!=="schemaservice"&&(!t||t(r))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(t){this.cachedSchemaForResource=void 0;let n=!1;t=Xt(t);let r=[t],i=Object.keys(this.schemasById).map(o=>this.schemasById[o]);for(;r.length;){let o=r.pop();for(let s=0;s<i.length;s++){let a=i[s];a&&(a.uri===o||a.dependencies.has(o))&&(a.uri!==o&&r.push(a.uri),a.clearSchema()&&(n=!0),i[s]=void 0)}}return n}setSchemaContributions(t){if(t.schemas){let n=t.schemas;for(let r in n){let i=Xt(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(Array.isArray(t.schemaAssociations)){let n=t.schemaAssociations;for(let r of n){let i=r.uris.map(Xt),o=this.addFilePatternAssociation(r.pattern,i);this.contributionAssociations.push(o)}}}addSchemaHandle(t,n){let r=new uf(this,t,n);return this.schemasById[t]=r,r}getOrAddSchemaHandle(t,n){return this.schemasById[t]||this.addSchemaHandle(t,n)}addFilePatternAssociation(t,n){let r=new cf(t,n);return this.filePatternAssociations.push(r),r}registerExternalSchema(t,n,r){let i=Xt(t);return this.registeredSchemasIds[i]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[i]),r?this.addSchemaHandle(i,r):this.getOrAddSchemaHandle(i)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(let t in this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(let t of this.contributionAssociations)this.filePatternAssociations.push(t)}getResolvedSchema(t){let n=Xt(t),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(t){if(!this.requestService){let n=It("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",qi(t));return this.promise.resolve(new Bn({},[n]))}return this.requestService(t).then(n=>{if(!n){let s=It("json.schema.nocontent","Unable to load schema from '{0}': No content.",qi(t));return new Bn({},[s])}let r={},i=[];r=Pl(n,i);let o=i.length?[It("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",qi(t),i[0].offset)]:[];return new Bn(r,o)},n=>{let r=n.toString(),i=n.toString().split("Error: ");return i.length>1&&(r=i[1]),Jt(r,".")&&(r=r.substr(0,r.length-1)),new Bn({},[It("json.schema.nocontent","Unable to load schema from '{0}': {1}.",qi(t),r)])})}resolveSchemaContent(t,n){let r=t.errors.slice(0),i=t.schema,o=i.$schema?Xt(i.$schema):void 0;if(o==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new fa({},[It("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")],[],o));let s=new Set,a=this.contextService,f=(S,D)=>{D=decodeURIComponent(D);let k=S;return D[0]==="/"&&(D=D.substring(1)),D.split("/").some(d=>(d=d.replace(/~1/g,"/").replace(/~0/g,"~"),k=k[d],!k)),k},u=(S,D,k)=>(D.anchors||(D.anchors=y(S)),D.anchors.get(k)),c=(S,D)=>{for(let k in D)D.hasOwnProperty(k)&&!S.hasOwnProperty(k)&&k!=="id"&&k!=="$id"&&(S[k]=D[k])},m=(S,D,k,d)=>{let l;d===void 0||d.length===0?l=D:d.charAt(0)==="/"?l=f(D,d):l=u(D,k,d),l?c(S,l):r.push(It("json.schema.invalidid","$ref '{0}' in '{1}' can not be resolved.",d,k.uri))},p=(S,D,k,d)=>{a&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(D)&&(D=a.resolveRelativePath(D,d.uri)),D=Xt(D);let l=this.getOrAddSchemaHandle(D);return l.getUnresolvedSchema().then(g=>{if(d.dependencies.add(D),g.errors.length){let x=k?D+"#"+k:D;r.push(It("json.schema.problemloadingref","Problems loading reference '{0}': {1}",x,g.errors[0]))}return m(S,g.schema,l,k),v(S,g.schema,l)})},v=(S,D,k)=>{let d=[];return this.traverseNodes(S,l=>{let g=new Set;for(;l.$ref;){let x=l.$ref,E=x.split("#",2);if(delete l.$ref,E[0].length>0){d.push(p(l,E[0],E[1],k));return}else if(!g.has(x)){let b=E[1];m(l,D,k,b),g.add(x)}}l.$recursiveRef&&s.add("$recursiveRef"),l.$dynamicRef&&s.add("$dynamicRef")}),this.promise.all(d)},y=S=>{let D=new Map;return this.traverseNodes(S,k=>{let d=k.$id||k.id,l=Ti(d)&&d.charAt(0)==="#"?d.substring(1):k.$anchor;l&&(D.has(l)?r.push(It("json.schema.duplicateid","Duplicate anchor declaration: '{0}'",l)):D.set(l,k)),k.$recursiveAnchor&&s.add("$recursiveAnchor"),k.$dynamicAnchor&&s.add("$dynamicAnchor")}),D};return v(i,i,n).then(S=>{let D=[];return s.size&&D.push(It("json.schema.warnings","The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(s.keys()).join(", "))),new fa(i,r,D,o)})}traverseNodes(t,n){if(!t||typeof t!="object")return Promise.resolve(null);let r=new Set,i=(...c)=>{for(let m of c)Pt(m)&&f.push(m)},o=(...c)=>{for(let m of c)if(Pt(m))for(let p in m){let y=m[p];Pt(y)&&f.push(y)}},s=(...c)=>{for(let m of c)if(Array.isArray(m))for(let p of m)Pt(p)&&f.push(p)},a=c=>{if(Array.isArray(c))for(let m of c)Pt(m)&&f.push(m);else Pt(c)&&f.push(c)},f=[t],u=f.pop();for(;u;)r.has(u)||(r.add(u),n(u),i(u.additionalItems,u.additionalProperties,u.not,u.contains,u.propertyNames,u.if,u.then,u.else,u.unevaluatedItems,u.unevaluatedProperties),o(u.definitions,u.$defs,u.properties,u.patternProperties,u.dependencies,u.dependentSchemas),s(u.anyOf,u.allOf,u.oneOf,u.prefixItems),a(u.items)),u=f.pop()}getSchemaFromProperty(t,n){var r,i;if(((r=n.root)==null?void 0:r.type)==="object"){for(let o of n.root.properties)if(o.keyNode.value==="$schema"&&((i=o.valueNode)==null?void 0:i.type)==="string"){let s=o.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(s)&&(s=this.contextService.resolveRelativePath(s,t)),s}}}getAssociatedSchemas(t){let n=Object.create(null),r=[],i=Jm(t);for(let o of this.filePatternAssociations)if(o.matchesPattern(i))for(let s of o.getURIs())n[s]||(r.push(s),n[s]=!0);return r}getSchemaURIsForResource(t,n){let r=n&&this.getSchemaFromProperty(t,n);return r?[r]:this.getAssociatedSchemas(t)}getSchemaForResource(t,n){if(n){let o=this.getSchemaFromProperty(t,n);if(o){let s=Xt(o);return this.getOrAddSchemaHandle(s).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===t)return this.cachedSchemaForResource.resolvedSchema;let r=this.getAssociatedSchemas(t),i=r.length>0?this.createCombinedSchema(t,r).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:t,resolvedSchema:i},i}createCombinedSchema(t,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);{let r="schemaservice://combinedSchema/"+encodeURIComponent(t),i={allOf:n.map(o=>({$ref:o}))};return this.addSchemaHandle(r,i)}}getMatchingSchemas(t,n,r){if(r){let i=r.id||"schemaservice://untitled/matchingSchemas/"+Um++;return this.addSchemaHandle(i,r).getResolvedSchema().then(s=>n.getMatchingSchemas(s.schema).filter(a=>!a.inverted))}return this.getSchemaForResource(t.uri,n).then(i=>i?n.getMatchingSchemas(i.schema).filter(o=>!o.inverted):[])}},Um=0;function Xt(e){try{return Lt.parse(e).toString(!0)}catch(t){return e}}function Jm(e){try{return Lt.parse(e).with({fragment:null,query:null}).toString(!0)}catch(t){return e}}function qi(e){try{let t=Lt.parse(e);if(t.scheme==="file")return t.fsPath}catch(t){}return e}function lf(e,t){let n=[],r=[],i=[],o=-1,s=wt(e.getText(),!1),a=s.scan();function f(y){n.push(y),r.push(i.length)}for(;a!==17;){switch(a){case 1:case 3:{let y=e.positionAt(s.getTokenOffset()).line,S={startLine:y,endLine:y,kind:a===1?"object":"array"};i.push(S);break}case 2:case 4:{let y=a===2?"object":"array";if(i.length>0&&i[i.length-1].kind===y){let S=i.pop(),D=e.positionAt(s.getTokenOffset()).line;S&&D>S.startLine+1&&o!==S.startLine&&(S.endLine=D-1,f(S),o=S.startLine)}break}case 13:{let y=e.positionAt(s.getTokenOffset()).line,S=e.positionAt(s.getTokenOffset()+s.getTokenLength()).line;s.getTokenError()===1&&y+1<e.lineCount?s.setPosition(e.offsetAt(O.Position.create(y+1,0))):y<S&&(f({startLine:y,endLine:S,kind:O.FoldingRangeKind.Comment}),o=y);break}case 12:{let S=e.getText().substr(s.getTokenOffset(),s.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(S){let D=e.positionAt(s.getTokenOffset()).line;if(S[1]){let k={startLine:D,endLine:D,kind:O.FoldingRangeKind.Region};i.push(k)}else{let k=i.length-1;for(;k>=0&&i[k].kind!==O.FoldingRangeKind.Region;)k--;if(k>=0){let d=i[k];i.length=k,D>d.startLine&&o!==d.startLine&&(d.endLine=D,f(d),o=d.startLine)}}}break}}a=s.scan()}let u=t&&t.rangeLimit;if(typeof u!="number"||n.length<=u)return n;t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri);let c=[];for(let y of r)y<30&&(c[y]=(c[y]||0)+1);let m=0,p=0;for(let y=0;y<c.length;y++){let S=c[y];if(S){if(S+m>u){p=y;break}m+=S}}let v=[];for(let y=0;y<n.length;y++){let S=r[y];typeof S=="number"&&(S<p||S===p&&m++<u)&&v.push(n[y])}return v}function ff(e,t,n){function r(a){let f=e.offsetAt(a),u=n.getNodeFromOffset(f,!0),c=[];for(;u;){switch(u.type){case"string":case"object":case"array":let p=u.offset+1,v=u.offset+u.length-1;p<v&&f>=p&&f<=v&&c.push(i(p,v)),c.push(i(u.offset,u.offset+u.length));break;case"number":case"boolean":case"null":case"property":c.push(i(u.offset,u.offset+u.length));break}if(u.type==="property"||u.parent&&u.parent.type==="array"){let p=s(u.offset+u.length,5);p!==-1&&c.push(i(u.offset,p))}u=u.parent}let m;for(let p=c.length-1;p>=0;p--)m=O.SelectionRange.create(c[p],m);return m||(m=O.SelectionRange.create(O.Range.create(a,a))),m}function i(a,f){return O.Range.create(e.positionAt(a),e.positionAt(f))}let o=wt(e.getText(),!0);function s(a,f){return o.setPosition(a),o.scan()===f?o.getTokenOffset()+o.getTokenLength():-1}return t.map(r)}function df(e,t){let n=[];return t.visit(r=>{var i;if(r.type==="property"&&r.keyNode.value==="$ref"&&((i=r.valueNode)==null?void 0:i.type)==="string"){let o=r.valueNode.value,s=Km(t,o);if(s){let a=e.positionAt(s.offset);n.push({target:`${e.uri}#${a.line+1},${a.character+1}`,range:Gm(e,r.valueNode)})}}return!0}),Promise.resolve(n)}function Gm(e,t){return O.Range.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function Km(e,t){let n=Xm(t);return n?ha(n,e.root):null}function ha(e,t){if(!t)return null;if(e.length===0)return t;let n=e.shift();if(t&&t.type==="object"){let r=t.properties.find(i=>i.keyNode.value===n);return r?ha(e,r.valueNode):null}else if(t&&t.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){let r=Number.parseInt(n),i=t.items[r];return i?ha(e,i):null}return null}function Xm(e){return e==="#"?[]:e[0]!=="#"||e[1]!=="/"?null:e.substring(2).split(/\//).map(Ym)}function Ym(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function pa(e){let t=e.promiseConstructor||Promise,n=new da(e.schemaRequestService,e.workspaceContext,t);n.setSchemaContributions(Ni);let r=new sa(n,e.contributions,t,e.clientCapabilities),i=new aa(n,e.contributions,t),o=new la(n),s=new ua(n,t);return{configure:a=>{n.clearExternalSchemas(),a.schemas&&a.schemas.forEach(f=>{n.registerExternalSchema(f.uri,f.fileMatch,f.schema)}),s.configure(a)},resetSchema:a=>n.onResourceChange(a),doValidation:s.doValidation.bind(s),getLanguageStatus:s.getLanguageStatus.bind(s),parseJSONDocument:a=>Kl(a,{collectComments:!0}),newJSONDocument:(a,f)=>Gl(a,f),getMatchingSchemas:n.getMatchingSchemas.bind(n),doResolve:r.doResolve.bind(r),doComplete:r.doComplete.bind(r),findDocumentSymbols:o.findDocumentSymbols.bind(o),findDocumentSymbols2:o.findDocumentSymbols2.bind(o),findDocumentColors:o.findDocumentColors.bind(o),getColorPresentations:o.getColorPresentations.bind(o),doHover:i.doHover.bind(i),getFoldingRanges:lf,getSelectionRanges:ff,findDefinition:()=>Promise.resolve([]),findLinks:df,format:(a,f,u)=>{let c;if(f){let p=a.offsetAt(f.start),v=a.offsetAt(f.end)-p;c={offset:p,length:v}}let m={tabSize:u?u.tabSize:4,insertSpaces:(u==null?void 0:u.insertSpaces)===!0,insertFinalNewline:(u==null?void 0:u.insertFinalNewline)===!0,eol:`
`,keepLines:(u==null?void 0:u.keepLines)===!0};return Nl(a.getText(),c,m).map(p=>O.TextEdit.replace(O.Range.create(a.positionAt(p.offset),a.positionAt(p.offset+p.length)),p.content))}}}function hf(e,t,n){let r={},i=0,o;return t>0&&(o=setInterval(()=>{let s=Date.now()-t*1e3,a=Object.keys(r);for(let f of a)r[f].cTime<s&&(delete r[f],i--)},t*1e3)),{get(s){let a=s.version,f=s.languageId,u=r[s.uri];if(u&&u.version===a&&u.languageId===f)return u.cTime=Date.now(),u.languageModel;let c=n(s);if(r[s.uri]={languageModel:c,version:a,languageId:f,cTime:Date.now()},u||i++,i===e){let m=Number.MAX_VALUE,p=null;for(let v in r){let y=r[v];y.cTime<m&&(p=v,m=y.cTime)}p&&(delete r[p],i--)}return c},onDocumentRemoved(s){let a=s.uri;r[a]&&(delete r[a],i--)},dispose(){typeof o!="undefined"&&(clearInterval(o),o=void 0,r={},i=0)}}}var ga;(function(t){t.type=new Ie.NotificationType("json/schemaAssociations")})(ga||(ga={}));var ma;(function(t){t.type=new Ie.RequestType("vscode/content")})(ma||(ma={}));var ya;(function(t){t.type=new Ie.NotificationType("json/schemaContent")})(ya||(ya={}));var va;(function(t){t.type=new Ie.RequestType("json/validate")})(va||(va={}));var ba;(function(t){t.type=new Ie.RequestType("json/languageStatus")})(ba||(ba={}));var pf={resolveRelativePath:(e,t)=>{let n=t.substring(0,t.lastIndexOf("/")+1);return of.resolvePath(Lt.parse(n),e).toString()}};function mf(e,t){function n(b=["https","http","file"]){let w={};for(let _ of b)_==="file"?w[_]=t.file:(_==="http"||_==="https")&&(w[_]=t.http);return _=>{let q=_.substr(0,_.indexOf(":")),I=w[q];return I?I.getContent(_):e.sendRequest(ma.type,_).then(R=>R,R=>Promise.reject(R.message))}}let r=pa({workspaceContext:pf,contributions:[],clientCapabilities:_i.LATEST}),i=new Ie.TextDocuments(Wn);i.listen(e);let o=!1,s=!1,a=!1,f=Number.MAX_VALUE,u=Number.MAX_VALUE,c=Number.MAX_VALUE,m=Number.MAX_VALUE,p;e.onInitialize(b=>{var L,U;let w=b.initializationOptions||{},_=w==null?void 0:w.handledSchemaProtocols;r=pa({schemaRequestService:n(_),workspaceContext:pf,contributions:[],clientCapabilities:b.capabilities});function q(ee,se){let A=ee.split("."),C=b.capabilities;for(let N=0;C&&N<A.length;N++){if(!C.hasOwnProperty(A[N]))return se;C=C[A[N]]}return C}return o=q("textDocument.completion.completionItem.snippetSupport",!1),s=q("textDocument.rangeFormatting.dynamicRegistration",!1)&&typeof w.provideFormatter!="boolean",f=q("textDocument.foldingRange.rangeLimit",Number.MAX_VALUE),a=q("textDocument.documentSymbol.hierarchicalDocumentSymbolSupport",!1),m=((U=(L=w.customCapabilities)==null?void 0:L.rangeFormatting)==null?void 0:U.editLimit)||Number.MAX_VALUE,q("textDocument.diagnostic",void 0)===void 0?p=Tl(i,e,t,l):p=_l(i,e,t,l),{capabilities:{textDocumentSync:Ie.TextDocumentSyncKind.Incremental,completionProvider:o?{resolveProvider:!1,triggerCharacters:['"',":"]}:void 0,hoverProvider:!0,documentSymbolProvider:!0,documentRangeFormattingProvider:w.provideFormatter===!0,documentFormattingProvider:w.provideFormatter===!0,colorProvider:{},foldingRangeProvider:!0,selectionRangeProvider:!0,documentLinkProvider:{},diagnosticProvider:{documentSelector:null,interFileDependencies:!1,workspaceDiagnostics:!1}}}});let v,y,S=null,D=!0,k=!1;e.onDidChangeConfiguration(b=>{var _,q,I,R,L,U,ee,se,A,C,N,M;let w=b.settings;if((I=t.configureHttpRequests)==null||I.call(t,(_=w==null?void 0:w.http)==null?void 0:_.proxy,!!((q=w.http)==null?void 0:q.proxyStrictSSL)),v=(R=w.json)==null?void 0:R.schemas,D=!!((U=(L=w.json)==null?void 0:L.validate)==null?void 0:U.enable),k=((se=(ee=w.json)==null?void 0:ee.keepLines)==null?void 0:se.enable)||!1,d(),u=Math.trunc(Math.max(((A=w.json)==null?void 0:A.resultLimit)||f,0)),c=Math.trunc(Math.max(((C=w.json)==null?void 0:C.resultLimit)||Number.MAX_VALUE,0)),s)if((M=(N=w.json)==null?void 0:N.format)==null?void 0:M.enable){if(!S){let G=[{language:"json"},{language:"jsonc"}];S=[e.client.register(Ie.DocumentRangeFormattingRequest.type,{documentSelector:G}),e.client.register(Ie.DocumentFormattingRequest.type,{documentSelector:G})]}}else S&&(S.forEach(G=>G.then(Z=>Z.dispose())),S=null)}),e.onNotification(ga.type,b=>{y=b,d()}),e.onNotification(ya.type,b=>{let w=!1;if(Array.isArray(b))for(let _ of b)r.resetSchema(_)&&(w=!0);else w=r.resetSchema(b);w&&(p==null||p.requestRefresh())}),e.onRequest(va.type,async b=>{let w=i.get(b);return w?(d(),await l(w)):[]}),e.onRequest(ba.type,async b=>{let w=i.get(b);if(w){let _=x(w);return r.getLanguageStatus(w,_)}else return{schemas:[]}});function d(){let b={validate:D,allowComments:!0,schemas:new Array};if(y)if(Array.isArray(y))Array.prototype.push.apply(b.schemas,y);else for(let w in y){let _=y[w];Array.isArray(_)&&_.forEach(q=>{b.schemas.push({uri:q,fileMatch:[w]})})}v&&v.forEach((w,_)=>{let q=w.url;!q&&w.schema&&(q=w.schema.id||`vscode://schemas/custom/${_}`),q&&b.schemas.push({uri:q,fileMatch:w.fileMatch,schema:w.schema})}),r.configure(b),p==null||p.requestRefresh()}async function l(b){if(b.getText().length===0)return[];let w=x(b),_=b.languageId==="jsonc"?{comments:"ignore",trailingCommas:"warning"}:{comments:"error",trailingCommas:"error"};return await r.doValidation(b,w,_)}e.onDidChangeWatchedFiles(b=>{let w=!1;b.changes.forEach(_=>{r.resetSchema(_.uri)&&(w=!0)}),w&&(p==null||p.requestRefresh())});let g=hf(10,60,b=>r.parseJSONDocument(b));i.onDidClose(b=>{g.onDocumentRemoved(b.document)}),e.onShutdown(()=>{g.dispose()});function x(b){return g.get(b)}e.onCompletion((b,w)=>ln(t,async()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.doComplete(_,b.position,q)}return null},null,`Error while computing completions for ${b.textDocument.uri}`,w)),e.onHover((b,w)=>ln(t,async()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.doHover(_,b.position,q)}return null},null,`Error while computing hover for ${b.textDocument.uri}`,w)),e.onDocumentSymbol((b,w)=>fn(t,()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return a?r.findDocumentSymbols2(_,q,{resultLimit:c}):r.findDocumentSymbols(_,q,{resultLimit:c})}return[]},[],`Error while computing document symbols for ${b.textDocument.uri}`,w));function E(b,w,_){_.keepLines=k;let q=i.get(b.uri);if(q){let I=r.format(q,w!=null?w:gf(q),_);if(I.length>m){let R=Wn.applyEdits(q,I);return[Ie.TextEdit.replace(gf(q),R)]}return I}return[]}e.onDocumentRangeFormatting((b,w)=>fn(t,()=>E(b.textDocument,b.range,b.options),[],`Error while formatting range for ${b.textDocument.uri}`,w)),e.onDocumentFormatting((b,w)=>fn(t,()=>E(b.textDocument,void 0,b.options),[],`Error while formatting ${b.textDocument.uri}`,w)),e.onDocumentColor((b,w)=>ln(t,async()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.findDocumentColors(_,q,{resultLimit:c})}return[]},[],`Error while computing document colors for ${b.textDocument.uri}`,w)),e.onColorPresentation((b,w)=>fn(t,()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.getColorPresentations(_,q,b.color,b.range)}return[]},[],`Error while computing color presentations for ${b.textDocument.uri}`,w)),e.onFoldingRanges((b,w)=>fn(t,()=>{let _=i.get(b.textDocument.uri);return _?r.getFoldingRanges(_,{rangeLimit:u}):null},null,`Error while computing folding ranges for ${b.textDocument.uri}`,w)),e.onSelectionRanges((b,w)=>fn(t,()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.getSelectionRanges(_,b.positions,q)}return[]},[],`Error while computing selection ranges for ${b.textDocument.uri}`,w)),e.onDocumentLinks((b,w)=>ln(t,async()=>{let _=i.get(b.textDocument.uri);if(_){let q=x(_);return r.findLinks(_,q)}return[]},[],`Error while computing links for ${b.textDocument.uri}`,w)),e.listen()}function gf(e){return O.Range.create(O.Position.create(0,0),e.positionAt(e.getText().length))}xf();
//# sourceMappingURL=server.js.map
